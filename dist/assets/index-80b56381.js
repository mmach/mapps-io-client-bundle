import{L as O,a as h,O as j,Q as T,S as E,R as c,M as g,X as y,U as B,l as S,G as _,j as t,a3 as R,i as U,r as F}from"./index-1a5b9518.js";import{C as D}from"./Google-536c3aba.js";import{d as V}from"./CloudUpload-00a7e0f4.js";import{r as z}from"./createSvgIcon-51564d9c.js";const P=a=>{const l={uploadBlob:e=>a(new j().commandThunt(T.Project.UPLOAD_BLOB,e)),getProjectInfo:e=>a(new j().queryThunt(E.Project.GET_PROJECT_INFO,e)),updateProject:e=>a(new j().commandThunt(T.Project.UPDATE_PROJECT,e))};return{...l,updateProject:async e=>(await l.updateProject(e),await l.getProjectInfo())}};function M(){const a=O(),l=h.useCallback(P(a).uploadBlob,[a]),e=h.useCallback(P(a).getProjectInfo,[a]),f=h.useCallback(P(a).updateProject,[a]);return{selectors:{},actions:{updateProject:f,getProjectInfo:e,uploadBlob:l},state:{},hooks:{},functions:{}}}function N({project:a}){const l=c.useMemo(g().Layouts.Sections.V1),e=c.useMemo(g().FormComponents.TextBox),f=c.useMemo(g().ButtonLoader),[s,o]=c.useState({id:y(),...a}),[u,m]=c.useState(!1),{translate:p,getLabel:i}=B(),{actions:{getProjectInfo:d,updateProject:v}}=M();h.useEffect(()=>{m(!0),d().then(r=>{o(r.data),m(!1)})},[]);function b(){m(!0),v(s).then(r=>{o(r.data),m(!1)})}return S(_,{container:!0,style:{justifyContent:"center"},children:[S(_,{container:!0,item:!0,style:{flexWrap:"nowrap"},children:[S(l,{title:"Project Settings",xs:9,sm:9,children:[t(e,{label:p(i,"Name"),value:s.name,onChange:r=>o({...s,name:r.target.value}),field:"name",validation:[]}),t(e,{label:p(i,"Base URL"),value:s.base_url,onChange:r=>o({...s,base_url:r.target.value}),field:"base_url",validation:[]}),t(e,{label:p(i,"Contact Mail"),value:s.contact_mail,onChange:r=>o({...s,contact_mail:r.target.value}),field:"contact_mail",validation:[]}),t(e,{label:p(i,"Auth URL"),value:s.auth_url,onChange:r=>o({...s,auth_url:r.target.value}),field:"auth_url",validation:[]}),t(e,{label:p(i,"Description"),value:s.description,onChange:r=>o({...s,description:r.target.value}),field:"description",validation:[]})]}),t(l,{title:"Color Settings",xs:3,sm:3,children:t(D,{disableAlpha:!0,color:s.theme_color?s.theme_color:"#666666",onChangeComplete:({hex:r})=>o({...s,theme_color:r})})})]}),t(f,{onClick:b,size:"md",color:"primary",value:p(i,"ACTION_BUTTON_SAVE"),isLoading:u})]})}function x({project_logo:a,project_logo_dest:l}){const e=c.useMemo(g().IconButton);let f;const[s,o]=c.useState([]),{actions:{uploadBlob:u}}=M();c.useEffect(()=>{o(a)},[a]);function m(){f.click()}function p(d){const v=d.target.files,b=[];for(let r=0;r<v.length;r++){const n=v[r],L=new window.FileReader;L.readAsDataURL(n),L.onload=()=>{const A={name:n.name,type:n.type,size:Math.round(n.size/1e3)+" kB",base64:L.result,file:n};if(b.push(A),b.length==v.length){const C={};C.id=y(),C.blob=b[0].base64.split("base64,")[1],C.type=b[0].type,C.dest=l,u(C),o(b[0])}}}}const i=a?window.env.BLOB_URL+"/blob/"+a.blob_id:"";return S(R,{children:[t(_,{onClick:m,style:{width:"inherit"},children:s==null?i?t("img",{src:i,style:{width:"inherit"}}):t(e,{children:t(V,{})}):t("img",{src:s.base64?s.base64:i,style:{width:"inherit"}})}),t("input",{type:"file",ref:d=>f=d,style:{display:"none"},onChange:p})]})}function q({project:a}){const l=c.useMemo(g().Layouts.Sections.V1),[e,f]=c.useState({id:y(),...a}),[s,o]=c.useState(!1),{actions:{getProjectInfo:u}}=M();return h.useEffect(()=>{o(!0),u().then(m=>{f(m.data),o(!1)})},[]),!s&&S(_,{container:!0,item:!0,style:{flexWrap:"nowrap"},children:[t(_,{container:!0,item:!0,xs:4,style:{justifyContent:"center"},children:t(l,{title:"Logo",children:t(x,{project_logo:e.logo,project_logo_dest:"blob_logo_id"})})}),t(_,{container:!0,item:!0,xs:4,style:{justifyContent:"center"},children:t(l,{title:"Logo Vertical",children:t(x,{project_logo:e.logo_ver,project_logo_dest:"blob_logo_ver_id"})})}),t(_,{container:!0,item:!0,xs:4,style:{justifyContent:"center"},children:t(l,{title:"Logo Horizontal",children:t(x,{project_logo:e.logo_hor,project_logo_dest:"blob_logo_hor_id"})})})]})}const k=a=>{const l={upsertSeo:e=>a(new j().commandThunt(T.Seo.UPSERT_SEO,e)),getSeo:e=>a(new j().queryThunt(E.Seo.GET_SEO,e))};return{...l,upsertSeo:async e=>(await l.upsertSeo(e),await l.getSeo())}};function G(){const a=O(),l=h.useCallback(k(a).upsertSeo,[a]),e=h.useCallback(k(a).getSeo,[a]);return{selectors:{},actions:{upsertSeo:l,getSeo:e},state:{},hooks:{},functions:{}}}function $({seo:a}){const l=c.useMemo(g().Layouts.Sections.V1),e=c.useMemo(g().FormComponents.TextBox),f=c.useMemo(g().FormComponents.Checkbox),s=c.useMemo(g().ButtonLoader),[o,u]=c.useState({id:y(),...a}),[m,p]=c.useState(!1),{translate:i,getLabel:d}=B(),{actions:{getSeo:v,upsertSeo:b}}=G();h.useEffect(()=>{p(!0),v().then(n=>{u(n.data[0]),p(!1)})},[]);function r(){p(!0),b(o).then(n=>{u(n.data[0]),p(!1)})}return S(_,{container:!0,style:{justifyContent:"center"},children:[S(l,{title:"Open Graph Settings",xs:12,sm:12,children:[t(e,{label:i(d,"Facebook App"),value:o.fb_app_id,onChange:n=>u({...o,fb_app_id:n.target.value}),field:"fb_app_id",validation:[]}),t(e,{label:i(d,"URL"),value:o.fb_url,onChange:n=>u({...o,fb_url:n.target.value}),field:"fb_url",validation:[]}),t(e,{label:i(d,"Title"),value:o.fb_title,onChange:n=>u({...o,fb_title:n.target.value}),field:"fb_title",validation:[]}),t(e,{label:i(d,"Type"),value:o.fb_type,onChange:n=>u({...o,fb_type:n.target.value}),field:"fb_type",validation:[]}),t(e,{label:i(d,"Image URL"),value:o.fb_image,onChange:n=>u({...o,fb_image:n.target.value}),field:"fb_image",validation:[]}),t(e,{label:i(d,"Description"),value:o.fb_description,onChange:n=>u({...o,fb_description:n.target.value}),field:"fb_description",validation:[]}),t(e,{label:i(d,"Site Name"),value:o.fb_site_name,onChange:n=>u({...o,fb_site_name:n.target.value}),field:"fb_site_name",validation:[]}),t(f,{label:i(d,"Sietmap generator"),value:o.sitemap_gen,onChange:n=>u({...o,sitemap_gen:n.target.checked})})]}),t(s,{onClick:r,size:"md",color:"primary",value:i(d,"ACTION_BUTTON_SAVE"),isLoading:m})]})}var w={},H=U;Object.defineProperty(w,"__esModule",{value:!0});var I=w.default=void 0,J=H(z()),Q=F,W=(0,J.default)((0,Q.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");I=w.default=W;function ee(){const a=c.useMemo(g().Layouts.Containers.V1),l=c.useMemo(g().Layouts.Tab.V1),{translate:e,getLabel:f}=B();return t(_,{container:!0,style:{justifyContent:"center"},children:t(a,{title:"Project Settings",icon:t(I,{}),xs:12,sm:12,children:t(l,{defaultTab:0,tabConfig:[{label:e(f,"Project"),render:()=>t(N,{})},{label:e(f,"SEO"),render:()=>t($,{})},{label:e(f,"LOGO"),render:()=>t(q,{})}]})})})}export{ee as default};
