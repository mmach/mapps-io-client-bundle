import{a as Ct,aB as Ve,aE as Es,aC as fr,bh as Yr,j as ce,bi as Jt,a4 as Tn,l as ft,R as Le,M as st,U as mn,V as xn,X as lr,a1 as sn,G as it,Z as As,W as ni,am as Ef,a3 as ur,Y as Af,bj as Mf}from"./index-1a5b9518.js";var Vt={},oi={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});var Wo=Ct;function Cf(x,L){return Wo.Children.map(Wo.Children.toArray(x).filter(function(o){return Boolean(o)}),function(o){return Wo.cloneElement(o,L)})}Xr.cloneItem=Cf;var ii={},kf=Ve&&Ve.__extends||function(){var x=function(L,o){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)a.hasOwnProperty(r)&&(n[r]=a[r])},x(L,o)};return function(L,o){x(L,o);function n(){this.constructor=L}L.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(ii,"__esModule",{value:!0});var Nf=Ct,Sf=Es,Pf=function(x){kf(L,x);function L(){var o=x!==null&&x.apply(this,arguments)||this;return o.state={canRender:!1},o.container={},o}return L.prototype.componentDidMount=function(){this.container=document.createElement("div"),document.body.appendChild(this.container),this.setState({canRender:!0})},L.prototype.componentWillUnmount=function(){document.body.removeChild(this.container)},L.prototype.render=function(){return this.state.canRender&&Sf.createPortal(this.props.children,this.container)},L}(Nf.PureComponent);ii.Portal=Pf;var jn={};Object.defineProperty(jn,"__esModule",{value:!0});jn.HIDE_ALL=0;jn.DISPLAY_MENU=function(x){return"DISPLAY_"+x};var $t={};Object.defineProperty($t,"__esModule",{value:!0});$t.styles={menu:"react-contexify",submenu:"react-contexify react-contexify__submenu",submenuArrow:"react-contexify__submenu-arrow",separator:"react-contexify__separator",item:"react-contexify__item",itemDisabled:"react-contexify__item--disabled",itemContent:"react-contexify__item__content",itemIcon:"react-contexify__item__icon",theme:"react-contexify__theme--",animationWillEnter:"react-contexify__will-enter--",animationWillLeave:"react-contexify__will-leave--"};$t.theme={light:"light",dark:"dark"};$t.animation={fade:"fade",flip:"flip",pop:"pop",zoom:"zoom"};var hr={};Object.defineProperty(hr,"__esModule",{value:!0});var Of={eventList:new Map,on:function(x,L){var o=this;return this.eventList.has(x)||this.eventList.set(x,new Set),this.eventList.get(x).add(L),function(){return o.eventList.get(x).delete(L)}},emit:function(x){for(var L=this,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];return this.eventList.has(x)?(this.eventList.get(x).forEach(function(a){return a.call.apply(a,[L].concat(o))}),!0):(console.warn("<"+x+"> Event is not registered. Did you forgot to bind the event ?"),!1)}};hr.eventManager=Of;var Tf=Ve&&Ve.__extends||function(){var x=function(L,o){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)a.hasOwnProperty(r)&&(n[r]=a[r])},x(L,o)};return function(L,o){x(L,o);function n(){this.constructor=L}L.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)}}(),ri=Ve&&Ve.__assign||function(){return ri=Object.assign||function(x){for(var L,o=1,n=arguments.length;o<n;o++){L=arguments[o];for(var a in L)Object.prototype.hasOwnProperty.call(L,a)&&(x[a]=L[a])}return x},ri.apply(this,arguments)},jf=Ve&&Ve.__importStar||function(x){if(x&&x.__esModule)return x;var L={};if(x!=null)for(var o in x)Object.hasOwnProperty.call(x,o)&&(L[o]=x[o]);return L.default=x,L},Ms=Ve&&Ve.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(oi,"__esModule",{value:!0});var Hr=jf(Ct),an=Ms(fr),Rf=Ms(Yr()),Lf=Xr,If=ii,Go=jn,Zo=$t,Ko=hr,ms={ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39},Df=function(x){Tf(L,x);function L(){var o=x!==null&&x.apply(this,arguments)||this;return o.state={x:0,y:0,visible:!1,nativeEvent:{},propsFromTrigger:{},onShown:null,onHidden:null},o.unsub=[],o.bindWindowEvent=function(){window.addEventListener("resize",o.hide),window.addEventListener("contextmenu",o.hide),window.addEventListener("mousedown",o.hide),window.addEventListener("click",o.hide),window.addEventListener("scroll",o.hide),window.addEventListener("keydown",o.handleKeyboard)},o.unBindWindowEvent=function(){window.removeEventListener("resize",o.hide),window.removeEventListener("contextmenu",o.hide),window.removeEventListener("mousedown",o.hide),window.removeEventListener("click",o.hide),window.removeEventListener("scroll",o.hide),window.removeEventListener("keydown",o.handleKeyboard)},o.onMouseEnter=function(){return window.removeEventListener("mousedown",o.hide)},o.onMouseLeave=function(){return window.addEventListener("mousedown",o.hide)},o.hide=function(n){var a=n;typeof a<"u"&&(a.button===2||a.ctrlKey===!0)&&a.type!=="contextmenu"||(o.unBindWindowEvent(),o.setState({visible:!1}))},o.handleKeyboard=function(n){(n.keyCode===ms.ENTER||n.keyCode===ms.ESC)&&(o.unBindWindowEvent(),o.setState({visible:!1}))},o.setRef=function(n){o.menuRef=n},o.show=function(n,a){n.stopPropagation(),Ko.eventManager.emit(Go.HIDE_ALL);var r=o.getMousePosition(n),u=r.x,s=r.y;o.setState({visible:!0,x:u,y:s,nativeEvent:n,propsFromTrigger:a},o.setMenuPosition)},o}return L.prototype.componentDidMount=function(){this.unsub.push(Ko.eventManager.on(Go.DISPLAY_MENU(this.props.id),this.show)),this.unsub.push(Ko.eventManager.on(Go.HIDE_ALL,this.hide))},L.prototype.componentWillUnmount=function(){this.unsub.forEach(function(o){return o()}),this.unBindWindowEvent()},L.prototype.componentDidUpdate=function(o,n){this.state.visible!==n.visible&&(this.state.visible&&this.props.onShown?this.props.onShown():!this.state.visible&&this.props.onHidden&&this.props.onHidden())},L.prototype.setMenuPosition=function(){var o=window.innerWidth,n=window.innerHeight,a=this.menuRef,r=a.offsetWidth,u=a.offsetHeight,s=this.state,c=s.x,f=s.y;c+r>o&&(c-=c+r-o),f+u>n&&(f-=f+u-n),this.setState({x:c,y:f},this.bindWindowEvent)},L.prototype.getMousePosition=function(o){var n={x:o.clientX,y:o.clientY};return o.type==="touchend"&&(!n.x||!n.y)&&o.changedTouches&&o.changedTouches.length>0&&(n.x=o.changedTouches[0].clientX,n.y=o.changedTouches[0].clientY),(!n.x||n.x<0)&&(n.x=0),(!n.y||n.y<0)&&(n.y=0),n},L.prototype.render=function(){var o,n=this.props,a=n.theme,r=n.animation,u=n.style,s=n.className,c=n.children,f=this.state,d=f.visible,g=f.nativeEvent,m=f.propsFromTrigger,_=f.x,R=f.y,C=Rf.default(Zo.styles.menu,s,(o={},o[Zo.styles.theme+a]=a,o[Zo.styles.animationWillEnter+r]=r,o)),k=ri({},u,{left:_,top:R+1,opacity:1});return Hr.default.createElement(If.Portal,null,d&&Hr.default.createElement("div",{className:C,style:k,ref:this.setRef,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},Hr.default.createElement("div",null,Lf.cloneItem(c,{nativeEvent:g,propsFromTrigger:m}))))},L.propTypes={id:an.default.oneOfType([an.default.string,an.default.number]).isRequired,children:an.default.node.isRequired,theme:an.default.string,animation:an.default.string,className:an.default.string,style:an.default.object},L}(Hr.Component);oi.Menu=Df;var ai={},Bf=Ve&&Ve.__extends||function(){var x=function(L,o){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)a.hasOwnProperty(r)&&(n[r]=a[r])},x(L,o)};return function(L,o){x(L,o);function n(){this.constructor=L}L.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vr=Ve&&Ve.__assign||function(){return Vr=Object.assign||function(x){for(var L,o=1,n=arguments.length;o<n;o++){L=arguments[o];for(var a in L)Object.prototype.hasOwnProperty.call(L,a)&&(x[a]=L[a])}return x},Vr.apply(this,arguments)},zf=Ve&&Ve.__importStar||function(x){if(x&&x.__esModule)return x;var L={};if(x!=null)for(var o in x)Object.hasOwnProperty.call(x,o)&&(L[o]=x[o]);return L.default=x,L},Cs=Ve&&Ve.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(ai,"__esModule",{value:!0});var Qo=zf(Ct),Ht=Cs(fr),Ff=Cs(Yr()),Jo=$t,Uf=function(){},qf=function(x){Bf(L,x);function L(o){var n=x.call(this,o)||this;n.handleClick=function(f){n.isDisabled?f.stopPropagation():n.props.onClick({event:n.props.nativeEvent,props:Vr({},n.props.propsFromTrigger,n.props.data)})};var a=n.props,r=a.disabled,u=a.nativeEvent,s=a.propsFromTrigger,c=a.data;return n.isDisabled=typeof r=="function"?r({event:u,props:Vr({},s,c)}):r,n}return L.prototype.render=function(){var o,n=this.props,a=n.className,r=n.style,u=n.children,s=Ff.default(Jo.styles.item,a,(o={},o[""+Jo.styles.itemDisabled]=this.isDisabled,o));return Qo.default.createElement("div",{className:s,style:r,onClick:this.handleClick,role:"presentation"},Qo.default.createElement("div",{className:Jo.styles.itemContent},u))},L.propTypes={children:Ht.default.node.isRequired,data:Ht.default.object,disabled:Ht.default.oneOfType([Ht.default.func,Ht.default.bool]),onClick:Ht.default.func,nativeEvent:Ht.default.object,propsFromTrigger:Ht.default.object,className:Ht.default.string,style:Ht.default.object},L.defaultProps={disabled:!1,onClick:Uf},L}(Qo.Component);ai.Item=qf;var si={},Hf=Ve&&Ve.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(si,"__esModule",{value:!0});var Vf=Hf(Ct),$f=$t;si.Separator=function(){return Vf.default.createElement("div",{className:$f.styles.separator})};var ui={},ci=Ve&&Ve.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(ui,"__esModule",{value:!0});var Yf=ci(Ct),ei=ci(fr),Xf=ci(Yr()),Wf=$t,ks=function(x){var L=x.className,o=x.style,n=x.children;return Yf.default.createElement("i",{className:Xf.default(Wf.styles.itemIcon,L),style:o},n||"")};ui.IconFont=ks;ks.propTypes={children:ei.default.node,className:ei.default.string,style:ei.default.object};var li={},Gf=Ve&&Ve.__extends||function(){var x=function(L,o){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)a.hasOwnProperty(r)&&(n[r]=a[r])},x(L,o)};return function(L,o){x(L,o);function n(){this.constructor=L}L.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)}}(),$r=Ve&&Ve.__assign||function(){return $r=Object.assign||function(x){for(var L,o=1,n=arguments.length;o<n;o++){L=arguments[o];for(var a in L)Object.prototype.hasOwnProperty.call(L,a)&&(x[a]=L[a])}return x},$r.apply(this,arguments)},Zf=Ve&&Ve.__importStar||function(x){if(x&&x.__esModule)return x;var L={};if(x!=null)for(var o in x)Object.hasOwnProperty.call(x,o)&&(L[o]=x[o]);return L.default=x,L},Ns=Ve&&Ve.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(li,"__esModule",{value:!0});var ir=Zf(Ct),Qt=Ns(fr),Kf=Ns(Yr()),Qf=Xr,ar=$t,Jf=function(x){Gf(L,x);function L(){var o=x!==null&&x.apply(this,arguments)||this;return o.state={left:"100%",top:0,bottom:"initial"},o.setRef=function(n){o.menu=n},o}return L.prototype.componentDidMount=function(){var o=window.innerWidth,n=window.innerHeight,a=this.menu.getBoundingClientRect(),r={};a.right<o?(r.left="100%",r.right=void 0):(r.right="100%",r.left=void 0),a.bottom>n?(r.bottom=0,r.top="initial"):(r.bottom="initial",r.top=0),this.setState(r)},L.prototype.handleClick=function(o){o.stopPropagation()},L.prototype.render=function(){var o,n=this.props,a=n.arrow,r=n.disabled,u=n.className,s=n.style,c=n.label,f=n.nativeEvent,d=n.children,g=n.propsFromTrigger,m=Kf.default(ar.styles.item,u,(o={},o[""+ar.styles.itemDisabled]=typeof r=="function"?r({event:f,props:$r({},g)}):r,o)),_=$r({},s,this.state);return ir.default.createElement("div",{className:m,role:"presentation"},ir.default.createElement("div",{className:ar.styles.itemContent,onClick:this.handleClick},c,ir.default.createElement("span",{className:ar.styles.submenuArrow},a)),ir.default.createElement("div",{className:ar.styles.submenu,ref:this.setRef,style:_},Qf.cloneItem(d,{propsFromTrigger:g,nativeEvent:f})))},L.propTypes={label:Qt.default.node.isRequired,children:Qt.default.node.isRequired,nativeEvent:Qt.default.object,arrow:Qt.default.node,disabled:Qt.default.oneOfType([Qt.default.func,Qt.default.bool]),className:Qt.default.string,style:Qt.default.object},L.defaultProps={arrow:"â–¶",disabled:!1,nativeEvent:{}},L}(ir.Component);li.Submenu=Jf;var fi={},eh=Ve&&Ve.__extends||function(){var x=function(L,o){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)a.hasOwnProperty(r)&&(n[r]=a[r])},x(L,o)};return function(L,o){x(L,o);function n(){this.constructor=L}L.prototype=o===null?Object.create(o):(n.prototype=o.prototype,new n)}}(),cr=Ve&&Ve.__assign||function(){return cr=Object.assign||function(x){for(var L,o=1,n=arguments.length;o<n;o++){L=arguments[o];for(var a in L)Object.prototype.hasOwnProperty.call(L,a)&&(x[a]=L[a])}return x},cr.apply(this,arguments)},th=Ve&&Ve.__rest||function(x,L){var o={};for(var n in x)Object.prototype.hasOwnProperty.call(x,n)&&L.indexOf(n)<0&&(o[n]=x[n]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(x);a<n.length;a++)L.indexOf(n[a])<0&&(o[n[a]]=x[n[a]]);return o},nh=Ve&&Ve.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(fi,"__esModule",{value:!0});var sr=Ct,Tt=nh(fr),rh=jn,oh=hr,ih=function(x){eh(L,x);function L(){var o=x!==null&&x.apply(this,arguments)||this;return o.childrenRefs=[],o.handleEvent=function(n){n.preventDefault(),n.stopPropagation(),oh.eventManager.emit(rh.DISPLAY_MENU(o.props.id),n.nativeEvent,cr({ref:o.childrenRefs.length===1?o.childrenRefs[0]:o.childrenRefs},o.props.data))},o.setChildRef=function(n){return n===null||o.childrenRefs.push(n)},o}return L.prototype.getChildren=function(){var o=this,n=this.props;n.id,n.component,n.event;var a=n.children;n.className,n.style;var r=n.storeRef;n.data;var u=th(n,["id","component","event","children","className","style","storeRef","data"]);return this.childrenRefs=[],sr.Children.map(a,function(s){return sr.isValidElement(s)?sr.cloneElement(s,cr({},u,r?{ref:o.setChildRef}:{})):s})},L.prototype.render=function(){var o,n=this.props,a=n.component,r=n.render,u=n.event,s=n.className,c=n.style,f=(o={},o[u]=this.handleEvent,o.className=s,o.style=c,o);return typeof r=="function"?r(cr({},f,{children:this.getChildren()})):sr.createElement(a,f,this.getChildren())},L.propTypes={id:Tt.default.oneOfType([Tt.default.string,Tt.default.number]).isRequired,children:Tt.default.node.isRequired,component:Tt.default.oneOfType([Tt.default.node,Tt.default.func]),render:Tt.default.func,event:Tt.default.string,className:Tt.default.string,style:Tt.default.object,storeRef:Tt.default.bool,data:Tt.default.object},L.defaultProps={component:"div",event:"onContextMenu",storeRef:!0},L}(sr.Component);fi.MenuProvider=ih;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});var ws=hr,bs=jn,ah={show:function(x){var L=x.id,o=x.event,n=x.props;ws.eventManager.emit(bs.DISPLAY_MENU(L),o.nativeEvent||o,n)},hideAll:function(){ws.eventManager.emit(bs.HIDE_ALL)}};hi.contextMenu=ah;Object.defineProperty(Vt,"__esModule",{value:!0});var sh=oi,Ss=Vt.Menu=sh.Menu,uh=ai,vn=Vt.Item=uh.Item,ch=si,lh=Vt.Separator=ch.Separator,fh=ui;Vt.IconFont=fh.IconFont;var hh=li,ph=Vt.Submenu=hh.Submenu,dh=fi;Vt.MenuProvider=dh.MenuProvider;var yh=hi,_s=Vt.contextMenu=yh.contextMenu,Ps=$t;Vt.theme=Ps.theme;Vt.animation=Ps.animation;/*! For license information please see main.min.js.LICENSE.txt */var gh=function(x){var L={};function o(n){if(L[n])return L[n].exports;var a=L[n]={i:n,l:!1,exports:{}};return x[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=x,o.c=L,o.d=function(n,a,r){o.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:r})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,a){if(1&a&&(n=o(n)),8&a||4&a&&typeof n=="object"&&n&&n.__esModule)return n;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&a&&typeof n!="string")for(var u in n)o.d(r,u,function(s){return n[s]}.bind(null,u));return r},o.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(a,"a",a),a},o.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},o.p="/dist/",o(o.s=399)}([function(x,L){x.exports=Ct},function(x,L,o){var n;try{n={cloneDeep:o(313),constant:o(75),defaults:o(314),each:o(107),filter:o(110),find:o(315),flatten:o(137),forEach:o(108),forIn:o(320),has:o(121),isUndefined:o(122),last:o(321),map:o(123),mapValues:o(322),max:o(323),merge:o(325),min:o(331),minBy:o(332),now:o(333),pick:o(334),range:o(339),reduce:o(125),sortBy:o(342),uniqueId:o(347),values:o(130),zipObject:o(348)}}catch{}n||(n=window._),x.exports=n},function(x,L){var o=Array.isArray;x.exports=o},function(x,L,o){var n=o(1),a=o(7).Graph;function r(s,c,f,d){var g;do g=n.uniqueId(d);while(s.hasNode(g));return f.dummy=c,s.setNode(g,f),g}function u(s){return n.max(n.map(s.nodes(),function(c){var f=s.node(c).rank;if(!n.isUndefined(f))return f}))}x.exports={addDummyNode:r,simplify:function(s){var c=new a().setGraph(s.graph());return n.forEach(s.nodes(),function(f){c.setNode(f,s.node(f))}),n.forEach(s.edges(),function(f){var d=c.edge(f.v,f.w)||{weight:0,minlen:1},g=s.edge(f);c.setEdge(f.v,f.w,{weight:d.weight+g.weight,minlen:Math.max(d.minlen,g.minlen)})}),c},asNonCompoundGraph:function(s){var c=new a({multigraph:s.isMultigraph()}).setGraph(s.graph());return n.forEach(s.nodes(),function(f){s.children(f).length||c.setNode(f,s.node(f))}),n.forEach(s.edges(),function(f){c.setEdge(f,s.edge(f))}),c},successorWeights:function(s){var c=n.map(s.nodes(),function(f){var d={};return n.forEach(s.outEdges(f),function(g){d[g.w]=(d[g.w]||0)+s.edge(g).weight}),d});return n.zipObject(s.nodes(),c)},predecessorWeights:function(s){var c=n.map(s.nodes(),function(f){var d={};return n.forEach(s.inEdges(f),function(g){d[g.v]=(d[g.v]||0)+s.edge(g).weight}),d});return n.zipObject(s.nodes(),c)},intersectRect:function(s,c){var f,d,g=s.x,m=s.y,_=c.x-g,R=c.y-m,C=s.width/2,k=s.height/2;if(!_&&!R)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(R)*C>Math.abs(_)*k?(R<0&&(k=-k),f=k*_/R,d=k):(_<0&&(C=-C),f=C,d=C*R/_),{x:g+f,y:m+d}},buildLayerMatrix:function(s){var c=n.map(n.range(u(s)+1),function(){return[]});return n.forEach(s.nodes(),function(f){var d=s.node(f),g=d.rank;n.isUndefined(g)||(c[g][d.order]=f)}),c},normalizeRanks:function(s){var c=n.min(n.map(s.nodes(),function(f){return s.node(f).rank}));n.forEach(s.nodes(),function(f){var d=s.node(f);n.has(d,"rank")&&(d.rank-=c)})},removeEmptyRanks:function(s){var c=n.min(n.map(s.nodes(),function(m){return s.node(m).rank})),f=[];n.forEach(s.nodes(),function(m){var _=s.node(m).rank-c;f[_]||(f[_]=[]),f[_].push(m)});var d=0,g=s.graph().nodeRankFactor;n.forEach(f,function(m,_){n.isUndefined(m)&&_%g!=0?--d:d&&n.forEach(m,function(R){s.node(R).rank+=d})})},addBorderNode:function(s,c,f,d){var g={width:0,height:0};return arguments.length>=4&&(g.rank=f,g.order=d),r(s,"border",g,c)},maxRank:u,partition:function(s,c){var f={lhs:[],rhs:[]};return n.forEach(s,function(d){c(d)?f.lhs.push(d):f.rhs.push(d)}),f},time:function(s,c){var f=n.now();try{return c()}finally{console.log(s+" time: "+(n.now()-f)+"ms")}},notime:function(s,c){return c()}}},function(x,L,o){L.Point2D=o(379),L.Vector2D=o(380),L.Matrix2D=o(381)},function(x,L,o){var n;try{n={clone:o(200),constant:o(75),each:o(107),filter:o(110),has:o(121),isArray:o(2),isEmpty:o(277),isFunction:o(26),isUndefined:o(122),keys:o(12),map:o(123),reduce:o(125),size:o(280),transform:o(286),union:o(287),values:o(130)}}catch{}n||(n=window._),x.exports=n},function(x,L){x.exports=function(o){var n=typeof o;return o!=null&&(n=="object"||n=="function")}},function(x,L,o){var n;try{n=o(198)}catch{}n||(n=window.graphlib),x.exports=n},function(x,L,o){var n=o(90),a=typeof self=="object"&&self&&self.Object===Object&&self,r=n||a||Function("return this")();x.exports=r},function(x,L){x.exports=function(o){return o!=null&&typeof o=="object"}},function(x,L,o){var n=o(26),a=o(69);x.exports=function(r){return r!=null&&a(r.length)&&!n(r)}},function(x,L,o){var n=o(257),a=o(267),r=o(18),u=o(2),s=o(274);x.exports=function(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?u(c)?a(c[0],c[1]):n(c):s(c)}},function(x,L,o){var n=o(93),a=o(71),r=o(10);x.exports=function(u){return r(u)?n(u):a(u)}},function(x,L,o){L.intersect=o(373),L.shape=o(144).newShape},,function(x,L,o){var n=o(211),a=o(217);x.exports=function(r,u){var s=a(r,u);return n(s)?s:void 0}},function(x,L,o){var n=o(21),a=o(213),r=o(214),u=n?n.toStringTag:void 0;x.exports=function(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":u&&u in Object(s)?a(s):r(s)}},function(x,L,o){var n=o(93),a=o(237),r=o(10);x.exports=function(u){return r(u)?n(u,!0):a(u)}},function(x,L){x.exports=function(o){return o}},,function(x,L){x.exports=function(o,n){return o===n||o!=o&&n!=n}},function(x,L,o){var n=o(8).Symbol;x.exports=n},function(x,L,o){(function(n){var a=o(8),r=o(233),u=L&&!L.nodeType&&L,s=u&&typeof n=="object"&&n&&!n.nodeType&&n,c=s&&s.exports===u?a.Buffer:void 0,f=(c?c.isBuffer:void 0)||r;n.exports=f}).call(this,o(68)(x))},function(x,L,o){var n=o(242),a=o(65),r=o(243),u=o(102),s=o(244),c=o(16),f=o(91),d="[object Map]",g="[object Promise]",m="[object Set]",_="[object WeakMap]",R="[object DataView]",C=f(n),k=f(a),M=f(r),I=f(u),S=f(s),P=c;(n&&P(new n(new ArrayBuffer(1)))!=R||a&&P(new a)!=d||r&&P(r.resolve())!=g||u&&P(new u)!=m||s&&P(new s)!=_)&&(P=function(v){var b=c(v),A=b=="[object Object]"?v.constructor:void 0,O=A?f(A):"";if(O)switch(O){case C:return R;case k:return d;case M:return g;case I:return m;case S:return _}return b}),x.exports=P},function(x,L,o){var n=o(16),a=o(9);x.exports=function(r){return typeof r=="symbol"||a(r)&&n(r)=="[object Symbol]"}},function(x,L,o){x.exports={graphlib:o(7),layout:o(312),debug:o(371),util:{time:o(3).time,notime:o(3).notime},version:o(372)}},function(x,L,o){var n=o(16),a=o(6);x.exports=function(r){if(!a(r))return!1;var u=n(r);return u=="[object Function]"||u=="[object GeneratorFunction]"||u=="[object AsyncFunction]"||u=="[object Proxy]"}},function(x,L,o){var n=o(41),a=o(42);x.exports=function(r,u,s,c){var f=!s;s||(s={});for(var d=-1,g=u.length;++d<g;){var m=u[d],_=c?c(s[m],r[m],m,s,r):void 0;_===void 0&&(_=r[m]),f?a(s,m,_):n(s,m,_)}return s}},function(x,L,o){var n=o(232),a=o(9),r=Object.prototype,u=r.hasOwnProperty,s=r.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(f){return a(f)&&u.call(f,"callee")&&!s.call(f,"callee")};x.exports=c},function(x,L,o){var n=o(234),a=o(44),r=o(70),u=r&&r.isTypedArray,s=u?a(u):n;x.exports=s},function(x,L,o){var n=o(24);x.exports=function(a){if(typeof a=="string"||n(a))return a;var r=a+"";return r=="0"&&1/a==-1/0?"-0":r}},function(x,L,o){L.Point2D=o(374),L.Vector2D=o(375),L.Matrix2D=o(376)},function(x,L,o){x.exports=function(n){var a=[];return a.toString=function(){return this.map(function(r){var u=function(s,c){var f=s[1]||"",d=s[3];if(!d)return f;if(c&&typeof btoa=="function"){var g=(_=d,R=btoa(unescape(encodeURIComponent(JSON.stringify(_)))),C="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(R),"/*# ".concat(C," */")),m=d.sources.map(function(k){return"/*# sourceURL=".concat(d.sourceRoot||"").concat(k," */")});return[f].concat(m).concat([g]).join(`
`)}var _,R,C;return[f].join(`
`)}(r,n);return r[2]?"@media ".concat(r[2]," {").concat(u,"}"):u}).join("")},a.i=function(r,u,s){typeof r=="string"&&(r=[[null,r,""]]);var c={};if(s)for(var f=0;f<this.length;f++){var d=this[f][0];d!=null&&(c[d]=!0)}for(var g=0;g<r.length;g++){var m=[].concat(r[g]);s&&c[m[0]]||(u&&(m[2]?m[2]="".concat(u," and ").concat(m[2]):m[2]=u),a.push(m))}},a}},,,,function(x,L,o){var n=o(37),a=o(206),r=o(207),u=o(208),s=o(209),c=o(210);function f(d){var g=this.__data__=new n(d);this.size=g.size}f.prototype.clear=a,f.prototype.delete=r,f.prototype.get=u,f.prototype.has=s,f.prototype.set=c,x.exports=f},function(x,L,o){var n=o(201),a=o(202),r=o(203),u=o(204),s=o(205);function c(f){var d=-1,g=f==null?0:f.length;for(this.clear();++d<g;){var m=f[d];this.set(m[0],m[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=r,c.prototype.has=u,c.prototype.set=s,x.exports=c},function(x,L,o){var n=o(20);x.exports=function(a,r){for(var u=a.length;u--;)if(n(a[u][0],r))return u;return-1}},function(x,L,o){var n=o(15)(Object,"create");x.exports=n},function(x,L,o){var n=o(226);x.exports=function(a,r){var u=a.__data__;return n(r)?u[typeof r=="string"?"string":"hash"]:u.map}},function(x,L,o){var n=o(42),a=o(20),r=Object.prototype.hasOwnProperty;x.exports=function(u,s,c){var f=u[s];r.call(u,s)&&a(f,c)&&(c!==void 0||s in u)||n(u,s,c)}},function(x,L,o){var n=o(92);x.exports=function(a,r,u){r=="__proto__"&&n?n(a,r,{configurable:!0,enumerable:!0,value:u,writable:!0}):a[r]=u}},function(x,L){var o=/^(?:0|[1-9]\d*)$/;x.exports=function(n,a){var r=typeof n;return!!(a=a??9007199254740991)&&(r=="number"||r!="symbol"&&o.test(n))&&n>-1&&n%1==0&&n<a}},function(x,L){x.exports=function(o){return function(n){return o(n)}}},function(x,L){var o=Object.prototype;x.exports=function(n){var a=n&&n.constructor;return n===(typeof a=="function"&&a.prototype||o)}},function(x,L,o){var n=o(94)(Object.getPrototypeOf,Object);x.exports=n},function(x,L,o){var n=o(76),a=o(255)(n);x.exports=a},function(x,L,o){var n=o(49),a=o(30);x.exports=function(r,u){for(var s=0,c=(u=n(u,r)).length;r!=null&&s<c;)r=r[a(u[s++])];return s&&s==c?r:void 0}},function(x,L,o){var n=o(2),a=o(79),r=o(269),u=o(117);x.exports=function(s,c){return n(s)?s:a(s,c)?[s]:r(u(s))}},function(x,L){x.exports=function(o,n){for(var a=-1,r=o==null?0:o.length,u=Array(r);++a<r;)u[a]=n(o[a],a,o);return u}},function(x,L,o){var n=o(18),a=o(126),r=o(127);x.exports=function(u,s){return r(a(u,s,n),u+"")}},function(x,L,o){var n=o(20),a=o(10),r=o(43),u=o(6);x.exports=function(s,c,f){if(!u(f))return!1;var d=typeof c;return!!(d=="number"?a(f)&&r(c,f.length):d=="string"&&c in f)&&n(f[c],s)}},function(x,L,o){var n=o(1);x.exports={longestPath:function(a){var r={};n.forEach(a.sources(),function u(s){var c=a.node(s);if(n.has(r,s))return c.rank;r[s]=!0;var f=n.min(n.map(a.outEdges(s),function(d){return u(d.w)-a.edge(d).minlen}));return f!==Number.POSITIVE_INFINITY&&f!=null||(f=0),c.rank=f})},slack:function(a,r){return a.node(r.w).rank-a.node(r.v).rank-a.edge(r).minlen}}},function(x,L){x.exports=Es},,,,,,,function(x,L,o){var n=o(62),a=o(63);typeof(a=a.__esModule?a.default:a)=="string"&&(a=[[x.i,a,""]]);var r={insert:"head",singleton:!1};n(a,r),x.exports=a.locals||{}},function(x,L,o){var n,a=function(){return n===void 0&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var M={};return function(I){if(M[I]===void 0){var S=document.querySelector(I);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}M[I]=S}return M[I]}}(),u=[];function s(M){for(var I=-1,S=0;S<u.length;S++)if(u[S].identifier===M){I=S;break}return I}function c(M,I){for(var S={},P=[],v=0;v<M.length;v++){var b=M[v],A=I.base?b[0]+I.base:b[0],O=S[A]||0,T="".concat(A," ").concat(O);S[A]=O+1;var B=s(T),F={css:b[1],media:b[2],sourceMap:b[3]};B!==-1?(u[B].references++,u[B].updater(F)):u.push({identifier:T,updater:k(F,I),references:1}),P.push(T)}return P}function f(M){var I=document.createElement("style"),S=M.attributes||{};if(S.nonce===void 0){var P=o.nc;P&&(S.nonce=P)}if(Object.keys(S).forEach(function(b){I.setAttribute(b,S[b])}),typeof M.insert=="function")M.insert(I);else{var v=r(M.insert||"head");if(!v)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");v.appendChild(I)}return I}var d,g=(d=[],function(M,I){return d[M]=I,d.filter(Boolean).join(`
`)});function m(M,I,S,P){var v=S?"":P.media?"@media ".concat(P.media," {").concat(P.css,"}"):P.css;if(M.styleSheet)M.styleSheet.cssText=g(I,v);else{var b=document.createTextNode(v),A=M.childNodes;A[I]&&M.removeChild(A[I]),A.length?M.insertBefore(b,A[I]):M.appendChild(b)}}function _(M,I,S){var P=S.css,v=S.media,b=S.sourceMap;if(v?M.setAttribute("media",v):M.removeAttribute("media"),b&&typeof btoa<"u"&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),M.styleSheet)M.styleSheet.cssText=P;else{for(;M.firstChild;)M.removeChild(M.firstChild);M.appendChild(document.createTextNode(P))}}var R=null,C=0;function k(M,I){var S,P,v;if(I.singleton){var b=C++;S=R||(R=f(I)),P=m.bind(null,S,b,!1),v=m.bind(null,S,b,!0)}else S=f(I),P=_.bind(null,S,I),v=function(){(function(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A)})(S)};return P(M),function(A){if(A){if(A.css===M.css&&A.media===M.media&&A.sourceMap===M.sourceMap)return;P(M=A)}else v()}}x.exports=function(M,I){(I=I||{}).singleton||typeof I.singleton=="boolean"||(I.singleton=a());var S=c(M=M||[],I);return function(P){if(P=P||[],Object.prototype.toString.call(P)==="[object Array]"){for(var v=0;v<S.length;v++){var b=s(S[v]);u[b].references--}for(var A=c(P,I),O=0;O<S.length;O++){var T=s(S[O]);u[T].references===0&&(u[T].updater(),u.splice(T,1))}S=A}}}},function(x,L,o){o.r(L);var n=o(32),a=o.n(n)()(!0);a.push([x.i,`.view-wrapper{height:100%;width:100%;margin:0;display:flex;box-shadow:none;background:#f9f9f9;transition:opacity 0.167s;opacity:1;outline:none;user-select:none;position:relative}.view-wrapper>.graph{align-content:stretch;flex:1;width:100%;height:100%}.view-wrapper .node .shape>use.node{color:#1e90ff;stroke:#000;fill:#fff;filter:url(#dropshadow);stroke-width:0.5px;cursor:pointer;user-select:none}.view-wrapper .node .shape>use.node.hovered{stroke:#1e90ff}.view-wrapper .node .shape>use.node.selected{color:#fff;stroke:#1e90ff;stroke-width:1px;fill:#1e90ff}.view-wrapper .node .node-text{fill:#000;cursor:pointer;user-select:none}.view-wrapper .node .node-text.selected{fill:#fff;stroke:#fff}.view-wrapper .edge{color:#fff;stroke:#1e90ff;stroke-width:2px;marker-end:url(#end-arrow);cursor:pointer}.view-wrapper .edge .edge-text{stroke-width:0.5px;fill:#1e90ff;stroke:#1e90ff;cursor:pointer;user-select:none}.view-wrapper .edge .edge-text.edge-label-text{font-size:11px;stroke:none;fill:black}.view-wrapper .edge.selected{color:#1e90ff;stroke:#1e90ff}.view-wrapper .edge.selected .edge-text{fill:#fff;stroke:#fff}.view-wrapper .edge-mouse-handler{stroke:black;opacity:0;color:transparent;stroke-width:15px;cursor:pointer;pointer-events:all}.view-wrapper .arrow{fill:#1e90ff}.view-wrapper .graph-controls{position:absolute;bottom:30px;left:15px;display:grid;grid-template-columns:auto auto auto;grid-gap:15px;align-items:center;user-select:none}.view-wrapper .graph-controls>.slider-wrapper{background-color:#fff;color:#1e90ff;border:solid 1px #d3d3d3;padding:6.5px;border-radius:2px}.view-wrapper .graph-controls>.slider-wrapper>span{display:inline-block;vertical-align:top;margin-top:4px}.view-wrapper .graph-controls>.slider-wrapper>.slider{position:relative;margin-left:4px;margin-right:4px;cursor:pointer}.view-wrapper .graph-controls .slider-button{background-color:#fff;fill:#1e90ff;border:solid 1px #d3d3d3;outline:none;width:31px;height:31px;border-radius:2px;cursor:pointer;margin:0}.view-wrapper .circle{fill:#d3d3d3}
`,"",{version:3,sources:["webpack://styles/main.scss"],names:[],mappings:"AAuBA,cACE,WAAY,CACZ,UAAW,CACX,QAAS,CACT,YAAa,CACb,eAAgB,CAChB,kBATwB,CAUxB,yBAA0B,CAC1B,SAAU,CACV,YAAa,CACb,gBAAiB,CACjB,iBAAkB,CAXpB,qBAcI,qBAAsB,CACtB,MAAO,CACP,UAAW,CACX,WAAY,CAjBhB,oCAuBQ,aA9BkB,CA+BlB,WA7BU,CA8BV,SA/BW,CAgCX,uBAAwB,CACxB,kBAAmB,CACnB,cAAe,CACf,gBAAiB,CA7BzB,4CAgCU,cAvCgB,CAO1B,6CAmCU,UAzCS,CA0CT,cA3CgB,CA4ChB,gBAAiB,CACjB,YA7CgB,CAO1B,+BA4CM,SAjDY,CAkDZ,cAAe,CACf,gBAAiB,CA9CvB,wCAgDQ,SAtDW,CAuDX,WAvDW,CAMnB,oBAuDI,UA7De,CA8Df,cA/DsB,CAgEtB,gBAAiB,CACjB,0BAA2B,CAC3B,cAAe,CA3DnB,+BA8DM,kBAAmB,CACnB,YAtEoB,CAuEpB,cAvEoB,CAyEpB,cAAe,CACf,gBAAiB,CAnEvB,+CAsEQ,cAAe,CACf,WAAY,CACZ,UAAW,CAxEnB,6BA6EM,aApFoB,CAqFpB,cArFoB,CAO1B,wCAiFQ,SAvFW,CAwFX,WAxFW,CAMnB,kCAwFI,YAAa,CACb,SAAU,CACV,iBAAkB,CAClB,iBAAkB,CAClB,cAAe,CACf,kBAAmB,CA7FvB,qBAiGI,YAxGsB,CAO1B,8BAqGI,iBAAkB,CAClB,WAAY,CACZ,SAAU,CACV,YAAa,CACb,oCAAqC,CACrC,aAAc,CACd,kBAAmB,CACnB,gBAAiB,CA5GrB,8CA+GM,qBArHa,CAsHb,aAvHoB,CAwHpB,wBArHgB,CAsHhB,aAAc,CACd,iBAAkB,CAnHxB,mDAsHQ,oBAAqB,CACrB,kBAAmB,CACnB,cAAe,CAxHvB,sDA4HQ,iBAAkB,CAClB,eAAgB,CAChB,gBAAiB,CACjB,cAAe,CA/HvB,6CAoIM,qBA1Ia,CA2Ib,YA5IoB,CA6IpB,wBA1IgB,CA2IhB,YAAa,CACb,UA1IY,CA2IZ,WA3IY,CA4IZ,iBAAkB,CAClB,cAAe,CACf,QAAS,CA5If,sBAiJI,YArJkB",sourcesContent:[`/*
  Copyright(c) 2018 Uber Technologies, Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/

$primary-color: dodgerblue;
$light-color: white;
$dark-color: black;
$light-grey: lightgrey;
$background-color: #f9f9f9;
$button-size: 31px;

.view-wrapper {
  height: 100%;
  width: 100%;
  margin: 0;
  display: flex;
  box-shadow: none;
  background: $background-color;
  transition: opacity 0.167s;
  opacity: 1;
  outline: none;
  user-select: none;
  position: relative;

  > .graph {
    align-content: stretch;
    flex: 1;
    width: 100%;
    height: 100%;
  }

  .node {
    .shape {
      > use.node {
        color: $primary-color;
        stroke: $dark-color;
        fill: $light-color;
        filter: url(#dropshadow);
        stroke-width: 0.5px;
        cursor: pointer;
        user-select: none;

        &.hovered {
          stroke: $primary-color;
        }
        &.selected {
          color: $light-color;
          stroke: $primary-color;
          stroke-width: 1px;
          fill: $primary-color;
        }
      }
    }

    .node-text {
      fill: $dark-color;
      cursor: pointer;
      user-select: none;
      &.selected {
        fill: $light-color;
        stroke: $light-color;
      }
    }
  }

  .edge {
    color: $light-color;
    stroke: $primary-color;
    stroke-width: 2px;
    marker-end: url(#end-arrow);
    cursor: pointer;

    .edge-text {
      stroke-width: 0.5px;
      fill: $primary-color;
      stroke: $primary-color;

      cursor: pointer;
      user-select: none;

      &.edge-label-text {
        font-size: 11px; 
        stroke: none;
        fill: black;
      }
    }

    &.selected {
      color: $primary-color;
      stroke: $primary-color;

      .edge-text {
        fill: $light-color;
        stroke: $light-color;
      }
    }
  }

  .edge-mouse-handler {
    stroke: black;
    opacity: 0;
    color: transparent;
    stroke-width: 15px;
    cursor: pointer;
    pointer-events: all;
  }

  .arrow {
    fill: $primary-color;
  }

  .graph-controls {
    position: absolute;
    bottom: 30px;
    left: 15px;
    display: grid;
    grid-template-columns: auto auto auto;
    grid-gap: 15px;
    align-items: center;
    user-select: none;

    > .slider-wrapper {
      background-color: $light-color;
      color: $primary-color;
      border: solid 1px $light-grey;
      padding: 6.5px;
      border-radius: 2px;

      > span {
        display: inline-block;
        vertical-align: top;
        margin-top: 4px;
      }

      > .slider {
        position: relative;
        margin-left: 4px;
        margin-right: 4px;
        cursor: pointer;
      }
    }

    .slider-button {
      background-color: $light-color;
      fill: $primary-color;
      border: solid 1px $light-grey;
      outline: none;
      width: $button-size;
      height: $button-size;
      border-radius: 2px;
      cursor: pointer;
      margin: 0;
    }
  }

  .circle {
    fill: $light-grey;
  }
}
`],sourceRoot:""}]),L.default=a},function(x,L,o){var n=o(5);x.exports=r;var a="\0";function r(g){this._isDirected=!n.has(g,"directed")||g.directed,this._isMultigraph=!!n.has(g,"multigraph")&&g.multigraph,this._isCompound=!!n.has(g,"compound")&&g.compound,this._label=void 0,this._defaultNodeLabelFn=n.constant(void 0),this._defaultEdgeLabelFn=n.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function u(g,m){g[m]?g[m]++:g[m]=1}function s(g,m){--g[m]||delete g[m]}function c(g,m,_,R){var C=""+m,k=""+_;if(!g&&C>k){var M=C;C=k,k=M}return C+""+k+""+(n.isUndefined(R)?"\0":R)}function f(g,m,_,R){var C=""+m,k=""+_;if(!g&&C>k){var M=C;C=k,k=M}var I={v:C,w:k};return R&&(I.name=R),I}function d(g,m){return c(g,m.v,m.w,m.name)}r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(g){return this._label=g,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(g){return n.isFunction(g)||(g=n.constant(g)),this._defaultNodeLabelFn=g,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return n.keys(this._nodes)},r.prototype.sources=function(){var g=this;return n.filter(this.nodes(),function(m){return n.isEmpty(g._in[m])})},r.prototype.sinks=function(){var g=this;return n.filter(this.nodes(),function(m){return n.isEmpty(g._out[m])})},r.prototype.setNodes=function(g,m){var _=arguments,R=this;return n.each(g,function(C){_.length>1?R.setNode(C,m):R.setNode(C)}),this},r.prototype.setNode=function(g,m){return n.has(this._nodes,g)?(arguments.length>1&&(this._nodes[g]=m),this):(this._nodes[g]=arguments.length>1?m:this._defaultNodeLabelFn(g),this._isCompound&&(this._parent[g]=a,this._children[g]={},this._children["\0"][g]=!0),this._in[g]={},this._preds[g]={},this._out[g]={},this._sucs[g]={},++this._nodeCount,this)},r.prototype.node=function(g){return this._nodes[g]},r.prototype.hasNode=function(g){return n.has(this._nodes,g)},r.prototype.removeNode=function(g){var m=this;if(n.has(this._nodes,g)){var _=function(R){m.removeEdge(m._edgeObjs[R])};delete this._nodes[g],this._isCompound&&(this._removeFromParentsChildList(g),delete this._parent[g],n.each(this.children(g),function(R){m.setParent(R)}),delete this._children[g]),n.each(n.keys(this._in[g]),_),delete this._in[g],delete this._preds[g],n.each(n.keys(this._out[g]),_),delete this._out[g],delete this._sucs[g],--this._nodeCount}return this},r.prototype.setParent=function(g,m){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n.isUndefined(m))m=a;else{for(var _=m+="";!n.isUndefined(_);_=this.parent(_))if(_===g)throw new Error("Setting "+m+" as parent of "+g+" would create a cycle");this.setNode(m)}return this.setNode(g),this._removeFromParentsChildList(g),this._parent[g]=m,this._children[m][g]=!0,this},r.prototype._removeFromParentsChildList=function(g){delete this._children[this._parent[g]][g]},r.prototype.parent=function(g){if(this._isCompound){var m=this._parent[g];if(m!==a)return m}},r.prototype.children=function(g){if(n.isUndefined(g)&&(g=a),this._isCompound){var m=this._children[g];if(m)return n.keys(m)}else{if(g===a)return this.nodes();if(this.hasNode(g))return[]}},r.prototype.predecessors=function(g){var m=this._preds[g];if(m)return n.keys(m)},r.prototype.successors=function(g){var m=this._sucs[g];if(m)return n.keys(m)},r.prototype.neighbors=function(g){var m=this.predecessors(g);if(m)return n.union(m,this.successors(g))},r.prototype.isLeaf=function(g){return(this.isDirected()?this.successors(g):this.neighbors(g)).length===0},r.prototype.filterNodes=function(g){var m=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});m.setGraph(this.graph());var _=this;n.each(this._nodes,function(k,M){g(M)&&m.setNode(M,k)}),n.each(this._edgeObjs,function(k){m.hasNode(k.v)&&m.hasNode(k.w)&&m.setEdge(k,_.edge(k))});var R={};function C(k){var M=_.parent(k);return M===void 0||m.hasNode(M)?(R[k]=M,M):M in R?R[M]:C(M)}return this._isCompound&&n.each(m.nodes(),function(k){m.setParent(k,C(k))}),m},r.prototype.setDefaultEdgeLabel=function(g){return n.isFunction(g)||(g=n.constant(g)),this._defaultEdgeLabelFn=g,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return n.values(this._edgeObjs)},r.prototype.setPath=function(g,m){var _=this,R=arguments;return n.reduce(g,function(C,k){return R.length>1?_.setEdge(C,k,m):_.setEdge(C,k),k}),this},r.prototype.setEdge=function(){var g,m,_,R,C=!1,k=arguments[0];typeof k=="object"&&k!==null&&"v"in k?(g=k.v,m=k.w,_=k.name,arguments.length===2&&(R=arguments[1],C=!0)):(g=k,m=arguments[1],_=arguments[3],arguments.length>2&&(R=arguments[2],C=!0)),g=""+g,m=""+m,n.isUndefined(_)||(_=""+_);var M=c(this._isDirected,g,m,_);if(n.has(this._edgeLabels,M))return C&&(this._edgeLabels[M]=R),this;if(!n.isUndefined(_)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(g),this.setNode(m),this._edgeLabels[M]=C?R:this._defaultEdgeLabelFn(g,m,_);var I=f(this._isDirected,g,m,_);return g=I.v,m=I.w,Object.freeze(I),this._edgeObjs[M]=I,u(this._preds[m],g),u(this._sucs[g],m),this._in[m][M]=I,this._out[g][M]=I,this._edgeCount++,this},r.prototype.edge=function(g,m,_){var R=arguments.length===1?d(this._isDirected,arguments[0]):c(this._isDirected,g,m,_);return this._edgeLabels[R]},r.prototype.hasEdge=function(g,m,_){var R=arguments.length===1?d(this._isDirected,arguments[0]):c(this._isDirected,g,m,_);return n.has(this._edgeLabels,R)},r.prototype.removeEdge=function(g,m,_){var R=arguments.length===1?d(this._isDirected,arguments[0]):c(this._isDirected,g,m,_),C=this._edgeObjs[R];return C&&(g=C.v,m=C.w,delete this._edgeLabels[R],delete this._edgeObjs[R],s(this._preds[m],g),s(this._sucs[g],m),delete this._in[m][R],delete this._out[g][R],this._edgeCount--),this},r.prototype.inEdges=function(g,m){var _=this._in[g];if(_){var R=n.values(_);return m?n.filter(R,function(C){return C.v===m}):R}},r.prototype.outEdges=function(g,m){var _=this._out[g];if(_){var R=n.values(_);return m?n.filter(R,function(C){return C.w===m}):R}},r.prototype.nodeEdges=function(g,m){var _=this.inEdges(g,m);if(_)return _.concat(this.outEdges(g,m))}},function(x,L,o){var n=o(15)(o(8),"Map");x.exports=n},function(x,L,o){var n=o(218),a=o(225),r=o(227),u=o(228),s=o(229);function c(f){var d=-1,g=f==null?0:f.length;for(this.clear();++d<g;){var m=f[d];this.set(m[0],m[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=r,c.prototype.has=u,c.prototype.set=s,x.exports=c},function(x,L){x.exports=function(o,n){for(var a=-1,r=o==null?0:o.length;++a<r&&n(o[a],a,o)!==!1;);return o}},function(x,L){x.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(x,L){x.exports=function(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=9007199254740991}},function(x,L,o){(function(n){var a=o(90),r=L&&!L.nodeType&&L,u=r&&typeof n=="object"&&n&&!n.nodeType&&n,s=u&&u.exports===r&&a.process,c=function(){try{var f=u&&u.require&&u.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();n.exports=c}).call(this,o(68)(x))},function(x,L,o){var n=o(45),a=o(235),r=Object.prototype.hasOwnProperty;x.exports=function(u){if(!n(u))return a(u);var s=[];for(var c in Object(u))r.call(u,c)&&c!="constructor"&&s.push(c);return s}},function(x,L,o){var n=o(97),a=o(98),r=Object.prototype.propertyIsEnumerable,u=Object.getOwnPropertySymbols,s=u?function(c){return c==null?[]:(c=Object(c),n(u(c),function(f){return r.call(c,f)}))}:a;x.exports=s},function(x,L){x.exports=function(o,n){for(var a=-1,r=n.length,u=o.length;++a<r;)o[u+a]=n[a];return o}},function(x,L,o){var n=o(103);x.exports=function(a){var r=new a.constructor(a.byteLength);return new n(r).set(new n(a)),r}},function(x,L){x.exports=function(o){return function(){return o}}},function(x,L,o){var n=o(77),a=o(12);x.exports=function(r,u){return r&&n(r,u,a)}},function(x,L,o){var n=o(254)();x.exports=n},function(x,L){x.exports=function(o){var n=-1,a=Array(o.size);return o.forEach(function(r){a[++n]=r}),a}},function(x,L,o){var n=o(2),a=o(24),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;x.exports=function(s,c){if(n(s))return!1;var f=typeof s;return!(f!="number"&&f!="symbol"&&f!="boolean"&&s!=null&&!a(s))||u.test(s)||!r.test(s)||c!=null&&s in Object(c)}},function(x,L,o){var n=o(73),a=o(288);x.exports=function r(u,s,c,f,d){var g=-1,m=u.length;for(c||(c=a),d||(d=[]);++g<m;){var _=u[g];s>0&&c(_)?s>1?r(_,s-1,c,f,d):n(d,_):f||(d[d.length]=_)}return d}},function(x,L,o){var n=o(24);x.exports=function(a,r,u){for(var s=-1,c=a.length;++s<c;){var f=a[s],d=r(f);if(d!=null&&(g===void 0?d==d&&!n(d):u(d,g)))var g=d,m=f}return m}},function(x,L,o){function n(a,r){this.init(a,r)}n.prototype.init=function(a,r){this.name=a,this.args=r},x.exports=n},function(x,L,o){var n=o(0),a=/-([a-z])/g,r=/^--[a-zA-Z0-9-]+$|^[^-]+$/,u=n.version.split(".")[0]>=16;x.exports={PRESERVE_CUSTOM_ATTRIBUTES:u,camelCase:function(s){if(typeof s!="string")throw new TypeError("First argument must be a string");return r.test(s)?s:s.toLowerCase().replace(a,function(c,f){return f.toUpperCase()})},invertObject:function(s,c){if(!s||typeof s!="object")throw new TypeError("First argument must be an object");var f,d,g=typeof c=="function",m={},_={};for(f in s)d=s[f],g&&(m=c(f,d))&&m.length===2?_[m[0]]=m[1]:typeof d=="string"&&(_[d]=f);return _},isCustomComponent:function(s,c){if(s.indexOf("-")===-1)return c&&typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}}},,,,,,function(x,L,o){var n=o(36),a=o(67),r=o(41),u=o(230),s=o(236),c=o(95),f=o(96),d=o(239),g=o(240),m=o(100),_=o(241),R=o(23),C=o(245),k=o(246),M=o(105),I=o(2),S=o(22),P=o(250),v=o(6),b=o(252),A=o(12),O=o(17),T="[object Arguments]",B="[object Function]",F="[object Object]",j={};j[T]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[F]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[B]=j["[object WeakMap]"]=!1,x.exports=function V(K,J,Y,X,W,G){var ne,ue=1&J,re=2&J,pe=4&J;if(Y&&(ne=W?Y(K,X,W,G):Y(K)),ne!==void 0)return ne;if(!v(K))return K;var ae=I(K);if(ae){if(ne=C(K),!ue)return f(K,ne)}else{var me=R(K),Q=me==B||me=="[object GeneratorFunction]";if(S(K))return c(K,ue);if(me==F||me==T||Q&&!W){if(ne=re||Q?{}:M(K),!ue)return re?g(K,s(ne,K)):d(K,u(ne,K))}else{if(!j[me])return W?K:{};ne=k(K,me,ue)}}G||(G=new n);var le=G.get(K);if(le)return le;G.set(K,ne),b(K)?K.forEach(function(be){ne.add(V(be,J,Y,be,K,G))}):P(K)&&K.forEach(function(be,ke){ne.set(ke,V(be,J,Y,ke,K,G))});var Z=ae?void 0:(pe?re?_:m:re?O:A)(K);return a(Z||K,function(be,ke){Z&&(be=K[ke=be]),r(ne,ke,V(be,J,Y,ke,K,G))}),ne}},function(x,L,o){(function(n){var a=typeof n=="object"&&n&&n.Object===Object&&n;x.exports=a}).call(this,o(212))},function(x,L){var o=Function.prototype.toString;x.exports=function(n){if(n!=null){try{return o.call(n)}catch{}try{return n+""}catch{}}return""}},function(x,L,o){var n=o(15),a=function(){try{var r=n(Object,"defineProperty");return r({},"",{}),r}catch{}}();x.exports=a},function(x,L,o){var n=o(231),a=o(28),r=o(2),u=o(22),s=o(43),c=o(29),f=Object.prototype.hasOwnProperty;x.exports=function(d,g){var m=r(d),_=!m&&a(d),R=!m&&!_&&u(d),C=!m&&!_&&!R&&c(d),k=m||_||R||C,M=k?n(d.length,String):[],I=M.length;for(var S in d)!g&&!f.call(d,S)||k&&(S=="length"||R&&(S=="offset"||S=="parent")||C&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||s(S,I))||M.push(S);return M}},function(x,L){x.exports=function(o,n){return function(a){return o(n(a))}}},function(x,L,o){(function(n){var a=o(8),r=L&&!L.nodeType&&L,u=r&&typeof n=="object"&&n&&!n.nodeType&&n,s=u&&u.exports===r?a.Buffer:void 0,c=s?s.allocUnsafe:void 0;n.exports=function(f,d){if(d)return f.slice();var g=f.length,m=c?c(g):new f.constructor(g);return f.copy(m),m}}).call(this,o(68)(x))},function(x,L){x.exports=function(o,n){var a=-1,r=o.length;for(n||(n=Array(r));++a<r;)n[a]=o[a];return n}},function(x,L){x.exports=function(o,n){for(var a=-1,r=o==null?0:o.length,u=0,s=[];++a<r;){var c=o[a];n(c,a,o)&&(s[u++]=c)}return s}},function(x,L){x.exports=function(){return[]}},function(x,L,o){var n=o(73),a=o(46),r=o(72),u=o(98),s=Object.getOwnPropertySymbols?function(c){for(var f=[];c;)n(f,r(c)),c=a(c);return f}:u;x.exports=s},function(x,L,o){var n=o(101),a=o(72),r=o(12);x.exports=function(u){return n(u,r,a)}},function(x,L,o){var n=o(73),a=o(2);x.exports=function(r,u,s){var c=u(r);return a(r)?c:n(c,s(r))}},function(x,L,o){var n=o(15)(o(8),"Set");x.exports=n},function(x,L,o){var n=o(8).Uint8Array;x.exports=n},function(x,L,o){var n=o(74);x.exports=function(a,r){var u=r?n(a.buffer):a.buffer;return new a.constructor(u,a.byteOffset,a.length)}},function(x,L,o){var n=o(106),a=o(46),r=o(45);x.exports=function(u){return typeof u.constructor!="function"||r(u)?{}:n(a(u))}},function(x,L,o){var n=o(6),a=Object.create,r=function(){function u(){}return function(s){if(!n(s))return{};if(a)return a(s);u.prototype=s;var c=new u;return u.prototype=void 0,c}}();x.exports=r},function(x,L,o){x.exports=o(108)},function(x,L,o){var n=o(67),a=o(47),r=o(109),u=o(2);x.exports=function(s,c){return(u(s)?n:a)(s,r(c))}},function(x,L,o){var n=o(18);x.exports=function(a){return typeof a=="function"?a:n}},function(x,L,o){var n=o(97),a=o(256),r=o(11),u=o(2);x.exports=function(s,c){return(u(s)?n:a)(s,r(c,3))}},function(x,L,o){var n=o(259),a=o(9);x.exports=function r(u,s,c,f,d){return u===s||(u==null||s==null||!a(u)&&!a(s)?u!=u&&s!=s:n(u,s,c,f,r,d))}},function(x,L,o){var n=o(113),a=o(262),r=o(114);x.exports=function(u,s,c,f,d,g){var m=1&c,_=u.length,R=s.length;if(_!=R&&!(m&&R>_))return!1;var C=g.get(u),k=g.get(s);if(C&&k)return C==s&&k==u;var M=-1,I=!0,S=2&c?new n:void 0;for(g.set(u,s),g.set(s,u);++M<_;){var P=u[M],v=s[M];if(f)var b=m?f(v,P,M,s,u,g):f(P,v,M,u,s,g);if(b!==void 0){if(b)continue;I=!1;break}if(S){if(!a(s,function(A,O){if(!r(S,O)&&(P===A||d(P,A,c,f,g)))return S.push(O)})){I=!1;break}}else if(P!==v&&!d(P,v,c,f,g)){I=!1;break}}return g.delete(u),g.delete(s),I}},function(x,L,o){var n=o(66),a=o(260),r=o(261);function u(s){var c=-1,f=s==null?0:s.length;for(this.__data__=new n;++c<f;)this.add(s[c])}u.prototype.add=u.prototype.push=a,u.prototype.has=r,x.exports=u},function(x,L){x.exports=function(o,n){return o.has(n)}},function(x,L,o){var n=o(6);x.exports=function(a){return a==a&&!n(a)}},function(x,L){x.exports=function(o,n){return function(a){return a!=null&&a[o]===n&&(n!==void 0||o in Object(a))}}},function(x,L,o){var n=o(272);x.exports=function(a){return a==null?"":n(a)}},function(x,L,o){var n=o(273),a=o(119);x.exports=function(r,u){return r!=null&&a(r,u,n)}},function(x,L,o){var n=o(49),a=o(28),r=o(2),u=o(43),s=o(69),c=o(30);x.exports=function(f,d,g){for(var m=-1,_=(d=n(d,f)).length,R=!1;++m<_;){var C=c(d[m]);if(!(R=f!=null&&g(f,C)))break;f=f[C]}return R||++m!=_?R:!!(_=f==null?0:f.length)&&s(_)&&u(C,_)&&(r(f)||a(f))}},function(x,L){x.exports=function(o){return function(n){return n==null?void 0:n[o]}}},function(x,L,o){var n=o(276),a=o(119);x.exports=function(r,u){return r!=null&&a(r,u,n)}},function(x,L){x.exports=function(o){return o===void 0}},function(x,L,o){var n=o(50),a=o(11),r=o(124),u=o(2);x.exports=function(s,c){return(u(s)?n:r)(s,a(c,3))}},function(x,L,o){var n=o(47),a=o(10);x.exports=function(r,u){var s=-1,c=a(r)?Array(r.length):[];return n(r,function(f,d,g){c[++s]=u(f,d,g)}),c}},function(x,L,o){var n=o(278),a=o(47),r=o(11),u=o(279),s=o(2);x.exports=function(c,f,d){var g=s(c)?n:u,m=arguments.length<3;return g(c,r(f,4),d,m,a)}},function(x,L,o){var n=o(289),a=Math.max;x.exports=function(r,u,s){return u=a(u===void 0?r.length-1:u,0),function(){for(var c=arguments,f=-1,d=a(c.length-u,0),g=Array(d);++f<d;)g[f]=c[u+f];f=-1;for(var m=Array(u+1);++f<u;)m[f]=c[f];return m[u]=s(g),n(r,this,m)}}},function(x,L,o){var n=o(290),a=o(291)(n);x.exports=a},function(x,L){x.exports=function(o,n,a,r){for(var u=o.length,s=a+(r?1:-1);r?s--:++s<u;)if(n(o[s],s,o))return s;return-1}},function(x,L,o){var n=o(10),a=o(9);x.exports=function(r){return a(r)&&n(r)}},function(x,L,o){var n=o(300),a=o(12);x.exports=function(r){return r==null?[]:n(r,a(r))}},function(x,L,o){var n=o(5),a=o(132);x.exports=function(u,s,c,f){return function(d,g,m,_){var R,C,k={},M=new a,I=function(S){var P=S.v!==R?S.v:S.w,v=k[P],b=m(S),A=C.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+S+" Weight: "+b);A<v.distance&&(v.distance=A,v.predecessor=R,M.decrease(P,A))};for(d.nodes().forEach(function(S){var P=S===g?0:Number.POSITIVE_INFINITY;k[S]={distance:P},M.add(S,P)});M.size()>0&&(R=M.removeMin(),(C=k[R]).distance!==Number.POSITIVE_INFINITY);)_(R).forEach(I);return k}(u,String(s),c||r,f||function(d){return u.outEdges(d)})};var r=n.constant(1)},function(x,L,o){var n=o(5);function a(){this._arr=[],this._keyIndices={}}x.exports=a,a.prototype.size=function(){return this._arr.length},a.prototype.keys=function(){return this._arr.map(function(r){return r.key})},a.prototype.has=function(r){return n.has(this._keyIndices,r)},a.prototype.priority=function(r){var u=this._keyIndices[r];if(u!==void 0)return this._arr[u].priority},a.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},a.prototype.add=function(r,u){var s=this._keyIndices;if(r=String(r),!n.has(s,r)){var c=this._arr,f=c.length;return s[r]=f,c.push({key:r,priority:u}),this._decrease(f),!0}return!1},a.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},a.prototype.decrease=function(r,u){var s=this._keyIndices[r];if(u>this._arr[s].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[s].priority+" New: "+u);this._arr[s].priority=u,this._decrease(s)},a.prototype._heapify=function(r){var u=this._arr,s=2*r,c=s+1,f=r;s<u.length&&(f=u[s].priority<u[f].priority?s:f,c<u.length&&(f=u[c].priority<u[f].priority?c:f),f!==r&&(this._swap(r,f),this._heapify(f)))},a.prototype._decrease=function(r){for(var u,s=this._arr,c=s[r].priority;r!==0&&!(s[u=r>>1].priority<c);)this._swap(r,u),r=u},a.prototype._swap=function(r,u){var s=this._arr,c=this._keyIndices,f=s[r],d=s[u];s[r]=d,s[u]=f,c[d.key]=r,c[f.key]=u}},function(x,L,o){var n=o(5);x.exports=function(a){var r=0,u=[],s={},c=[];function f(d){var g=s[d]={onStack:!0,lowlink:r,index:r++};if(u.push(d),a.successors(d).forEach(function(R){n.has(s,R)?s[R].onStack&&(g.lowlink=Math.min(g.lowlink,s[R].index)):(f(R),g.lowlink=Math.min(g.lowlink,s[R].lowlink))}),g.lowlink===g.index){var m,_=[];do m=u.pop(),s[m].onStack=!1,_.push(m);while(d!==m);c.push(_)}}return a.nodes().forEach(function(d){n.has(s,d)||f(d)}),c}},function(x,L,o){var n=o(5);function a(u){var s={},c={},f=[];if(n.each(u.sinks(),function d(g){if(n.has(c,g))throw new r;n.has(s,g)||(c[g]=!0,s[g]=!0,n.each(u.predecessors(g),d),delete c[g],f.push(g))}),n.size(s)!==u.nodeCount())throw new r;return f}function r(){}x.exports=a,a.CycleException=r,r.prototype=new Error},function(x,L,o){var n=o(5);function a(r,u,s,c,f,d){n.has(c,u)||(c[u]=!0,s||d.push(u),n.each(f(u),function(g){a(r,g,s,c,f,d)}),s&&d.push(u))}x.exports=function(r,u,s){n.isArray(u)||(u=[u]);var c=(r.isDirected()?r.successors:r.neighbors).bind(r),f=[],d={};return n.each(u,function(g){if(!r.hasNode(g))throw new Error("Graph does not have node: "+g);a(r,g,s==="post",d,c,f)}),f}},function(x,L,o){var n=o(319),a=1/0;x.exports=function(r){return r?(r=n(r))===a||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:r===0?r:0}},function(x,L,o){var n=o(80);x.exports=function(a){return a!=null&&a.length?n(a,1):[]}},function(x,L,o){var n=o(42),a=o(20);x.exports=function(r,u,s){(s!==void 0&&!a(r[u],s)||s===void 0&&!(u in r))&&n(r,u,s)}},function(x,L){x.exports=function(o,n){if((n!=="constructor"||typeof o[n]!="function")&&n!="__proto__")return o[n]}},function(x,L){x.exports=function(o,n){return o<n}},function(x,L,o){var n=o(1),a=o(7).Graph,r=o(53).slack;function u(f,d){return n.forEach(f.nodes(),function g(m){n.forEach(d.nodeEdges(m),function(_){var R=_.v,C=m===R?_.w:R;f.hasNode(C)||r(d,_)||(f.setNode(C,{}),f.setEdge(m,C,{}),g(C))})}),f.nodeCount()}function s(f,d){return n.minBy(d.edges(),function(g){if(f.hasNode(g.v)!==f.hasNode(g.w))return r(d,g)})}function c(f,d,g){n.forEach(f.nodes(),function(m){d.node(m).rank+=g})}x.exports=function(f){var d,g,m=new a({directed:!1}),_=f.nodes()[0],R=f.nodeCount();for(m.setNode(_,{});u(m,f)<R;)d=s(m,f),g=m.hasNode(d.v)?r(f,d):-r(f,d),c(m,f,g);return m}},function(x,L,o){L.Polynomial=o(143),L.SqrtPolynomial=o(377)},function(x,L,o){function n(){this.init(arguments)}n.TOLERANCE=1e-6,n.ACCURACY=15,n.interpolate=function(r,u,s,c,f){if(r.constructor!==Array||u.constructor!==Array)throw new Error("Polynomial.interpolate: xs and ys must be arrays");if(isNaN(s)||isNaN(c)||isNaN(f))throw new Error("Polynomial.interpolate: n, offset, and x must be numbers");for(var d=0,g=0,m=new Array(s),_=new Array(s),R=0,C=Math.abs(f-r[c]),k=0;k<s;k++){var M=Math.abs(f-r[c+k]);M<C&&(R=k,C=M),m[k]=_[k]=u[c+k]}d=u[c+R],R--;for(var I=1;I<s;I++){for(k=0;k<s-I;k++){var S=r[c+k]-f,P=r[c+k+I]-f,v=m[k+1]-_[k],b=S-P;if(b==0)break;b=v/b,_[k]=P*b,m[k]=S*b}d+=g=2*(R+1)<s-I?m[R+1]:_[R--]}return{y:d,dy:g}},n.prototype.init=function(r){this.coefs=new Array;for(var u=r.length-1;u>=0;u--)this.coefs.push(r[u]);this._variable="t",this._s=0},n.prototype.eval=function(r){if(isNaN(r))throw new Error("Polynomial.eval: parameter must be a number");for(var u=0,s=this.coefs.length-1;s>=0;s--)u=u*r+this.coefs[s];return u},n.prototype.add=function(r){for(var u=new n,s=this.getDegree(),c=r.getDegree(),f=Math.max(s,c),d=0;d<=f;d++){var g=d<=s?this.coefs[d]:0,m=d<=c?r.coefs[d]:0;u.coefs[d]=g+m}return u},n.prototype.multiply=function(r){for(var u=new n,s=0;s<=this.getDegree()+r.getDegree();s++)u.coefs.push(0);for(s=0;s<=this.getDegree();s++)for(var c=0;c<=r.getDegree();c++)u.coefs[s+c]+=this.coefs[s]*r.coefs[c];return u},n.prototype.divide_scalar=function(r){for(var u=0;u<this.coefs.length;u++)this.coefs[u]/=r},n.prototype.simplify=function(){for(var r=this.getDegree();r>=0&&Math.abs(this.coefs[r])<=1e-15;r--)this.coefs.pop()},n.prototype.bisection=function(r,u){var s,c=this.eval(r),f=this.eval(u);if(Math.abs(c)<=n.TOLERANCE)s=r;else if(Math.abs(f)<=n.TOLERANCE)s=u;else if(c*f<=0)for(var d=Math.log(u-r),g=Math.LN10*n.ACCURACY,m=Math.ceil((d+g)/Math.LN2),_=0;_<m;_++){s=.5*(r+u);var R=this.eval(s);if(Math.abs(R)<=n.TOLERANCE)break;R*c<0?(u=s,f=R):(r=s,c=R)}return s},n.prototype.toString=function(){for(var r=new Array,u=new Array,s=this.coefs.length-1;s>=0;s--){var c=Math.round(1e3*this.coefs[s])/1e3;if(c!=0){var f=c<0?" - ":" + ";c=Math.abs(c),s>0&&(c==1?c=this._variable:c+=this._variable),s>1&&(c+="^"+s),u.push(f),r.push(c)}}u[0]=u[0]==" + "?"":"-";var d="";for(s=0;s<r.length;s++)d+=u[s]+r[s];return d},n.prototype.trapezoid=function(r,u,s){if(isNaN(r)||isNaN(u)||isNaN(s))throw new Error("Polynomial.trapezoid: parameters must be numbers");var c=u-r;if(s==1){var f=this.eval(r),d=this.eval(u);this._s=.5*c*(f+d)}else{for(var g=1<<s-2,m=c/g,_=r+.5*m,R=0,C=0;C<g;C++)R+=this.eval(_),_+=m;this._s=.5*(this._s+c*R/g)}if(isNaN(this._s))throw new Error("Polynomial.trapezoid: this._s is NaN");return this._s},n.prototype.simpson=function(r,u){if(isNaN(r)||isNaN(u))throw new Error("Polynomial.simpson: parameters must be numbers");for(var s=u-r,c=.5*s*(this.eval(r)+this.eval(u)),f=c,d=4*c/3,g=d,m=c,_=1,R=2;R<=20;R++){for(var C=s/_,k=r+.5*C,M=0,I=1;I<=_;I++)M+=this.eval(k),k+=C;if(d=(4*(c=f=.5*(f+s*M/_))-m)/3,Math.abs(d-g)<1e-7*Math.abs(g))break;g=d,m=c,_<<=1}return d},n.prototype.romberg=function(r,u){if(isNaN(r)||isNaN(u))throw new Error("Polynomial.romberg: parameters must be numbers");var s=new Array(21),c=new Array(21),f={y:0,dy:0};c[0]=1;for(var d=1;d<=20&&(s[d-1]=this.trapezoid(r,u,d),!(d>=3&&(f=n.interpolate(c,s,3,d-3,0),Math.abs(f.dy)<=1e-6*f.y)));d++)s[d]=s[d-1],c[d]=.25*c[d-1];return f.y},n.prototype.getDegree=function(){return this.coefs.length-1},n.prototype.getDerivative=function(){for(var r=new n,u=1;u<this.coefs.length;u++)r.coefs.push(u*this.coefs[u]);return r},n.prototype.getRoots=function(){var r;switch(this.simplify(),this.getDegree()){case 0:r=new Array;break;case 1:r=this.getLinearRoot();break;case 2:r=this.getQuadraticRoots();break;case 3:r=this.getCubicRoots();break;case 4:r=this.getQuarticRoots();break;default:r=new Array}return r},n.prototype.getRootsInInterval=function(r,u){var s,c=new Array;if(this.getDegree()==1)(s=this.bisection(r,u))!=null&&c.push(s);else{var f=this.getDerivative().getRootsInInterval(r,u);if(f.length>0){for((s=this.bisection(r,f[0]))!=null&&c.push(s),i=0;i<=f.length-2;i++)(s=this.bisection(f[i],f[i+1]))!=null&&c.push(s);(s=this.bisection(f[f.length-1],u))!=null&&c.push(s)}else(s=this.bisection(r,u))!=null&&c.push(s)}return c},n.prototype.getLinearRoot=function(){var r=new Array,u=this.coefs[1];return u!=0&&r.push(-this.coefs[0]/u),r},n.prototype.getQuadraticRoots=function(){var r=new Array;if(this.getDegree()==2){var u=this.coefs[2],s=this.coefs[1]/u,c=s*s-4*(this.coefs[0]/u);if(c>0){var f=Math.sqrt(c);r.push(.5*(-s+f)),r.push(.5*(-s-f))}else c==0&&r.push(.5*-s)}return r},n.prototype.getCubicRoots=function(){var r=new Array;if(this.getDegree()==3){var u=this.coefs[3],s=this.coefs[2]/u,c=this.coefs[1]/u,f=(3*c-s*s)/3,d=(2*s*s*s-9*c*s+27*(this.coefs[0]/u))/27,g=s/3,m=d*d/4+f*f*f/27,_=d/2,R=this.zeroErrorEstimate();if(Math.abs(m)<=R&&(m=0),m>0){var C,k=Math.sqrt(m);C=(b=-_+k)>=0?Math.pow(b,1/3):-Math.pow(-b,1/3),(b=-_-k)>=0?C+=Math.pow(b,1/3):C-=Math.pow(-b,1/3),r.push(C-g)}else if(m<0){var M=Math.sqrt(-f/3),I=Math.atan2(Math.sqrt(-m),-_)/3,S=Math.cos(I),P=Math.sin(I),v=Math.sqrt(3);r.push(2*M*S-g),r.push(-M*(S+v*P)-g),r.push(-M*(S-v*P)-g)}else{var b;b=_>=0?-Math.pow(_,1/3):Math.pow(-_,1/3),r.push(2*b-g),r.push(-b-g)}}return r};var a=function(r){return typeof r=="number"?r?r<0?-1:1:r==r?r:NaN:NaN};n.prototype.getQuarticRoots=function(){var r=[],u=this.getDegree();if(u==4){var s=new n;s.coefs=this.coefs.slice(),s.divide_scalar(s.coefs[u]),Math.abs(s.coefs[0])<10*1e-15*Math.abs(s.coefs[3])&&(s.coefs[0]=0);var c,f=s.getDerivative(),d=f.getRoots().sort(function(P,v){return P-v}),g=[],m=d.length-1,_=this.bounds();maxabsX=Math.max(Math.abs(_.minX),Math.abs(_.maxX));var R=this.zeroErrorEstimate(maxabsX);for(c=0;c<=m;c++)g.push(s.eval(d[c]));for(c=0;c<=m;c++)Math.abs(g[c])<R&&(g[c]=0);c=0;var C=Math.max(.1*(_.maxX-_.minX)/u,1e-15),k=[],M=[];if(m>-1){for(g[0]!=0?a(g[0])!=a(s.eval(d[0]-C)-g[0])&&(k.push(d[0]-C),M.push([_.minX,d[0]])):(r.push(d[0],d[0]),c++);c<m;c++)g[c+1]==0?(r.push(d[c+1],d[c+1]),c++):a(g[c])!=a(g[c+1])&&(k.push((d[c]+d[c+1])/2),M.push([d[c],d[c+1]]));g[m]!=0&&a(g[m])!=a(s.eval(d[m]+C)-g[m])&&(k.push(d[m]+C),M.push([d[m],_.maxX]))}var I=function(P){return s.eval(P)},S=function(P){return f.eval(P)};if(k.length>0)for(c=0;c<k.length;c++)k[c]=n.newton_secant_bisection(k[c],I,S,32,M[c][0],M[c][1]);r=r.concat(k)}return r},n.prototype.zeroErrorEstimate=function(r){var u=this;if(r===void 0){var s=u.bounds();r=Math.max(Math.abs(s.minX),Math.abs(s.maxX))}if(r<.001)return 2*Math.abs(u.eval(1e-15));var c=u.coefs.length-1,f=u.coefs[c];return 10*1e-15*u.coefs.reduce(function(d,g,m){var _=g/f*Math.pow(r,m);return _>d?_:d},0)},n.prototype.bounds_UpperReal_Fujiwara=function(){var r=this.coefs,u=r.length-1,s=r[u];s!=1&&(r=this.coefs.map(function(m){return m/s}));var c,f=r.map(function(m,_){return _<u?Math.pow(Math.abs(_==0?m/2:m),1/(u-_)):m}),d=function(m,_,R){return c(R)&&(m.max<_?(m.nearmax=m.max,m.max=_):m.nearmax<_&&(m.nearmax=_)),m};c=function(m){return m<u&&r[m]<0};var g=f.reduce(d,{max:0,nearmax:0});return c=function(m){return m<u&&(u%2==m%2?r[m]<0:r[m]>0)},{negX:-2*f.reduce(d,{max:0,nearmax:0}).max,posX:2*g.max}},n.prototype.bounds_LowerReal_Fujiwara=function(){var r=new n;r.coefs=this.coefs.slice().reverse();var u=r.bounds_UpperReal_Fujiwara();return u.negX=1/u.negX,u.posX=1/u.posX,u},n.prototype.bounds=function(){var r=this.bounds_UpperReal_Fujiwara(),u={minX:r.negX,maxX:r.posX};return r.negX===0&&r.posX===0||(r.negX===0?u.minX=this.bounds_LowerReal_Fujiwara().posX:r.posX===0&&(u.maxX=this.bounds_LowerReal_Fujiwara().negX),u.minX>u.maxX&&(u.minX=u.maxX=0)),u},n.newton_secant_bisection=function(r,u,s,c,f,d){var g,m,_,R,C,k,M=0,I=0;g=r;var S=Math.pow(10,-14),P=typeof f=="number"&&typeof d=="number";if(P){if(f>d)throw new Error("newton root finding: min must be greater than max");if(C=u(f),k=u(d),a(C)==a(k))throw new Error("newton root finding: y values of bounds must be of opposite sign")}var v,b=function(){return Math.abs(_)<=S*Math.abs(g)||I==g-_-g};for(v=0;v<c;v++){if((m=s(g))==0){if(M==0)throw new Error("newton root finding: df(x) is zero");m=M}if(M=m,y=u(g),_=y/m,R=g-_,b())break;if(P){if(a(y)==a(k))d=g,k=y;else{if(a(y)!=a(C)){g=R;break}f=g,C=y}if(R<f||R>d){if(a(C)==a(k))break;var A=k-C,O=d-f;if(_=A==0?g-(f+.5*O):Math.abs(A/Math.min(C,k))>50?g-(f+O*(.5+(Math.abs(C)<Math.abs(k)?-.25:.25))):g-(f-C/A*O),R=g-_,b())break}}I=g-R,g=R}return g},x.exports=n},function(x,L,o){var n=o(31).Point2D;function a(j,V){this.init(j,V)}a.prototype.init=function(j,V){this.type=j,this.params=V,this.meta={}},a.TYPE={};var r=a.TYPE;function u(j){return j.split(" ").map(function(V){return V=V.split(","),new n(V[0],V[1])})}r.LINE="Line",r.RECT="Rectangle",r.ROUNDRECT="RoundRectangle",r.CIRCLE="Circle",r.ELLIPSE="Ellipse",r.POLYGON="Polygon",r.POLYLINE="Polyline",r.PATH="Path",r.ARC="Arc",r.BEZIER2="Bezier2",r.BEZIER3="Bezier3",a.newShape=function(j,V){return(j=j.toLowerCase())==="line"?a.newLine(new n(V.x1,V.y1),new n(V.x2,V.y2)):j==="rect"?V.rx>0||V.ry>0?a.newRoundRect(V.x,V.y,V.width,V.height,V.rx,V.ry):a.newRect(V.x,V.y,V.width,V.height):j==="circle"?a.newCircle(new n(V.cx,V.cy),V.r):j==="ellipse"?a.newEllipse(new n(V.cx,V.cy),V.rx,V.ry):j==="polygon"?a.newPolygon(u(V.points)):j==="polyline"?a.newPolyline(u(V.points)):j==="path"?a.newPath(V.d):void 0},a.newArc=function(j,V,K,J,Y,X,W){var G=function(ne,ue,re,pe,ae,me,Q){function le(Yt,tn,cn,wn){var Wr=Yt*cn+tn*wn,pr=Math.sqrt((Yt*Yt+tn*tn)*(cn*cn+wn*wn)),gt=Math.acos(Wr/pr);return Yt*wn-tn*cn<0&&(gt=-gt),gt}ae=ae*Math.PI/180;var Z,be=Math.cos(ae),ke=Math.sin(ae),Fe=ne.subtract(ue).divide(2),ze=Fe.x*be+Fe.y*ke,Je=Fe.x*-ke+Fe.y*be,$e=ze*ze,xt=Je*Je,Ne=$e/(re*re)+xt/(pe*pe);Ne>1&&(re*=Z=Math.sqrt(Ne),pe*=Z);var et=re*re,jt=pe*pe,Ze=et*xt,Ue=jt*$e;Z=(et*jt-Ze-Ue)/(Ze+Ue),Math.abs(Z)<1e-6&&(Z=0);var _t=Math.sqrt(Z);me==Q&&(_t=-_t);for(var tt=ne.add(ue).divide(2),mt=_t*re*Je/pe,wt=_t*-pe*ze/re,Rt=(ze-mt)/re,ut=(ze+mt)/re,_e=(Je-wt)/pe,un=(Je+wt)/pe,en=le(1,0,Rt,_e),Lt=le(Rt,_e,-ut,-un),zt=2*Math.PI;Lt>zt;)Lt-=zt;for(;Lt<0;)Lt+=zt;return Q==0&&(Lt-=zt),{center:new n(mt*be-wt*ke+tt.x,mt*ke+wt*be+tt.y),rx:re,ry:pe,theta1:en,deltaTheta:Lt}}(j,V,K,J,Y,X,W);return new a(r.ARC,[G.center,G.rx,G.ry,Y*Math.PI/180,G.theta1,G.deltaTheta])},a.newBezier2=function(j,V,K){return new a(r.BEZIER2,[j,V,K])},a.newBezier3=function(j,V,K,J){return new a(r.BEZIER3,[j,V,K,J])},a.newCircle=function(j,V){return new a(r.CIRCLE,[j,V])},a.newEllipse=function(j,V,K){return new a(r.ELLIPSE,[j,V,K])},a.newLine=function(j,V){return new a(r.LINE,[j,V])},a.newPolygon=function(j){return new a(r.POLYGON,[j])},a.newPolyline=function(j){return new a(r.POLYLINE,[j])},a.newRect=function(j,V,K,J){var Y=[];return Y.push(new n(j,V)),Y.push(new n(j+K,V)),Y.push(new n(j+K,V+J)),Y.push(new n(j,V+J)),new a(r.RECT,[Y])};var s=function(j){return j*Math.PI/180};function c(j,V){arguments.length>0&&this.init(j,V)}a.newRoundRect=function(j,V,K,J,Y,X){if(Y===0&&X===0)return a.newRect(j,V,K,J);Y===0&&(Y=X),X===0&&(X=Y),Y>K/2&&(Y=K/2),X>J/2&&(Y=J/2);var W=[],G=j,ne=j+Y,ue=j+K-Y,re=j+K,pe=V,ae=V+X,me=V+J-X,Q=V+J;return W.push(new a(r.ARC,[new n(ne,ae),Y,X,0,s(180),s(90)])),W.push(new a(r.LINE,[new n(ne,pe),new n(ue,pe)])),W.push(new a(r.ARC,[new n(ue,ae),Y,X,0,s(-90),s(90)])),W.push(new a(r.LINE,[new n(re,ae),new n(re,me)])),W.push(new a(r.ARC,[new n(ue,me),Y,X,0,s(0),s(90)])),W.push(new a(r.LINE,[new n(ue,Q),new n(ne,Q)])),W.push(new a(r.ARC,[new n(ne,me),Y,X,0,s(90),s(90)])),W.push(new a(r.LINE,[new n(G,me),new n(G,ae)])),W[W.length-1].meta.closePath=!0,new a(r.ROUNDRECT,[W])},c.prototype.init=function(j,V){this.type=j,this.text=V},c.prototype.typeis=function(j){return this.type==j};var f={};function d(j,V,K){arguments.length>0&&this.init(j,V,K)}function g(j,V){arguments.length>0&&this.init("A",j,V)}function m(j,V){arguments.length>0&&this.init("Q",j,V)}function _(j,V){arguments.length>0&&this.init("C",j,V)}function R(j,V){arguments.length>0&&this.init("H",j,V)}function C(j,V){arguments.length>0&&this.init("V",j,V)}function k(j,V){arguments.length>0&&this.init("L",j,V)}function M(j,V){arguments.length>0&&this.init("M",j,V)}function I(j,V){arguments.length>0&&this.init("T",j,V)}function S(j,V){arguments.length>0&&this.init("S",j,V)}function P(j,V,K){arguments.length>0&&this.init(j,V,K)}function v(j,V){arguments.length>0&&this.init("z",j,V)}function b(j,V){arguments.length>0&&this.init("q",j,V)}function A(j,V){arguments.length>0&&this.init("c",j,V)}function O(j,V){arguments.length>0&&this.init("l",j,V)}function T(j,V){arguments.length>0&&this.init("m",j,V)}function B(j,V){arguments.length>0&&this.init("t",j,V)}function F(j,V){arguments.length>0&&this.init("s",j,V)}f.COMMAND=0,f.NUMBER=1,f.EOD=2,f.PARAMS={A:["rx","ry","x-axis-rotation","large-arc-flag","sweep-flag","x","y"],a:["rx","ry","x-axis-rotation","large-arc-flag","sweep-flag","x","y"],C:["x1","y1","x2","y2","x","y"],c:["x1","y1","x2","y2","x","y"],H:["x"],h:["x"],L:["x","y"],l:["x","y"],M:["x","y"],m:["x","y"],Q:["x1","y1","x","y"],q:["x1","y1","x","y"],S:["x2","y2","x","y"],s:["x2","y2","x","y"],T:["x","y"],t:["x","y"],V:["y"],v:["y"],Z:[],z:[]},a.newPath=function(j){for(var V=function(le){for(var Z=new Array;le!="";)if(le.match(/^([ \t\r\n,]+)/))le=le.substr(RegExp.$1.length);else if(le.match(/^([aAcChHlLmMqQsStTvVzZ])/))Z[Z.length]=new c(f.COMMAND,RegExp.$1),le=le.substr(RegExp.$1.length);else{if(!le.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))throw new Error("Unrecognized segment command: "+le);Z[Z.length]=new c(f.NUMBER,parseFloat(RegExp.$1)),le=le.substr(RegExp.$1.length)}return Z[Z.length]=new c(f.EOD,null),Z}(j),K=0,J=V[K],Y="BOD",X=[];!J.typeis(f.EOD);){var W,G=new Array;if(Y=="BOD"){if(J.text!="M"&&J.text!="m")throw new Error("Path data must begin with a moveto command");K++,W=f.PARAMS[J.text].length,Y=J.text}else J.typeis(f.NUMBER)?W=f.PARAMS[Y].length:(K++,W=f.PARAMS[J.text].length,Y=J.text);if(!(K+W<V.length))throw new Error("Path data ended before all parameters were found");for(var ne=K;ne<K+W;ne++){var ue=V[ne];if(!ue.typeis(f.NUMBER))throw new Error("Parameter type is not a number: "+Y+","+ue.text);G[G.length]=ue.text}var re,pe=X.length,ae=pe==0?null:X[pe-1];switch(Y){case"A":re=new g(G,ae);break;case"C":re=new _(G,ae);break;case"c":re=new A(G,ae);break;case"H":re=new R(G,ae);break;case"V":re=new C(G,ae);break;case"L":re=new k(G,ae);break;case"l":re=new O(G,ae);break;case"M":re=new M(G,ae);break;case"m":re=new T(G,ae);break;case"Q":re=new m(G,ae);break;case"q":re=new b(G,ae);break;case"S":re=new S(G,ae);break;case"s":re=new F(G,ae);break;case"T":re=new I(G,ae);break;case"t":re=new B(G,ae);break;case"Z":case"z":re=new v(G,ae);break;default:throw new Error("Unsupported segment type: "+Y)}X.push(re),J=V[K+=W],Y=="M"&&(Y="L"),Y=="m"&&(Y="l")}var me=[];for(ne=0;ne<X.length;ne++){var Q=X[ne].getIntersectionParams();Q&&me.push(Q)}return new a(r.PATH,[me])},d.prototype.init=function(j,V,K){this.command=j,this.previous=K,this.points=[];for(var J=0;J<V.length;)this.points.push(new n(V[J],V[J+1])),J+=2},d.prototype.getLastPoint=function(){return this.points[this.points.length-1]},d.prototype.getIntersectionParams=function(){return null},g.prototype=new d,g.prototype.constructor=m,g.superclass=d.prototype,g.prototype.init=function(j,V,K){var J=new Array,Y=V.pop(),X=V.pop();J.push(X,Y),g.superclass.init.call(this,j,J,K),this.rx=parseFloat(V.shift()),this.ry=parseFloat(V.shift()),this.angle=parseFloat(V.shift()),this.arcFlag=parseFloat(V.shift()),this.sweepFlag=parseFloat(V.shift())},g.prototype.getIntersectionParams=function(){return a.newArc(this.previous.getLastPoint(),this.points[0],this.rx,this.ry,this.angle,this.arcFlag,this.sweepFlag)},m.prototype=new d,m.prototype.constructor=m,m.superclass=d.prototype,m.prototype.getIntersectionParams=function(){return a.newBezier2(this.previous.getLastPoint(),this.points[0],this.points[1])},_.prototype=new d,_.prototype.constructor=_,_.superclass=d.prototype,_.prototype.getLastControlPoint=function(){return this.points[1]},_.prototype.getIntersectionParams=function(){return a.newBezier3(this.previous.getLastPoint(),this.points[0],this.points[1],this.points[2])},R.prototype=new d,R.prototype.constructor=R,R.superclass=d.prototype,R.prototype.init=function(j,V,K){var J=K.getLastPoint(),Y=new Array;Y.push(V.pop(),J.y),R.superclass.init.call(this,j,Y,K)},C.prototype=new d,C.prototype.constructor=C,C.superclass=d.prototype,C.prototype.init=function(j,V,K){var J=K.getLastPoint(),Y=new Array;Y.push(J.x,V.pop()),C.superclass.init.call(this,j,Y,K)},k.prototype=new d,k.prototype.constructor=k,k.superclass=d.prototype,k.prototype.getIntersectionParams=function(){return a.newLine(this.previous.getLastPoint(),this.points[0])},M.prototype=new d,M.prototype.constructor=M,M.superclass=d.prototype,I.prototype=new d,I.prototype.constructor=I,I.superclass=d.prototype,I.prototype.getControlPoint=function(){var j,V=this.previous.getLastPoint();if(this.previous.command.match(/^[QqTt]$/)){var K=this.previous.getControlPoint().subtract(V);j=V.subtract(K)}else j=V;return j},I.prototype.getIntersectionParams=function(){return a.newBezier2(this.previous.getLastPoint(),this.getControlPoint(),this.points[0])},S.prototype=new d,S.prototype.constructor=S,S.superclass=d.prototype,S.prototype.getFirstControlPoint=function(){var j,V=this.previous.getLastPoint();if(this.previous.command.match(/^[SsCc]$/)){var K=this.previous.getLastControlPoint().subtract(V);j=V.subtract(K)}else j=V;return j},S.prototype.getLastControlPoint=function(){return this.points[0]},S.prototype.getIntersectionParams=function(){return a.newBezier3(this.previous.getLastPoint(),this.getFirstControlPoint(),this.points[0],this.points[1])},P.prototype=new d,P.prototype.constructor=P,P.superclass=d.prototype,P.prototype.init=function(j,V,K){var J;this.command=j,this.previous=K,this.points=[],J=this.previous?this.previous.getLastPoint():new n(0,0);for(var Y=0;Y<V.length;){var X=new n(J.x+V[Y],J.y+V[Y+1]);this.points.push(X),Y+=2}},v.prototype=new P,v.prototype.constructor=v,v.superclass=P.prototype,v.prototype.getLastPoint=function(){for(var j,V=this.previous;V;){if(V.command.match(/^[mMzZ]$/)){j=V.getLastPoint();break}V=V.previous}return j},v.prototype.getIntersectionParams=function(){return a.newLine(this.previous.getLastPoint(),this.getLastPoint())},b.prototype=new P,b.prototype.constructor=b,b.superclass=P.prototype,b.prototype.getControlPoint=function(){return this.points[0]},b.prototype.getIntersectionParams=function(){return a.newBezier2(this.previous.getLastPoint(),this.points[0],this.points[1])},A.prototype=new P,A.prototype.constructor=A,A.superclass=P.prototype,A.prototype.getLastControlPoint=function(){return this.points[1]},A.prototype.getIntersectionParams=function(){return a.newBezier3(this.previous.getLastPoint(),this.points[0],this.points[1],this.points[2])},O.prototype=new P,O.prototype.constructor=O,O.superclass=P.prototype,O.prototype.toString=function(){var j,V;return new Array,j=this.previous?this.previous.getLastPoint():new Point(0,0),V=this.points[0].subtract(j),this.previous.constructor!=this.constuctor&&this.previous.constructor!=T&&(cmd=this.command),cmd+V.toString()},O.prototype.getIntersectionParams=function(){return a.newLine(this.previous.getLastPoint(),this.points[0])},T.prototype=new P,T.prototype.constructor=T,T.superclass=P.prototype,B.prototype=new P,B.prototype.constructor=B,B.superclass=P.prototype,B.prototype.getControlPoint=function(){var j,V=this.previous.getLastPoint();if(this.previous.command.match(/^[QqTt]$/)){var K=this.previous.getControlPoint().subtract(V);j=V.subtract(K)}else j=V;return j},B.prototype.getIntersectionParams=function(){return a.newBezier2(this.previous.getLastPoint(),this.getControlPoint(),this.points[0])},F.prototype=new P,F.prototype.constructor=F,F.superclass=P.prototype,F.prototype.getFirstControlPoint=function(){var j,V=this.previous.getLastPoint();if(this.previous.command.match(/^[SsCc]$/)){var K=this.previous.getLastControlPoint().subtract(V);j=V.subtract(K)}else j=V;return j},F.prototype.getLastControlPoint=function(){return this.points[0]},F.prototype.getIntersectionParams=function(){return a.newBezier3(this.previous.getLastPoint(),this.getFirstControlPoint(),this.points[0],this.points[1])},x.exports=a},function(x,L){function o(n){this.init(n)}o.prototype.init=function(n){this.status=n,this.points=[]},o.prototype.appendPoint=function(n){this.points.push(n)},o.prototype.appendPoints=function(n){this.points=this.points.concat(n)},x.exports=o},function(x,L,o){function n(){this.init(arguments)}n.TOLERANCE=1e-6,n.ACCURACY=15,n.interpolate=function(r,u,s,c,f){if(r.constructor!==Array||u.constructor!==Array)throw new Error("Polynomial.interpolate: xs and ys must be arrays");if(isNaN(s)||isNaN(c)||isNaN(f))throw new Error("Polynomial.interpolate: n, offset, and x must be numbers");for(var d=0,g=0,m=new Array(s),_=new Array(s),R=0,C=Math.abs(f-r[c]),k=0;k<s;k++){var M=Math.abs(f-r[c+k]);M<C&&(R=k,C=M),m[k]=_[k]=u[c+k]}d=u[c+R],R--;for(var I=1;I<s;I++){for(k=0;k<s-I;k++){var S=r[c+k]-f,P=r[c+k+I]-f,v=m[k+1]-_[k],b=S-P;if(b==0)throw new Error("Unable to interpolate polynomial. Two numbers in n were identical (to within roundoff)");b=v/b,_[k]=P*b,m[k]=S*b}d+=g=2*(R+1)<s-I?m[R+1]:_[R--]}return{y:d,dy:g}},n.prototype.init=function(r){this.coefs=new Array;for(var u=r.length-1;u>=0;u--)this.coefs.push(r[u]);this._variable="t",this._s=0},n.prototype.eval=function(r){if(isNaN(r))throw new Error("Polynomial.eval: parameter must be a number");for(var u=0,s=this.coefs.length-1;s>=0;s--)u=u*r+this.coefs[s];return u},n.prototype.add=function(r){for(var u=new n,s=this.getDegree(),c=r.getDegree(),f=Math.max(s,c),d=0;d<=f;d++){var g=d<=s?this.coefs[d]:0,m=d<=c?r.coefs[d]:0;u.coefs[d]=g+m}return u},n.prototype.multiply=function(r){for(var u=new n,s=0;s<=this.getDegree()+r.getDegree();s++)u.coefs.push(0);for(s=0;s<=this.getDegree();s++)for(var c=0;c<=r.getDegree();c++)u.coefs[s+c]+=this.coefs[s]*r.coefs[c];return u},n.prototype.divide_scalar=function(r){for(var u=0;u<this.coefs.length;u++)this.coefs[u]/=r},n.prototype.simplify=function(r){r===void 0&&(r=1e-12);for(var u=this.getDegree();u>=0&&Math.abs(this.coefs[u])<=r;u--)this.coefs.pop()},n.prototype.bisection=function(r,u){var s,c=this.eval(r),f=this.eval(u);if(Math.abs(c)<=n.TOLERANCE)s=r;else if(Math.abs(f)<=n.TOLERANCE)s=u;else if(c*f<=0)for(var d=Math.log(u-r),g=Math.LN10*n.ACCURACY,m=Math.ceil((d+g)/Math.LN2),_=0;_<m;_++){s=.5*(r+u);var R=this.eval(s);if(Math.abs(R)<=n.TOLERANCE)break;R*c<0?(u=s,f=R):(r=s,c=R)}return s},n.prototype.toString=function(){for(var r=new Array,u=new Array,s=this.coefs.length-1;s>=0;s--){var c=Math.round(1e3*this.coefs[s])/1e3;if(c!=0){var f=c<0?" - ":" + ";c=Math.abs(c),s>0&&(c==1?c=this._variable:c+=this._variable),s>1&&(c+="^"+s),u.push(f),r.push(c)}}u[0]=u[0]==" + "?"":"-";var d="";for(s=0;s<r.length;s++)d+=u[s]+r[s];return d},n.prototype.trapezoid=function(r,u,s){if(isNaN(r)||isNaN(u)||isNaN(s))throw new Error("Polynomial.trapezoid: parameters must be numbers");var c=u-r;if(s==1){var f=this.eval(r),d=this.eval(u);this._s=.5*c*(f+d)}else{for(var g=1<<s-2,m=c/g,_=r+.5*m,R=0,C=0;C<g;C++)R+=this.eval(_),_+=m;this._s=.5*(this._s+c*R/g)}if(isNaN(this._s))throw new Error("Polynomial.trapezoid: this._s is NaN");return this._s},n.prototype.simpson=function(r,u){if(isNaN(r)||isNaN(u))throw new Error("Polynomial.simpson: parameters must be numbers");for(var s=u-r,c=.5*s*(this.eval(r)+this.eval(u)),f=c,d=4*c/3,g=d,m=c,_=1,R=2;R<=20;R++){for(var C=s/_,k=r+.5*C,M=0,I=1;I<=_;I++)M+=this.eval(k),k+=C;if(d=(4*(c=f=.5*(f+s*M/_))-m)/3,Math.abs(d-g)<1e-7*Math.abs(g))break;g=d,m=c,_<<=1}return d},n.prototype.romberg=function(r,u){if(isNaN(r)||isNaN(u))throw new Error("Polynomial.romberg: parameters must be numbers");var s=new Array(21),c=new Array(21),f={y:0,dy:0};c[0]=1;for(var d=1;d<=20&&(s[d-1]=this.trapezoid(r,u,d),!(d>=3&&(f=n.interpolate(c,s,3,d-3,0),Math.abs(f.dy)<=1e-6*f.y)));d++)s[d]=s[d-1],c[d]=.25*c[d-1];return f.y},n.prototype.getDegree=function(){return this.coefs.length-1},n.prototype.getDerivative=function(){for(var r=new n,u=1;u<this.coefs.length;u++)r.coefs.push(u*this.coefs[u]);return r},n.prototype.getRoots=function(){var r;switch(this.simplify(),this.getDegree()){case 0:r=[];break;case 1:r=this.getLinearRoot();break;case 2:r=this.getQuadraticRoots();break;case 3:r=this.getCubicRoots();break;case 4:r=this.getQuarticRoots();break;default:r=[]}return r},n.prototype.getRootsInInterval=function(r,u){var s,c=new Array;if(this.getDegree()==1)(s=this.bisection(r,u))!=null&&c.push(s);else{var f=this.getDerivative().getRootsInInterval(r,u);if(f.length>0){for((s=this.bisection(r,f[0]))!=null&&c.push(s),i=0;i<=f.length-2;i++)(s=this.bisection(f[i],f[i+1]))!=null&&c.push(s);(s=this.bisection(f[f.length-1],u))!=null&&c.push(s)}else(s=this.bisection(r,u))!=null&&c.push(s)}return c},n.prototype.getLinearRoot=function(){var r=[],u=this.coefs[1];return u!=0&&r.push(-this.coefs[0]/u),r},n.prototype.getQuadraticRoots=function(){var r=[];if(this.getDegree()==2){var u=this.coefs[2],s=this.coefs[1]/u,c=s*s-4*(this.coefs[0]/u);if(c>0){var f=Math.sqrt(c);r.push(.5*(-s+f)),r.push(.5*(-s-f))}else c==0&&r.push(.5*-s)}return r},n.prototype.getCubicRoots=function(){var r=[];if(this.getDegree()==3){var u=this.coefs[3],s=this.coefs[2]/u,c=this.coefs[1]/u,f=(3*c-s*s)/3,d=(2*s*s*s-9*c*s+27*(this.coefs[0]/u))/27,g=s/3,m=d*d/4+f*f*f/27,_=d/2,R=this.zeroErrorEstimate();if(Math.abs(m)<=R&&(m=0),m>0){var C,k=Math.sqrt(m);C=(b=-_+k)>=0?Math.pow(b,1/3):-Math.pow(-b,1/3),(b=-_-k)>=0?C+=Math.pow(b,1/3):C-=Math.pow(-b,1/3),r.push(C-g)}else if(m<0){var M=Math.sqrt(-f/3),I=Math.atan2(Math.sqrt(-m),-_)/3,S=Math.cos(I),P=Math.sin(I),v=Math.sqrt(3);r.push(2*M*S-g),r.push(-M*(S+v*P)-g),r.push(-M*(S-v*P)-g)}else{var b;b=_>=0?-Math.pow(_,1/3):Math.pow(-_,1/3),r.push(2*b-g),r.push(-b-g)}}return r};var a=function(r){return typeof r=="number"?r?r<0?-1:1:r==r?r:NaN:NaN};n.prototype.getQuarticRoots=function(){var r=[],u=this.getDegree();if(u==4){var s=new n;s.coefs=this.coefs.slice(),s.divide_scalar(s.coefs[u]),Math.abs(s.coefs[0])<10*1e-15*Math.abs(s.coefs[3])&&(s.coefs[0]=0);var c,f=s.getDerivative(),d=f.getRoots().sort(function(P,v){return P-v}),g=[],m=d.length-1,_=this.bounds();maxabsX=Math.max(Math.abs(_.minX),Math.abs(_.maxX));var R=this.zeroErrorEstimate(maxabsX);for(c=0;c<=m;c++)g.push(s.eval(d[c]));for(c=0;c<=m;c++)Math.abs(g[c])<R&&(g[c]=0);c=0;var C=Math.max(.1*(_.maxX-_.minX)/u,1e-15),k=[],M=[];if(m>-1){for(g[0]!=0?a(g[0])!=a(s.eval(d[0]-C)-g[0])&&(k.push(d[0]-C),M.push([_.minX,d[0]])):(r.push(d[0],d[0]),c++);c<m;c++)g[c+1]==0?(r.push(d[c+1],d[c+1]),c++):a(g[c])!=a(g[c+1])&&(k.push((d[c]+d[c+1])/2),M.push([d[c],d[c+1]]));g[m]!=0&&a(g[m])!=a(s.eval(d[m]+C)-g[m])&&(k.push(d[m]+C),M.push([d[m],_.maxX]))}var I=function(P){return s.eval(P)},S=function(P){return f.eval(P)};if(k.length>0)for(c=0;c<k.length;c++)k[c]=n.newton_secant_bisection(k[c],I,S,32,M[c][0],M[c][1]);r=r.concat(k)}return r},n.prototype.zeroErrorEstimate=function(r){var u=this;if(r===void 0){var s=u.bounds();r=Math.max(Math.abs(s.minX),Math.abs(s.maxX))}if(r<.001)return 2*Math.abs(u.eval(1e-15));var c=u.coefs.length-1,f=u.coefs[c];return 10*1e-15*u.coefs.reduce(function(d,g,m){var _=g/f*Math.pow(r,m);return _>d?_:d},0)},n.prototype.bounds_UpperReal_Fujiwara=function(){var r=this.coefs,u=r.length-1,s=r[u];s!=1&&(r=this.coefs.map(function(m){return m/s}));var c,f=r.map(function(m,_){return _<u?Math.pow(Math.abs(_==0?m/2:m),1/(u-_)):m}),d=function(m,_,R){return c(R)&&(m.max<_?(m.nearmax=m.max,m.max=_):m.nearmax<_&&(m.nearmax=_)),m};c=function(m){return m<u&&r[m]<0};var g=f.reduce(d,{max:0,nearmax:0});return c=function(m){return m<u&&(u%2==m%2?r[m]<0:r[m]>0)},{negX:-2*f.reduce(d,{max:0,nearmax:0}).max,posX:2*g.max}},n.prototype.bounds_LowerReal_Fujiwara=function(){var r=new n;r.coefs=this.coefs.slice().reverse();var u=r.bounds_UpperReal_Fujiwara();return u.negX=1/u.negX,u.posX=1/u.posX,u},n.prototype.bounds=function(){var r=this.bounds_UpperReal_Fujiwara(),u={minX:r.negX,maxX:r.posX};return r.negX===0&&r.posX===0||(r.negX===0?u.minX=this.bounds_LowerReal_Fujiwara().posX:r.posX===0&&(u.maxX=this.bounds_LowerReal_Fujiwara().negX),u.minX>u.maxX&&(u.minX=u.maxX=0)),u},n.newton_secant_bisection=function(r,u,s,c,f,d){var g,m,_,R,C,k,M=0,I=0;g=r;var S=Math.pow(10,-14),P=typeof f=="number"&&typeof d=="number";if(P){if(f>d)throw new Error("newton root finding: min must be greater than max");if(C=u(f),k=u(d),a(C)==a(k))throw new Error("newton root finding: y values of bounds must be of opposite sign")}var v,b=function(){return Math.abs(_)<=S*Math.abs(g)||I==g-_-g};for(v=0;v<c;v++){if((m=s(g))==0){if(M==0)throw new Error("newton root finding: df(x) is zero");m=M}if(M=m,y=u(g),_=y/m,R=g-_,b())break;if(P){if(a(y)==a(k))d=g,k=y;else{if(a(y)!=a(C)){g=R;break}f=g,C=y}if(R<f||R>d){if(a(C)==a(k))break;var A=k-C,O=d-f;if(_=A==0?g-(f+.5*O):Math.abs(A/Math.min(C,k))>50?g-(f+O*(.5+(Math.abs(C)<Math.abs(k)?-.25:.25))):g-(f-C/A*O),R=g-_,b())break}}I=g-R,g=R}return g},x.exports=n},function(x,L,o){var n=o(390);o(391);function a(c,f){return(c&f)===f}var r={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(c){var f=r,d=c.Properties||{},g=c.DOMAttributeNamespaces||{},m=c.DOMAttributeNames||{},_=c.DOMPropertyNames||{},R=c.DOMMutationMethods||{};for(var C in c.isCustomAttribute&&s._isCustomAttributeFunctions.push(c.isCustomAttribute),d){s.properties.hasOwnProperty(C)&&n("48",C);var k=C.toLowerCase(),M=d[C],I={attributeName:k,attributeNamespace:null,propertyName:C,mutationMethod:null,mustUseProperty:a(M,f.MUST_USE_PROPERTY),hasBooleanValue:a(M,f.HAS_BOOLEAN_VALUE),hasNumericValue:a(M,f.HAS_NUMERIC_VALUE),hasPositiveNumericValue:a(M,f.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:a(M,f.HAS_OVERLOADED_BOOLEAN_VALUE)};if(I.hasBooleanValue+I.hasNumericValue+I.hasOverloadedBooleanValue<=1||n("50",C),m.hasOwnProperty(C)){var S=m[C];I.attributeName=S}g.hasOwnProperty(C)&&(I.attributeNamespace=g[C]),_.hasOwnProperty(C)&&(I.propertyName=_[C]),R.hasOwnProperty(C)&&(I.mutationMethod=R[C]),s.properties[C]=I}}},u=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:u,ATTRIBUTE_NAME_CHAR:u+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(c){for(var f=0;f<s._isCustomAttributeFunctions.length;f++)if((0,s._isCustomAttributeFunctions[f])(c))return!0;return!1},injection:r};x.exports=s},function(x,L,o){function n(a){for(var r,u={},s=0,c=a.length;s<c;s++)u[(r=a[s]).name]=r.value;return u}x.exports={formatAttributes:n,formatDOM:function a(r,u,s){u=u||null;for(var c,f,d,g=[],m=0,_=r.length;m<_;m++){switch(c=r[m],d={next:null,prev:g[m-1]||null,parent:u},(f=g[m-1])&&(f.next=d),c.nodeName.indexOf("#")!==0&&(d.name=c.nodeName.toLowerCase(),d.attribs={},c.attributes&&c.attributes.length&&(d.attribs=n(c.attributes))),c.nodeType){case 1:d.name==="script"||d.name==="style"?d.type=d.name:d.type="tag",d.children=a(c.childNodes,d);break;case 3:d.type="text",d.data=c.nodeValue;break;case 8:d.type="comment",d.data=c.nodeValue}g.push(d)}return s&&(g.unshift({name:s.substring(0,s.indexOf(" ")).toLowerCase(),data:s,type:"directive",next:g[0]?g[0]:null,prev:null,parent:u}),g[1]&&(g[1].prev=g[0])),g},isIE:function(a){return a?document.documentMode===a:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)}}},function(x,L,o){var n=Array.isArray,a=Object.keys,r=Object.prototype.hasOwnProperty;x.exports=function u(s,c){if(s===c)return!0;if(s&&c&&typeof s=="object"&&typeof c=="object"){var f,d,g,m=n(s),_=n(c);if(m&&_){if((d=s.length)!=c.length)return!1;for(f=d;f--!=0;)if(!u(s[f],c[f]))return!1;return!0}if(m!=_)return!1;var R=s instanceof Date,C=c instanceof Date;if(R!=C)return!1;if(R&&C)return s.getTime()==c.getTime();var k=s instanceof RegExp,M=c instanceof RegExp;if(k!=M)return!1;if(k&&M)return s.toString()==c.toString();var I=a(s);if((d=I.length)!==a(c).length)return!1;for(f=d;f--!=0;)if(!r.call(c,I[f]))return!1;for(f=d;f--!=0;)if(!u(s[g=I[f]],c[g]))return!1;return!0}return s!=s&&c!=c}},function(x,L,o){L.Intersection=o(382),L.IntersectionArgs=o(82),L.Shapes=o(385),L.AffineShapes=o(386),L.IntersectionQuery=o(387),L.Point2D=o(4).Point2D,L.Vector2D=o(4).Vector2D,L.Matrix2D=o(4).Matrix2D},function(x,L,o){var n=o(388),a=o(397),r={decodeEntities:!0,lowerCaseAttributeNames:!1};x.exports=function(u,s){if(typeof u!="string")throw new TypeError("First argument must be a string");return n(a(u,r),s)}},function(x,L){x.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"></path></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(x,L,o){var n=o(199);x.exports={Graph:n.Graph,json:o(302),alg:o(303),version:n.version}},function(x,L,o){x.exports={Graph:o(64),version:o(301)}},function(x,L,o){var n=o(89);x.exports=function(a){return n(a,4)}},function(x,L){x.exports=function(){this.__data__=[],this.size=0}},function(x,L,o){var n=o(38),a=Array.prototype.splice;x.exports=function(r){var u=this.__data__,s=n(u,r);return!(s<0)&&(s==u.length-1?u.pop():a.call(u,s,1),--this.size,!0)}},function(x,L,o){var n=o(38);x.exports=function(a){var r=this.__data__,u=n(r,a);return u<0?void 0:r[u][1]}},function(x,L,o){var n=o(38);x.exports=function(a){return n(this.__data__,a)>-1}},function(x,L,o){var n=o(38);x.exports=function(a,r){var u=this.__data__,s=n(u,a);return s<0?(++this.size,u.push([a,r])):u[s][1]=r,this}},function(x,L,o){var n=o(37);x.exports=function(){this.__data__=new n,this.size=0}},function(x,L){x.exports=function(o){var n=this.__data__,a=n.delete(o);return this.size=n.size,a}},function(x,L){x.exports=function(o){return this.__data__.get(o)}},function(x,L){x.exports=function(o){return this.__data__.has(o)}},function(x,L,o){var n=o(37),a=o(65),r=o(66);x.exports=function(u,s){var c=this.__data__;if(c instanceof n){var f=c.__data__;if(!a||f.length<199)return f.push([u,s]),this.size=++c.size,this;c=this.__data__=new r(f)}return c.set(u,s),this.size=c.size,this}},function(x,L,o){var n=o(26),a=o(215),r=o(6),u=o(91),s=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,d=c.toString,g=f.hasOwnProperty,m=RegExp("^"+d.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");x.exports=function(_){return!(!r(_)||a(_))&&(n(_)?m:s).test(u(_))}},function(x,L){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}x.exports=o},function(x,L,o){var n=o(21),a=Object.prototype,r=a.hasOwnProperty,u=a.toString,s=n?n.toStringTag:void 0;x.exports=function(c){var f=r.call(c,s),d=c[s];try{c[s]=void 0;var g=!0}catch{}var m=u.call(c);return g&&(f?c[s]=d:delete c[s]),m}},function(x,L){var o=Object.prototype.toString;x.exports=function(n){return o.call(n)}},function(x,L,o){var n,a=o(216),r=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";x.exports=function(u){return!!r&&r in u}},function(x,L,o){var n=o(8)["__core-js_shared__"];x.exports=n},function(x,L){x.exports=function(o,n){return o==null?void 0:o[n]}},function(x,L,o){var n=o(219),a=o(37),r=o(65);x.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||a),string:new n}}},function(x,L,o){var n=o(220),a=o(221),r=o(222),u=o(223),s=o(224);function c(f){var d=-1,g=f==null?0:f.length;for(this.clear();++d<g;){var m=f[d];this.set(m[0],m[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=r,c.prototype.has=u,c.prototype.set=s,x.exports=c},function(x,L,o){var n=o(39);x.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(x,L){x.exports=function(o){var n=this.has(o)&&delete this.__data__[o];return this.size-=n?1:0,n}},function(x,L,o){var n=o(39),a=Object.prototype.hasOwnProperty;x.exports=function(r){var u=this.__data__;if(n){var s=u[r];return s==="__lodash_hash_undefined__"?void 0:s}return a.call(u,r)?u[r]:void 0}},function(x,L,o){var n=o(39),a=Object.prototype.hasOwnProperty;x.exports=function(r){var u=this.__data__;return n?u[r]!==void 0:a.call(u,r)}},function(x,L,o){var n=o(39);x.exports=function(a,r){var u=this.__data__;return this.size+=this.has(a)?0:1,u[a]=n&&r===void 0?"__lodash_hash_undefined__":r,this}},function(x,L,o){var n=o(40);x.exports=function(a){var r=n(this,a).delete(a);return this.size-=r?1:0,r}},function(x,L){x.exports=function(o){var n=typeof o;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?o!=="__proto__":o===null}},function(x,L,o){var n=o(40);x.exports=function(a){return n(this,a).get(a)}},function(x,L,o){var n=o(40);x.exports=function(a){return n(this,a).has(a)}},function(x,L,o){var n=o(40);x.exports=function(a,r){var u=n(this,a),s=u.size;return u.set(a,r),this.size+=u.size==s?0:1,this}},function(x,L,o){var n=o(27),a=o(12);x.exports=function(r,u){return r&&n(u,a(u),r)}},function(x,L){x.exports=function(o,n){for(var a=-1,r=Array(o);++a<o;)r[a]=n(a);return r}},function(x,L,o){var n=o(16),a=o(9);x.exports=function(r){return a(r)&&n(r)=="[object Arguments]"}},function(x,L){x.exports=function(){return!1}},function(x,L,o){var n=o(16),a=o(69),r=o(9),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,x.exports=function(s){return r(s)&&a(s.length)&&!!u[n(s)]}},function(x,L,o){var n=o(94)(Object.keys,Object);x.exports=n},function(x,L,o){var n=o(27),a=o(17);x.exports=function(r,u){return r&&n(u,a(u),r)}},function(x,L,o){var n=o(6),a=o(45),r=o(238),u=Object.prototype.hasOwnProperty;x.exports=function(s){if(!n(s))return r(s);var c=a(s),f=[];for(var d in s)(d!="constructor"||!c&&u.call(s,d))&&f.push(d);return f}},function(x,L){x.exports=function(o){var n=[];if(o!=null)for(var a in Object(o))n.push(a);return n}},function(x,L,o){var n=o(27),a=o(72);x.exports=function(r,u){return n(r,a(r),u)}},function(x,L,o){var n=o(27),a=o(99);x.exports=function(r,u){return n(r,a(r),u)}},function(x,L,o){var n=o(101),a=o(99),r=o(17);x.exports=function(u){return n(u,r,a)}},function(x,L,o){var n=o(15)(o(8),"DataView");x.exports=n},function(x,L,o){var n=o(15)(o(8),"Promise");x.exports=n},function(x,L,o){var n=o(15)(o(8),"WeakMap");x.exports=n},function(x,L){var o=Object.prototype.hasOwnProperty;x.exports=function(n){var a=n.length,r=new n.constructor(a);return a&&typeof n[0]=="string"&&o.call(n,"index")&&(r.index=n.index,r.input=n.input),r}},function(x,L,o){var n=o(74),a=o(247),r=o(248),u=o(249),s=o(104);x.exports=function(c,f,d){var g=c.constructor;switch(f){case"[object ArrayBuffer]":return n(c);case"[object Boolean]":case"[object Date]":return new g(+c);case"[object DataView]":return a(c,d);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(c,d);case"[object Map]":return new g;case"[object Number]":case"[object String]":return new g(c);case"[object RegExp]":return r(c);case"[object Set]":return new g;case"[object Symbol]":return u(c)}}},function(x,L,o){var n=o(74);x.exports=function(a,r){var u=r?n(a.buffer):a.buffer;return new a.constructor(u,a.byteOffset,a.byteLength)}},function(x,L){var o=/\w*$/;x.exports=function(n){var a=new n.constructor(n.source,o.exec(n));return a.lastIndex=n.lastIndex,a}},function(x,L,o){var n=o(21),a=n?n.prototype:void 0,r=a?a.valueOf:void 0;x.exports=function(u){return r?Object(r.call(u)):{}}},function(x,L,o){var n=o(251),a=o(44),r=o(70),u=r&&r.isMap,s=u?a(u):n;x.exports=s},function(x,L,o){var n=o(23),a=o(9);x.exports=function(r){return a(r)&&n(r)=="[object Map]"}},function(x,L,o){var n=o(253),a=o(44),r=o(70),u=r&&r.isSet,s=u?a(u):n;x.exports=s},function(x,L,o){var n=o(23),a=o(9);x.exports=function(r){return a(r)&&n(r)=="[object Set]"}},function(x,L){x.exports=function(o){return function(n,a,r){for(var u=-1,s=Object(n),c=r(n),f=c.length;f--;){var d=c[o?f:++u];if(a(s[d],d,s)===!1)break}return n}}},function(x,L,o){var n=o(10);x.exports=function(a,r){return function(u,s){if(u==null)return u;if(!n(u))return a(u,s);for(var c=u.length,f=r?c:-1,d=Object(u);(r?f--:++f<c)&&s(d[f],f,d)!==!1;);return u}}},function(x,L,o){var n=o(47);x.exports=function(a,r){var u=[];return n(a,function(s,c,f){r(s,c,f)&&u.push(s)}),u}},function(x,L,o){var n=o(258),a=o(266),r=o(116);x.exports=function(u){var s=a(u);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(c){return c===u||n(c,u,s)}}},function(x,L,o){var n=o(36),a=o(111);x.exports=function(r,u,s,c){var f=s.length,d=f,g=!c;if(r==null)return!d;for(r=Object(r);f--;){var m=s[f];if(g&&m[2]?m[1]!==r[m[0]]:!(m[0]in r))return!1}for(;++f<d;){var _=(m=s[f])[0],R=r[_],C=m[1];if(g&&m[2]){if(R===void 0&&!(_ in r))return!1}else{var k=new n;if(c)var M=c(R,C,_,r,u,k);if(!(M===void 0?a(C,R,3,c,k):M))return!1}}return!0}},function(x,L,o){var n=o(36),a=o(112),r=o(263),u=o(265),s=o(23),c=o(2),f=o(22),d=o(29),g="[object Arguments]",m="[object Array]",_="[object Object]",R=Object.prototype.hasOwnProperty;x.exports=function(C,k,M,I,S,P){var v=c(C),b=c(k),A=v?m:s(C),O=b?m:s(k),T=(A=A==g?_:A)==_,B=(O=O==g?_:O)==_,F=A==O;if(F&&f(C)){if(!f(k))return!1;v=!0,T=!1}if(F&&!T)return P||(P=new n),v||d(C)?a(C,k,M,I,S,P):r(C,k,A,M,I,S,P);if(!(1&M)){var j=T&&R.call(C,"__wrapped__"),V=B&&R.call(k,"__wrapped__");if(j||V){var K=j?C.value():C,J=V?k.value():k;return P||(P=new n),S(K,J,M,I,P)}}return!!F&&(P||(P=new n),u(C,k,M,I,S,P))}},function(x,L){x.exports=function(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this}},function(x,L){x.exports=function(o){return this.__data__.has(o)}},function(x,L){x.exports=function(o,n){for(var a=-1,r=o==null?0:o.length;++a<r;)if(n(o[a],a,o))return!0;return!1}},function(x,L,o){var n=o(21),a=o(103),r=o(20),u=o(112),s=o(264),c=o(78),f=n?n.prototype:void 0,d=f?f.valueOf:void 0;x.exports=function(g,m,_,R,C,k,M){switch(_){case"[object DataView]":if(g.byteLength!=m.byteLength||g.byteOffset!=m.byteOffset)return!1;g=g.buffer,m=m.buffer;case"[object ArrayBuffer]":return!(g.byteLength!=m.byteLength||!k(new a(g),new a(m)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+g,+m);case"[object Error]":return g.name==m.name&&g.message==m.message;case"[object RegExp]":case"[object String]":return g==m+"";case"[object Map]":var I=s;case"[object Set]":var S=1&R;if(I||(I=c),g.size!=m.size&&!S)return!1;var P=M.get(g);if(P)return P==m;R|=2,M.set(g,m);var v=u(I(g),I(m),R,C,k,M);return M.delete(g),v;case"[object Symbol]":if(d)return d.call(g)==d.call(m)}return!1}},function(x,L){x.exports=function(o){var n=-1,a=Array(o.size);return o.forEach(function(r,u){a[++n]=[u,r]}),a}},function(x,L,o){var n=o(100),a=Object.prototype.hasOwnProperty;x.exports=function(r,u,s,c,f,d){var g=1&s,m=n(r),_=m.length;if(_!=n(u).length&&!g)return!1;for(var R=_;R--;){var C=m[R];if(!(g?C in u:a.call(u,C)))return!1}var k=d.get(r),M=d.get(u);if(k&&M)return k==u&&M==r;var I=!0;d.set(r,u),d.set(u,r);for(var S=g;++R<_;){var P=r[C=m[R]],v=u[C];if(c)var b=g?c(v,P,C,u,r,d):c(P,v,C,r,u,d);if(!(b===void 0?P===v||f(P,v,s,c,d):b)){I=!1;break}S||(S=C=="constructor")}if(I&&!S){var A=r.constructor,O=u.constructor;A==O||!("constructor"in r)||!("constructor"in u)||typeof A=="function"&&A instanceof A&&typeof O=="function"&&O instanceof O||(I=!1)}return d.delete(r),d.delete(u),I}},function(x,L,o){var n=o(115),a=o(12);x.exports=function(r){for(var u=a(r),s=u.length;s--;){var c=u[s],f=r[c];u[s]=[c,f,n(f)]}return u}},function(x,L,o){var n=o(111),a=o(268),r=o(118),u=o(79),s=o(115),c=o(116),f=o(30);x.exports=function(d,g){return u(d)&&s(g)?c(f(d),g):function(m){var _=a(m,d);return _===void 0&&_===g?r(m,d):n(g,_,3)}}},function(x,L,o){var n=o(48);x.exports=function(a,r,u){var s=a==null?void 0:n(a,r);return s===void 0?u:s}},function(x,L,o){var n=o(270),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,u=n(function(s){var c=[];return s.charCodeAt(0)===46&&c.push(""),s.replace(a,function(f,d,g,m){c.push(g?m.replace(r,"$1"):d||f)}),c});x.exports=u},function(x,L,o){var n=o(271);x.exports=function(a){var r=n(a,function(s){return u.size===500&&u.clear(),s}),u=r.cache;return r}},function(x,L,o){var n=o(66);function a(r,u){if(typeof r!="function"||u!=null&&typeof u!="function")throw new TypeError("Expected a function");var s=function(){var c=arguments,f=u?u.apply(this,c):c[0],d=s.cache;if(d.has(f))return d.get(f);var g=r.apply(this,c);return s.cache=d.set(f,g)||d,g};return s.cache=new(a.Cache||n),s}a.Cache=n,x.exports=a},function(x,L,o){var n=o(21),a=o(50),r=o(2),u=o(24),s=n?n.prototype:void 0,c=s?s.toString:void 0;x.exports=function f(d){if(typeof d=="string")return d;if(r(d))return a(d,f)+"";if(u(d))return c?c.call(d):"";var g=d+"";return g=="0"&&1/d==-1/0?"-0":g}},function(x,L){x.exports=function(o,n){return o!=null&&n in Object(o)}},function(x,L,o){var n=o(120),a=o(275),r=o(79),u=o(30);x.exports=function(s){return r(s)?n(u(s)):a(s)}},function(x,L,o){var n=o(48);x.exports=function(a){return function(r){return n(r,a)}}},function(x,L){var o=Object.prototype.hasOwnProperty;x.exports=function(n,a){return n!=null&&o.call(n,a)}},function(x,L,o){var n=o(71),a=o(23),r=o(28),u=o(2),s=o(10),c=o(22),f=o(45),d=o(29),g=Object.prototype.hasOwnProperty;x.exports=function(m){if(m==null)return!0;if(s(m)&&(u(m)||typeof m=="string"||typeof m.splice=="function"||c(m)||d(m)||r(m)))return!m.length;var _=a(m);if(_=="[object Map]"||_=="[object Set]")return!m.size;if(f(m))return!n(m).length;for(var R in m)if(g.call(m,R))return!1;return!0}},function(x,L){x.exports=function(o,n,a,r){var u=-1,s=o==null?0:o.length;for(r&&s&&(a=o[++u]);++u<s;)a=n(a,o[u],u,o);return a}},function(x,L){x.exports=function(o,n,a,r,u){return u(o,function(s,c,f){a=r?(r=!1,s):n(a,s,c,f)}),a}},function(x,L,o){var n=o(71),a=o(23),r=o(10),u=o(281),s=o(282);x.exports=function(c){if(c==null)return 0;if(r(c))return u(c)?s(c):c.length;var f=a(c);return f=="[object Map]"||f=="[object Set]"?c.size:n(c).length}},function(x,L,o){var n=o(16),a=o(2),r=o(9);x.exports=function(u){return typeof u=="string"||!a(u)&&r(u)&&n(u)=="[object String]"}},function(x,L,o){var n=o(283),a=o(284),r=o(285);x.exports=function(u){return a(u)?r(u):n(u)}},function(x,L,o){var n=o(120)("length");x.exports=n},function(x,L){var o=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");x.exports=function(n){return o.test(n)}},function(x,L){var o="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+n+"|"+a+")?",f="[\\ufe0e\\ufe0f]?",d=f+c+("(?:\\u200d(?:"+[r,u,s].join("|")+")"+f+c+")*"),g="(?:"+[r+n+"?",n,u,s,o].join("|")+")",m=RegExp(a+"(?="+a+")|"+g+d,"g");x.exports=function(_){for(var R=m.lastIndex=0;m.test(_);)++R;return R}},function(x,L,o){var n=o(67),a=o(106),r=o(76),u=o(11),s=o(46),c=o(2),f=o(22),d=o(26),g=o(6),m=o(29);x.exports=function(_,R,C){var k=c(_),M=k||f(_)||m(_);if(R=u(R,4),C==null){var I=_&&_.constructor;C=M?k?new I:[]:g(_)&&d(I)?a(s(_)):{}}return(M?n:r)(_,function(S,P,v){return R(C,S,P,v)}),C}},function(x,L,o){var n=o(80),a=o(51),r=o(292),u=o(129),s=a(function(c){return r(n(c,1,u,!0))});x.exports=s},function(x,L,o){var n=o(21),a=o(28),r=o(2),u=n?n.isConcatSpreadable:void 0;x.exports=function(s){return r(s)||a(s)||!!(u&&s&&s[u])}},function(x,L){x.exports=function(o,n,a){switch(a.length){case 0:return o.call(n);case 1:return o.call(n,a[0]);case 2:return o.call(n,a[0],a[1]);case 3:return o.call(n,a[0],a[1],a[2])}return o.apply(n,a)}},function(x,L,o){var n=o(75),a=o(92),r=o(18),u=a?function(s,c){return a(s,"toString",{configurable:!0,enumerable:!1,value:n(c),writable:!0})}:r;x.exports=u},function(x,L){var o=Date.now;x.exports=function(n){var a=0,r=0;return function(){var u=o(),s=16-(u-r);if(r=u,s>0){if(++a>=800)return arguments[0]}else a=0;return n.apply(void 0,arguments)}}},function(x,L,o){var n=o(113),a=o(293),r=o(297),u=o(114),s=o(298),c=o(78);x.exports=function(f,d,g){var m=-1,_=a,R=f.length,C=!0,k=[],M=k;if(g)C=!1,_=r;else if(R>=200){var I=d?null:s(f);if(I)return c(I);C=!1,_=u,M=new n}else M=d?[]:k;e:for(;++m<R;){var S=f[m],P=d?d(S):S;if(S=g||S!==0?S:0,C&&P==P){for(var v=M.length;v--;)if(M[v]===P)continue e;d&&M.push(P),k.push(S)}else _(M,P,g)||(M!==k&&M.push(P),k.push(S))}return k}},function(x,L,o){var n=o(294);x.exports=function(a,r){return!!(a!=null&&a.length)&&n(a,r,0)>-1}},function(x,L,o){var n=o(128),a=o(295),r=o(296);x.exports=function(u,s,c){return s==s?r(u,s,c):n(u,a,c)}},function(x,L){x.exports=function(o){return o!=o}},function(x,L){x.exports=function(o,n,a){for(var r=a-1,u=o.length;++r<u;)if(o[r]===n)return r;return-1}},function(x,L){x.exports=function(o,n,a){for(var r=-1,u=o==null?0:o.length;++r<u;)if(a(n,o[r]))return!0;return!1}},function(x,L,o){var n=o(102),a=o(299),r=o(78),u=n&&1/r(new n([,-0]))[1]==1/0?function(s){return new n(s)}:a;x.exports=u},function(x,L){x.exports=function(){}},function(x,L,o){var n=o(50);x.exports=function(a,r){return n(r,function(u){return a[u]})}},function(x,L){x.exports="2.1.8"},function(x,L,o){var n=o(5),a=o(64);function r(s){return n.map(s.nodes(),function(c){var f=s.node(c),d=s.parent(c),g={v:c};return n.isUndefined(f)||(g.value=f),n.isUndefined(d)||(g.parent=d),g})}function u(s){return n.map(s.edges(),function(c){var f=s.edge(c),d={v:c.v,w:c.w};return n.isUndefined(c.name)||(d.name=c.name),n.isUndefined(f)||(d.value=f),d})}x.exports={write:function(s){var c={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:u(s)};return n.isUndefined(s.graph())||(c.value=n.clone(s.graph())),c},read:function(s){var c=new a(s.options).setGraph(s.value);return n.each(s.nodes,function(f){c.setNode(f.v,f.value),f.parent&&c.setParent(f.v,f.parent)}),n.each(s.edges,function(f){c.setEdge({v:f.v,w:f.w,name:f.name},f.value)}),c}}},function(x,L,o){x.exports={components:o(304),dijkstra:o(131),dijkstraAll:o(305),findCycles:o(306),floydWarshall:o(307),isAcyclic:o(308),postorder:o(309),preorder:o(310),prim:o(311),tarjan:o(133),topsort:o(134)}},function(x,L,o){var n=o(5);x.exports=function(a){var r,u={},s=[];function c(f){n.has(u,f)||(u[f]=!0,r.push(f),n.each(a.successors(f),c),n.each(a.predecessors(f),c))}return n.each(a.nodes(),function(f){r=[],c(f),r.length&&s.push(r)}),s}},function(x,L,o){var n=o(131),a=o(5);x.exports=function(r,u,s){return a.transform(r.nodes(),function(c,f){c[f]=n(r,f,u,s)},{})}},function(x,L,o){var n=o(5),a=o(133);x.exports=function(r){return n.filter(a(r),function(u){return u.length>1||u.length===1&&r.hasEdge(u[0],u[0])})}},function(x,L,o){var n=o(5);x.exports=function(r,u,s){return function(c,f,d){var g={},m=c.nodes();return m.forEach(function(_){g[_]={},g[_][_]={distance:0},m.forEach(function(R){_!==R&&(g[_][R]={distance:Number.POSITIVE_INFINITY})}),d(_).forEach(function(R){var C=R.v===_?R.w:R.v,k=f(R);g[_][C]={distance:k,predecessor:_}})}),m.forEach(function(_){var R=g[_];m.forEach(function(C){var k=g[C];m.forEach(function(M){var I=k[_],S=R[M],P=k[M],v=I.distance+S.distance;v<P.distance&&(P.distance=v,P.predecessor=S.predecessor)})})}),g}(r,u||a,s||function(c){return r.outEdges(c)})};var a=n.constant(1)},function(x,L,o){var n=o(134);x.exports=function(a){try{n(a)}catch(r){if(r instanceof n.CycleException)return!1;throw r}return!0}},function(x,L,o){var n=o(135);x.exports=function(a,r){return n(a,r,"post")}},function(x,L,o){var n=o(135);x.exports=function(a,r){return n(a,r,"pre")}},function(x,L,o){var n=o(5),a=o(64),r=o(132);x.exports=function(u,s){var c,f=new a,d={},g=new r;function m(R){var C=R.v===c?R.w:R.v,k=g.priority(C);if(k!==void 0){var M=s(R);M<k&&(d[C]=c,g.decrease(C,M))}}if(u.nodeCount()===0)return f;n.each(u.nodes(),function(R){g.add(R,Number.POSITIVE_INFINITY),f.setNode(R)}),g.decrease(u.nodes()[0],0);for(var _=!1;g.size()>0;){if(c=g.removeMin(),n.has(d,c))f.setEdge(c,d[c]);else{if(_)throw new Error("Input graph is not connected: "+u);_=!0}u.nodeEdges(c).forEach(m)}return f}},function(x,L,o){var n=o(1),a=o(350),r=o(353),u=o(354),s=o(3).normalizeRanks,c=o(356),f=o(3).removeEmptyRanks,d=o(357),g=o(358),m=o(359),_=o(360),R=o(369),C=o(3),k=o(7).Graph;x.exports=function(F,j){var V=j&&j.debugTiming?C.time:C.notime;V("layout",function(){var K=V("  buildLayoutGraph",function(){return function(J){var Y=new k({multigraph:!0,compound:!0}),X=B(J.graph());return Y.setGraph(n.merge({},I,T(X,M),n.pick(X,S))),n.forEach(J.nodes(),function(W){var G=B(J.node(W));Y.setNode(W,n.defaults(T(G,P),v)),Y.setParent(W,J.parent(W))}),n.forEach(J.edges(),function(W){var G=B(J.edge(W));Y.setEdge(W,n.merge({},A,T(G,b),n.pick(G,O)))}),Y}(F)});V("  runLayout",function(){(function(J,Y){Y("    makeSpaceForEdgeLabels",function(){(function(X){var W=X.graph();W.ranksep/=2,n.forEach(X.edges(),function(G){var ne=X.edge(G);ne.minlen*=2,ne.labelpos.toLowerCase()!=="c"&&(W.rankdir==="TB"||W.rankdir==="BT"?ne.width+=ne.labeloffset:ne.height+=ne.labeloffset)})})(J)}),Y("    removeSelfEdges",function(){(function(X){n.forEach(X.edges(),function(W){if(W.v===W.w){var G=X.node(W.v);G.selfEdges||(G.selfEdges=[]),G.selfEdges.push({e:W,label:X.edge(W)}),X.removeEdge(W)}})})(J)}),Y("    acyclic",function(){a.run(J)}),Y("    nestingGraph.run",function(){d.run(J)}),Y("    rank",function(){u(C.asNonCompoundGraph(J))}),Y("    injectEdgeLabelProxies",function(){(function(X){n.forEach(X.edges(),function(W){var G=X.edge(W);if(G.width&&G.height){var ne=X.node(W.v),ue={rank:(X.node(W.w).rank-ne.rank)/2+ne.rank,e:W};C.addDummyNode(X,"edge-proxy",ue,"_ep")}})})(J)}),Y("    removeEmptyRanks",function(){f(J)}),Y("    nestingGraph.cleanup",function(){d.cleanup(J)}),Y("    normalizeRanks",function(){s(J)}),Y("    assignRankMinMax",function(){(function(X){var W=0;n.forEach(X.nodes(),function(G){var ne=X.node(G);ne.borderTop&&(ne.minRank=X.node(ne.borderTop).rank,ne.maxRank=X.node(ne.borderBottom).rank,W=n.max(W,ne.maxRank))}),X.graph().maxRank=W})(J)}),Y("    removeEdgeLabelProxies",function(){(function(X){n.forEach(X.nodes(),function(W){var G=X.node(W);G.dummy==="edge-proxy"&&(X.edge(G.e).labelRank=G.rank,X.removeNode(W))})})(J)}),Y("    normalize.run",function(){r.run(J)}),Y("    parentDummyChains",function(){c(J)}),Y("    addBorderSegments",function(){g(J)}),Y("    order",function(){_(J)}),Y("    insertSelfEdges",function(){(function(X){var W=C.buildLayerMatrix(X);n.forEach(W,function(G){var ne=0;n.forEach(G,function(ue,re){var pe=X.node(ue);pe.order=re+ne,n.forEach(pe.selfEdges,function(ae){C.addDummyNode(X,"selfedge",{width:ae.label.width,height:ae.label.height,rank:pe.rank,order:re+ ++ne,e:ae.e,label:ae.label},"_se")}),delete pe.selfEdges})})})(J)}),Y("    adjustCoordinateSystem",function(){m.adjust(J)}),Y("    position",function(){R(J)}),Y("    positionSelfEdges",function(){(function(X){n.forEach(X.nodes(),function(W){var G=X.node(W);if(G.dummy==="selfedge"){var ne=X.node(G.e.v),ue=ne.x+ne.width/2,re=ne.y,pe=G.x-ue,ae=ne.height/2;X.setEdge(G.e,G.label),X.removeNode(W),G.label.points=[{x:ue+2*pe/3,y:re-ae},{x:ue+5*pe/6,y:re-ae},{x:ue+pe,y:re},{x:ue+5*pe/6,y:re+ae},{x:ue+2*pe/3,y:re+ae}],G.label.x=G.x,G.label.y=G.y}})})(J)}),Y("    removeBorderNodes",function(){(function(X){n.forEach(X.nodes(),function(W){if(X.children(W).length){var G=X.node(W),ne=X.node(G.borderTop),ue=X.node(G.borderBottom),re=X.node(n.last(G.borderLeft)),pe=X.node(n.last(G.borderRight));G.width=Math.abs(pe.x-re.x),G.height=Math.abs(ue.y-ne.y),G.x=re.x+G.width/2,G.y=ne.y+G.height/2}}),n.forEach(X.nodes(),function(W){X.node(W).dummy==="border"&&X.removeNode(W)})})(J)}),Y("    normalize.undo",function(){r.undo(J)}),Y("    fixupEdgeLabelCoords",function(){(function(X){n.forEach(X.edges(),function(W){var G=X.edge(W);if(n.has(G,"x"))switch(G.labelpos!=="l"&&G.labelpos!=="r"||(G.width-=G.labeloffset),G.labelpos){case"l":G.x-=G.width/2+G.labeloffset;break;case"r":G.x+=G.width/2+G.labeloffset}})})(J)}),Y("    undoCoordinateSystem",function(){m.undo(J)}),Y("    translateGraph",function(){(function(X){var W=Number.POSITIVE_INFINITY,G=0,ne=Number.POSITIVE_INFINITY,ue=0,re=X.graph(),pe=re.marginx||0,ae=re.marginy||0;function me(Q){var le=Q.x,Z=Q.y,be=Q.width,ke=Q.height;W=Math.min(W,le-be/2),G=Math.max(G,le+be/2),ne=Math.min(ne,Z-ke/2),ue=Math.max(ue,Z+ke/2)}n.forEach(X.nodes(),function(Q){me(X.node(Q))}),n.forEach(X.edges(),function(Q){var le=X.edge(Q);n.has(le,"x")&&me(le)}),W-=pe,ne-=ae,n.forEach(X.nodes(),function(Q){var le=X.node(Q);le.x-=W,le.y-=ne}),n.forEach(X.edges(),function(Q){var le=X.edge(Q);n.forEach(le.points,function(Z){Z.x-=W,Z.y-=ne}),n.has(le,"x")&&(le.x-=W),n.has(le,"y")&&(le.y-=ne)}),re.width=G-W+pe,re.height=ue-ne+ae})(J)}),Y("    assignNodeIntersects",function(){(function(X){n.forEach(X.edges(),function(W){var G,ne,ue=X.edge(W),re=X.node(W.v),pe=X.node(W.w);ue.points?(G=ue.points[0],ne=ue.points[ue.points.length-1]):(ue.points=[],G=pe,ne=re),ue.points.unshift(C.intersectRect(re,G)),ue.points.push(C.intersectRect(pe,ne))})})(J)}),Y("    reversePoints",function(){(function(X){n.forEach(X.edges(),function(W){var G=X.edge(W);G.reversed&&G.points.reverse()})})(J)}),Y("    acyclic.undo",function(){a.undo(J)})})(K,V)}),V("  updateInputGraph",function(){(function(J,Y){n.forEach(J.nodes(),function(X){var W=J.node(X),G=Y.node(X);W&&(W.x=G.x,W.y=G.y,Y.children(X).length&&(W.width=G.width,W.height=G.height))}),n.forEach(J.edges(),function(X){var W=J.edge(X),G=Y.edge(X);W.points=G.points,n.has(G,"x")&&(W.x=G.x,W.y=G.y)}),J.graph().width=Y.graph().width,J.graph().height=Y.graph().height})(F,K)})})};var M=["nodesep","edgesep","ranksep","marginx","marginy"],I={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},S=["acyclicer","ranker","rankdir","align"],P=["width","height"],v={width:0,height:0},b=["minlen","weight","width","height","labeloffset"],A={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},O=["labelpos"];function T(F,j){return n.mapValues(n.pick(F,j),Number)}function B(F){var j={};return n.forEach(F,function(V,K){j[K.toLowerCase()]=V}),j}},function(x,L,o){var n=o(89);x.exports=function(a){return n(a,5)}},function(x,L,o){var n=o(51),a=o(20),r=o(52),u=o(17),s=Object.prototype,c=s.hasOwnProperty,f=n(function(d,g){d=Object(d);var m=-1,_=g.length,R=_>2?g[2]:void 0;for(R&&r(g[0],g[1],R)&&(_=1);++m<_;)for(var C=g[m],k=u(C),M=-1,I=k.length;++M<I;){var S=k[M],P=d[S];(P===void 0||a(P,s[S])&&!c.call(d,S))&&(d[S]=C[S])}return d});x.exports=f},function(x,L,o){var n=o(316)(o(317));x.exports=n},function(x,L,o){var n=o(11),a=o(10),r=o(12);x.exports=function(u){return function(s,c,f){var d=Object(s);if(!a(s)){var g=n(c,3);s=r(s),c=function(_){return g(d[_],_,d)}}var m=u(s,c,f);return m>-1?d[g?s[m]:m]:void 0}}},function(x,L,o){var n=o(128),a=o(11),r=o(318),u=Math.max;x.exports=function(s,c,f){var d=s==null?0:s.length;if(!d)return-1;var g=f==null?0:r(f);return g<0&&(g=u(d+g,0)),n(s,a(c,3),g)}},function(x,L,o){var n=o(136);x.exports=function(a){var r=n(a),u=r%1;return r==r?u?r-u:r:0}},function(x,L,o){var n=o(6),a=o(24),r=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;x.exports=function(d){if(typeof d=="number")return d;if(a(d))return NaN;if(n(d)){var g=typeof d.valueOf=="function"?d.valueOf():d;d=n(g)?g+"":g}if(typeof d!="string")return d===0?d:+d;d=d.replace(r,"");var m=s.test(d);return m||c.test(d)?f(d.slice(2),m?2:8):u.test(d)?NaN:+d}},function(x,L,o){var n=o(77),a=o(109),r=o(17);x.exports=function(u,s){return u==null?u:n(u,a(s),r)}},function(x,L){x.exports=function(o){var n=o==null?0:o.length;return n?o[n-1]:void 0}},function(x,L,o){var n=o(42),a=o(76),r=o(11);x.exports=function(u,s){var c={};return s=r(s,3),a(u,function(f,d,g){n(c,d,s(f,d,g))}),c}},function(x,L,o){var n=o(81),a=o(324),r=o(18);x.exports=function(u){return u&&u.length?n(u,r,a):void 0}},function(x,L){x.exports=function(o,n){return o>n}},function(x,L,o){var n=o(326),a=o(330)(function(r,u,s){n(r,u,s)});x.exports=a},function(x,L,o){var n=o(36),a=o(138),r=o(77),u=o(327),s=o(6),c=o(17),f=o(139);x.exports=function d(g,m,_,R,C){g!==m&&r(m,function(k,M){if(C||(C=new n),s(k))u(g,m,M,_,d,R,C);else{var I=R?R(f(g,M),k,M+"",g,m,C):void 0;I===void 0&&(I=k),a(g,M,I)}},c)}},function(x,L,o){var n=o(138),a=o(95),r=o(104),u=o(96),s=o(105),c=o(28),f=o(2),d=o(129),g=o(22),m=o(26),_=o(6),R=o(328),C=o(29),k=o(139),M=o(329);x.exports=function(I,S,P,v,b,A,O){var T=k(I,P),B=k(S,P),F=O.get(B);if(F)n(I,P,F);else{var j=A?A(T,B,P+"",I,S,O):void 0,V=j===void 0;if(V){var K=f(B),J=!K&&g(B),Y=!K&&!J&&C(B);j=B,K||J||Y?f(T)?j=T:d(T)?j=u(T):J?(V=!1,j=a(B,!0)):Y?(V=!1,j=r(B,!0)):j=[]:R(B)||c(B)?(j=T,c(T)?j=M(T):_(T)&&!m(T)||(j=s(B))):V=!1}V&&(O.set(B,j),b(j,B,v,A,O),O.delete(B)),n(I,P,j)}}},function(x,L,o){var n=o(16),a=o(46),r=o(9),u=Function.prototype,s=Object.prototype,c=u.toString,f=s.hasOwnProperty,d=c.call(Object);x.exports=function(g){if(!r(g)||n(g)!="[object Object]")return!1;var m=a(g);if(m===null)return!0;var _=f.call(m,"constructor")&&m.constructor;return typeof _=="function"&&_ instanceof _&&c.call(_)==d}},function(x,L,o){var n=o(27),a=o(17);x.exports=function(r){return n(r,a(r))}},function(x,L,o){var n=o(51),a=o(52);x.exports=function(r){return n(function(u,s){var c=-1,f=s.length,d=f>1?s[f-1]:void 0,g=f>2?s[2]:void 0;for(d=r.length>3&&typeof d=="function"?(f--,d):void 0,g&&a(s[0],s[1],g)&&(d=f<3?void 0:d,f=1),u=Object(u);++c<f;){var m=s[c];m&&r(u,m,c,d)}return u})}},function(x,L,o){var n=o(81),a=o(140),r=o(18);x.exports=function(u){return u&&u.length?n(u,r,a):void 0}},function(x,L,o){var n=o(81),a=o(11),r=o(140);x.exports=function(u,s){return u&&u.length?n(u,a(s,2),r):void 0}},function(x,L,o){var n=o(8);x.exports=function(){return n.Date.now()}},function(x,L,o){var n=o(335),a=o(338)(function(r,u){return r==null?{}:n(r,u)});x.exports=a},function(x,L,o){var n=o(336),a=o(118);x.exports=function(r,u){return n(r,u,function(s,c){return a(r,c)})}},function(x,L,o){var n=o(48),a=o(337),r=o(49);x.exports=function(u,s,c){for(var f=-1,d=s.length,g={};++f<d;){var m=s[f],_=n(u,m);c(_,m)&&a(g,r(m,u),_)}return g}},function(x,L,o){var n=o(41),a=o(49),r=o(43),u=o(6),s=o(30);x.exports=function(c,f,d,g){if(!u(c))return c;for(var m=-1,_=(f=a(f,c)).length,R=_-1,C=c;C!=null&&++m<_;){var k=s(f[m]),M=d;if(k==="__proto__"||k==="constructor"||k==="prototype")return c;if(m!=R){var I=C[k];(M=g?g(I,k,C):void 0)===void 0&&(M=u(I)?I:r(f[m+1])?[]:{})}n(C,k,M),C=C[k]}return c}},function(x,L,o){var n=o(137),a=o(126),r=o(127);x.exports=function(u){return r(a(u,void 0,n),u+"")}},function(x,L,o){var n=o(340)();x.exports=n},function(x,L,o){var n=o(341),a=o(52),r=o(136);x.exports=function(u){return function(s,c,f){return f&&typeof f!="number"&&a(s,c,f)&&(c=f=void 0),s=r(s),c===void 0?(c=s,s=0):c=r(c),f=f===void 0?s<c?1:-1:r(f),n(s,c,f,u)}}},function(x,L){var o=Math.ceil,n=Math.max;x.exports=function(a,r,u,s){for(var c=-1,f=n(o((r-a)/(u||1)),0),d=Array(f);f--;)d[s?f:++c]=a,a+=u;return d}},function(x,L,o){var n=o(80),a=o(343),r=o(51),u=o(52),s=r(function(c,f){if(c==null)return[];var d=f.length;return d>1&&u(c,f[0],f[1])?f=[]:d>2&&u(f[0],f[1],f[2])&&(f=[f[0]]),a(c,n(f,1),[])});x.exports=s},function(x,L,o){var n=o(50),a=o(48),r=o(11),u=o(124),s=o(344),c=o(44),f=o(345),d=o(18),g=o(2);x.exports=function(m,_,R){_=_.length?n(_,function(M){return g(M)?function(I){return a(I,M.length===1?M[0]:M)}:M}):[d];var C=-1;_=n(_,c(r));var k=u(m,function(M,I,S){return{criteria:n(_,function(P){return P(M)}),index:++C,value:M}});return s(k,function(M,I){return f(M,I,R)})}},function(x,L){x.exports=function(o,n){var a=o.length;for(o.sort(n);a--;)o[a]=o[a].value;return o}},function(x,L,o){var n=o(346);x.exports=function(a,r,u){for(var s=-1,c=a.criteria,f=r.criteria,d=c.length,g=u.length;++s<d;){var m=n(c[s],f[s]);if(m)return s>=g?m:m*(u[s]=="desc"?-1:1)}return a.index-r.index}},function(x,L,o){var n=o(24);x.exports=function(a,r){if(a!==r){var u=a!==void 0,s=a===null,c=a==a,f=n(a),d=r!==void 0,g=r===null,m=r==r,_=n(r);if(!g&&!_&&!f&&a>r||f&&d&&m&&!g&&!_||s&&d&&m||!u&&m||!c)return 1;if(!s&&!f&&!_&&a<r||_&&u&&c&&!s&&!f||g&&u&&c||!d&&c||!m)return-1}return 0}},function(x,L,o){var n=o(117),a=0;x.exports=function(r){var u=++a;return n(r)+u}},function(x,L,o){var n=o(41),a=o(349);x.exports=function(r,u){return a(r||[],u||[],n)}},function(x,L){x.exports=function(o,n,a){for(var r=-1,u=o.length,s=n.length,c={};++r<u;){var f=r<s?n[r]:void 0;a(c,o[r],f)}return c}},function(x,L,o){var n=o(1),a=o(351);x.exports={run:function(r){var u=r.graph().acyclicer==="greedy"?a(r,function(s){return function(c){return s.edge(c).weight}}(r)):function(s){var c=[],f={},d={};function g(m){n.has(d,m)||(d[m]=!0,f[m]=!0,n.forEach(s.outEdges(m),function(_){n.has(f,_.w)?c.push(_):g(_.w)}),delete f[m])}return n.forEach(s.nodes(),g),c}(r);n.forEach(u,function(s){var c=r.edge(s);r.removeEdge(s),c.forwardName=s.name,c.reversed=!0,r.setEdge(s.w,s.v,c,n.uniqueId("rev"))})},undo:function(r){n.forEach(r.edges(),function(u){var s=r.edge(u);if(s.reversed){r.removeEdge(u);var c=s.forwardName;delete s.reversed,delete s.forwardName,r.setEdge(u.w,u.v,s,c)}})}}},function(x,L,o){var n=o(1),a=o(7).Graph,r=o(352);x.exports=function(f,d){if(f.nodeCount()<=1)return[];var g=function(_,R){var C=new a,k=0,M=0;n.forEach(_.nodes(),function(P){C.setNode(P,{v:P,in:0,out:0})}),n.forEach(_.edges(),function(P){var v=C.edge(P.v,P.w)||0,b=R(P),A=v+b;C.setEdge(P.v,P.w,A),M=Math.max(M,C.node(P.v).out+=b),k=Math.max(k,C.node(P.w).in+=b)});var I=n.range(M+k+3).map(function(){return new r}),S=k+1;return n.forEach(C.nodes(),function(P){c(I,S,C.node(P))}),{graph:C,buckets:I,zeroIdx:S}}(f,d||u),m=function(_,R,C){for(var k,M=[],I=R[R.length-1],S=R[0];_.nodeCount();){for(;k=S.dequeue();)s(_,R,C,k);for(;k=I.dequeue();)s(_,R,C,k);if(_.nodeCount()){for(var P=R.length-2;P>0;--P)if(k=R[P].dequeue()){M=M.concat(s(_,R,C,k,!0));break}}}return M}(g.graph,g.buckets,g.zeroIdx);return n.flatten(n.map(m,function(_){return f.outEdges(_.v,_.w)}),!0)};var u=n.constant(1);function s(f,d,g,m,_){var R=_?[]:void 0;return n.forEach(f.inEdges(m.v),function(C){var k=f.edge(C),M=f.node(C.v);_&&R.push({v:C.v,w:C.w}),M.out-=k,c(d,g,M)}),n.forEach(f.outEdges(m.v),function(C){var k=f.edge(C),M=C.w,I=f.node(M);I.in-=k,c(d,g,I)}),f.removeNode(m.v),R}function c(f,d,g){g.out?g.in?f[g.out-g.in+d].enqueue(g):f[f.length-1].enqueue(g):f[0].enqueue(g)}},function(x,L){function o(){var r={};r._next=r._prev=r,this._sentinel=r}function n(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function a(r,u){if(r!=="_next"&&r!=="_prev")return u}x.exports=o,o.prototype.dequeue=function(){var r=this._sentinel,u=r._prev;if(u!==r)return n(u),u},o.prototype.enqueue=function(r){var u=this._sentinel;r._prev&&r._next&&n(r),r._next=u._next,u._next._prev=r,u._next=r,r._prev=u},o.prototype.toString=function(){for(var r=[],u=this._sentinel,s=u._prev;s!==u;)r.push(JSON.stringify(s,a)),s=s._prev;return"["+r.join(", ")+"]"}},function(x,L,o){var n=o(1),a=o(3);x.exports={run:function(r){r.graph().dummyChains=[],n.forEach(r.edges(),function(u){(function(s,c){var f,d,g,m=c.v,_=s.node(m).rank,R=c.w,C=s.node(R).rank,k=c.name,M=s.edge(c),I=M.labelRank;if(C!==_+1){for(s.removeEdge(c),g=0,++_;_<C;++g,++_)M.points=[],d={width:0,height:0,edgeLabel:M,edgeObj:c,rank:_},f=a.addDummyNode(s,"edge",d,"_d"),_===I&&(d.width=M.width,d.height=M.height,d.dummy="edge-label",d.labelpos=M.labelpos),s.setEdge(m,f,{weight:M.weight},k),g===0&&s.graph().dummyChains.push(f),m=f;s.setEdge(m,R,{weight:M.weight},k)}})(r,u)})},undo:function(r){n.forEach(r.graph().dummyChains,function(u){var s,c=r.node(u),f=c.edgeLabel;for(r.setEdge(c.edgeObj,f);c.dummy;)s=r.successors(u)[0],r.removeNode(u),f.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(f.x=c.x,f.y=c.y,f.width=c.width,f.height=c.height),u=s,c=r.node(u)})}}},function(x,L,o){var n=o(53).longestPath,a=o(141),r=o(355);x.exports=function(c){switch(c.graph().ranker){case"network-simplex":s(c);break;case"tight-tree":(function(f){n(f),a(f)})(c);break;case"longest-path":u(c);break;default:s(c)}};var u=n;function s(c){r(c)}},function(x,L,o){var n=o(1),a=o(141),r=o(53).slack,u=o(53).longestPath,s=o(7).alg.preorder,c=o(7).alg.postorder,f=o(3).simplify;function d(S){S=f(S),u(S);var P,v=a(S);for(_(v),g(v,S);P=C(v);)M(v,S,P,k(v,S,P))}function g(S,P){var v=c(S,S.nodes());v=v.slice(0,v.length-1),n.forEach(v,function(b){(function(A,O,T){var B=A.node(T).parent;A.edge(T,B).cutvalue=m(A,O,T)})(S,P,b)})}function m(S,P,v){var b=S.node(v).parent,A=!0,O=P.edge(v,b),T=0;return O||(A=!1,O=P.edge(b,v)),T=O.weight,n.forEach(P.nodeEdges(v),function(B){var F,j,V=B.v===v,K=V?B.w:B.v;if(K!==b){var J=V===A,Y=P.edge(B).weight;if(T+=J?Y:-Y,F=v,j=K,S.hasEdge(F,j)){var X=S.edge(v,K).cutvalue;T+=J?-X:X}}}),T}function _(S,P){arguments.length<2&&(P=S.nodes()[0]),R(S,{},1,P)}function R(S,P,v,b,A){var O=v,T=S.node(b);return P[b]=!0,n.forEach(S.neighbors(b),function(B){n.has(P,B)||(v=R(S,P,v,B,b))}),T.low=O,T.lim=v++,A?T.parent=A:delete T.parent,v}function C(S){return n.find(S.edges(),function(P){return S.edge(P).cutvalue<0})}function k(S,P,v){var b=v.v,A=v.w;P.hasEdge(b,A)||(b=v.w,A=v.v);var O=S.node(b),T=S.node(A),B=O,F=!1;O.lim>T.lim&&(B=T,F=!0);var j=n.filter(P.edges(),function(V){return F===I(S,S.node(V.v),B)&&F!==I(S,S.node(V.w),B)});return n.minBy(j,function(V){return r(P,V)})}function M(S,P,v,b){var A=v.v,O=v.w;S.removeEdge(A,O),S.setEdge(b.v,b.w,{}),_(S),g(S,P),function(T,B){var F=n.find(T.nodes(),function(V){return!B.node(V).parent}),j=s(T,F);j=j.slice(1),n.forEach(j,function(V){var K=T.node(V).parent,J=B.edge(V,K),Y=!1;J||(J=B.edge(K,V),Y=!0),B.node(V).rank=B.node(K).rank+(Y?J.minlen:-J.minlen)})}(S,P)}function I(S,P,v){return v.low<=P.lim&&P.lim<=v.lim}x.exports=d,d.initLowLimValues=_,d.initCutValues=g,d.calcCutValue=m,d.leaveEdge=C,d.enterEdge=k,d.exchangeEdges=M},function(x,L,o){var n=o(1);x.exports=function(a){var r=function(u){var s={},c=0;function f(d){var g=c;n.forEach(u.children(d),f),s[d]={low:g,lim:c++}}return n.forEach(u.children(),f),s}(a);n.forEach(a.graph().dummyChains,function(u){for(var s=a.node(u),c=s.edgeObj,f=function(C,k,M,I){var S,P,v=[],b=[],A=Math.min(k[M].low,k[I].low),O=Math.max(k[M].lim,k[I].lim);S=M;do S=C.parent(S),v.push(S);while(S&&(k[S].low>A||O>k[S].lim));for(P=S,S=I;(S=C.parent(S))!==P;)b.push(S);return{path:v.concat(b.reverse()),lca:P}}(a,r,c.v,c.w),d=f.path,g=f.lca,m=0,_=d[m],R=!0;u!==c.w;){if(s=a.node(u),R){for(;(_=d[m])!==g&&a.node(_).maxRank<s.rank;)m++;_===g&&(R=!1)}if(!R){for(;m<d.length-1&&a.node(_=d[m+1]).minRank<=s.rank;)m++;_=d[m]}a.setParent(u,_),u=a.successors(u)[0]}})}},function(x,L,o){var n=o(1),a=o(3);function r(u,s,c,f,d,g,m){var _=u.children(m);if(_.length){var R=a.addBorderNode(u,"_bt"),C=a.addBorderNode(u,"_bb"),k=u.node(m);u.setParent(R,m),k.borderTop=R,u.setParent(C,m),k.borderBottom=C,n.forEach(_,function(M){r(u,s,c,f,d,g,M);var I=u.node(M),S=I.borderTop?I.borderTop:M,P=I.borderBottom?I.borderBottom:M,v=I.borderTop?f:2*f,b=S!==P?1:d-g[m]+1;u.setEdge(R,S,{weight:v,minlen:b,nestingEdge:!0}),u.setEdge(P,C,{weight:v,minlen:b,nestingEdge:!0})}),u.parent(m)||u.setEdge(s,R,{weight:0,minlen:d+g[m]})}else m!==s&&u.setEdge(s,m,{weight:0,minlen:c})}x.exports={run:function(u){var s=a.addDummyNode(u,"root",{},"_root"),c=function(m){var _={};function R(C,k){var M=m.children(C);M&&M.length&&n.forEach(M,function(I){R(I,k+1)}),_[C]=k}return n.forEach(m.children(),function(C){R(C,1)}),_}(u),f=n.max(n.values(c))-1,d=2*f+1;u.graph().nestingRoot=s,n.forEach(u.edges(),function(m){u.edge(m).minlen*=d});var g=function(m){return n.reduce(m.edges(),function(_,R){return _+m.edge(R).weight},0)}(u)+1;n.forEach(u.children(),function(m){r(u,s,d,g,f,c,m)}),u.graph().nodeRankFactor=d},cleanup:function(u){var s=u.graph();u.removeNode(s.nestingRoot),delete s.nestingRoot,n.forEach(u.edges(),function(c){u.edge(c).nestingEdge&&u.removeEdge(c)})}}},function(x,L,o){var n=o(1),a=o(3);function r(u,s,c,f,d,g){var m={width:0,height:0,rank:g,borderType:s},_=d[s][g-1],R=a.addDummyNode(u,"border",m,c);d[s][g]=R,u.setParent(R,f),_&&u.setEdge(_,R,{weight:1})}x.exports=function(u){n.forEach(u.children(),function s(c){var f=u.children(c),d=u.node(c);if(f.length&&n.forEach(f,s),n.has(d,"minRank")){d.borderLeft=[],d.borderRight=[];for(var g=d.minRank,m=d.maxRank+1;g<m;++g)r(u,"borderLeft","_bl",c,d,g),r(u,"borderRight","_br",c,d,g)}})}},function(x,L,o){var n=o(1);function a(c){n.forEach(c.nodes(),function(f){r(c.node(f))}),n.forEach(c.edges(),function(f){r(c.edge(f))})}function r(c){var f=c.width;c.width=c.height,c.height=f}function u(c){c.y=-c.y}function s(c){var f=c.x;c.x=c.y,c.y=f}x.exports={adjust:function(c){var f=c.graph().rankdir.toLowerCase();f!=="lr"&&f!=="rl"||a(c)},undo:function(c){var f=c.graph().rankdir.toLowerCase();f!=="bt"&&f!=="rl"||function(d){n.forEach(d.nodes(),function(g){u(d.node(g))}),n.forEach(d.edges(),function(g){var m=d.edge(g);n.forEach(m.points,u),n.has(m,"y")&&u(m)})}(c),f!=="lr"&&f!=="rl"||(function(d){n.forEach(d.nodes(),function(g){s(d.node(g))}),n.forEach(d.edges(),function(g){var m=d.edge(g);n.forEach(m.points,s),n.has(m,"x")&&s(m)})}(c),a(c))}}},function(x,L,o){var n=o(1),a=o(361),r=o(362),u=o(363),s=o(367),c=o(368),f=o(7).Graph,d=o(3);function g(R,C,k){return n.map(C,function(M){return s(R,M,k)})}function m(R,C){var k=new f;n.forEach(R,function(M){var I=M.graph().root,S=u(M,I,k,C);n.forEach(S.vs,function(P,v){M.node(P).order=v}),c(M,k,S.vs)})}function _(R,C){n.forEach(C,function(k){n.forEach(k,function(M,I){R.node(M).order=I})})}x.exports=function(R){var C=d.maxRank(R),k=g(R,n.range(1,C+1),"inEdges"),M=g(R,n.range(C-1,-1,-1),"outEdges"),I=a(R);_(R,I);for(var S,P=Number.POSITIVE_INFINITY,v=0,b=0;b<4;++v,++b){m(v%2?k:M,v%4>=2),I=d.buildLayerMatrix(R);var A=r(R,I);A<P&&(b=0,S=n.cloneDeep(I),P=A)}_(R,S)}},function(x,L,o){var n=o(1);x.exports=function(a){var r={},u=n.filter(a.nodes(),function(d){return!a.children(d).length}),s=n.max(n.map(u,function(d){return a.node(d).rank})),c=n.map(n.range(s+1),function(){return[]}),f=n.sortBy(u,function(d){return a.node(d).rank});return n.forEach(f,function d(g){if(!n.has(r,g)){r[g]=!0;var m=a.node(g);c[m.rank].push(g),n.forEach(a.successors(g),d)}}),c}},function(x,L,o){var n=o(1);function a(r,u,s){for(var c=n.zipObject(s,n.map(s,function(R,C){return C})),f=n.flatten(n.map(u,function(R){return n.sortBy(n.map(r.outEdges(R),function(C){return{pos:c[C.w],weight:r.edge(C).weight}}),"pos")}),!0),d=1;d<s.length;)d<<=1;var g=2*d-1;d-=1;var m=n.map(new Array(g),function(){return 0}),_=0;return n.forEach(f.forEach(function(R){var C=R.pos+d;m[C]+=R.weight;for(var k=0;C>0;)C%2&&(k+=m[C+1]),m[C=C-1>>1]+=R.weight;_+=R.weight*k})),_}x.exports=function(r,u){for(var s=0,c=1;c<u.length;++c)s+=a(r,u[c-1],u[c]);return s}},function(x,L,o){var n=o(1),a=o(364),r=o(365),u=o(366);x.exports=function s(c,f,d,g){var m=c.children(f),_=c.node(f),R=_?_.borderLeft:void 0,C=_?_.borderRight:void 0,k={};R&&(m=n.filter(m,function(b){return b!==R&&b!==C}));var M=a(c,m);n.forEach(M,function(b){if(c.children(b.v).length){var A=s(c,b.v,d,g);k[b.v]=A,n.has(A,"barycenter")&&(O=b,T=A,n.isUndefined(O.barycenter)?(O.barycenter=T.barycenter,O.weight=T.weight):(O.barycenter=(O.barycenter*O.weight+T.barycenter*T.weight)/(O.weight+T.weight),O.weight+=T.weight))}var O,T});var I=r(M,d);(function(b,A){n.forEach(b,function(O){O.vs=n.flatten(O.vs.map(function(T){return A[T]?A[T].vs:T}),!0)})})(I,k);var S=u(I,g);if(R&&(S.vs=n.flatten([R,S.vs,C],!0),c.predecessors(R).length)){var P=c.node(c.predecessors(R)[0]),v=c.node(c.predecessors(C)[0]);n.has(S,"barycenter")||(S.barycenter=0,S.weight=0),S.barycenter=(S.barycenter*S.weight+P.order+v.order)/(S.weight+2),S.weight+=2}return S}},function(x,L,o){var n=o(1);x.exports=function(a,r){return n.map(r,function(u){var s=a.inEdges(u);if(s.length){var c=n.reduce(s,function(f,d){var g=a.edge(d),m=a.node(d.v);return{sum:f.sum+g.weight*m.order,weight:f.weight+g.weight}},{sum:0,weight:0});return{v:u,barycenter:c.sum/c.weight,weight:c.weight}}return{v:u}})}},function(x,L,o){var n=o(1);x.exports=function(a,r){var u={};return n.forEach(a,function(s,c){var f=u[s.v]={indegree:0,in:[],out:[],vs:[s.v],i:c};n.isUndefined(s.barycenter)||(f.barycenter=s.barycenter,f.weight=s.weight)}),n.forEach(r.edges(),function(s){var c=u[s.v],f=u[s.w];n.isUndefined(c)||n.isUndefined(f)||(f.indegree++,c.out.push(u[s.w]))}),function(s){var c=[];function f(m){return function(_){_.merged||(n.isUndefined(_.barycenter)||n.isUndefined(m.barycenter)||_.barycenter>=m.barycenter)&&function(R,C){var k=0,M=0;R.weight&&(k+=R.barycenter*R.weight,M+=R.weight),C.weight&&(k+=C.barycenter*C.weight,M+=C.weight),R.vs=C.vs.concat(R.vs),R.barycenter=k/M,R.weight=M,R.i=Math.min(C.i,R.i),C.merged=!0}(m,_)}}function d(m){return function(_){_.in.push(m),--_.indegree==0&&s.push(_)}}for(;s.length;){var g=s.pop();c.push(g),n.forEach(g.in.reverse(),f(g)),n.forEach(g.out,d(g))}return n.map(n.filter(c,function(m){return!m.merged}),function(m){return n.pick(m,["vs","i","barycenter","weight"])})}(n.filter(u,function(s){return!s.indegree}))}},function(x,L,o){var n=o(1),a=o(3);function r(u,s,c){for(var f;s.length&&(f=n.last(s)).i<=c;)s.pop(),u.push(f.vs),c++;return c}x.exports=function(u,s){var c=a.partition(u,function(M){return n.has(M,"barycenter")}),f=c.lhs,d=n.sortBy(c.rhs,function(M){return-M.i}),g=[],m=0,_=0,R=0;f.sort((C=!!s,function(M,I){return M.barycenter<I.barycenter?-1:M.barycenter>I.barycenter?1:C?I.i-M.i:M.i-I.i})),R=r(g,d,R),n.forEach(f,function(M){R+=M.vs.length,g.push(M.vs),m+=M.barycenter*M.weight,_+=M.weight,R=r(g,d,R)});var C,k={vs:n.flatten(g,!0)};return _&&(k.barycenter=m/_,k.weight=_),k}},function(x,L,o){var n=o(1),a=o(7).Graph;x.exports=function(r,u,s){var c=function(d){for(var g;d.hasNode(g=n.uniqueId("_root")););return g}(r),f=new a({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(d){return r.node(d)});return n.forEach(r.nodes(),function(d){var g=r.node(d),m=r.parent(d);(g.rank===u||g.minRank<=u&&u<=g.maxRank)&&(f.setNode(d),f.setParent(d,m||c),n.forEach(r[s](d),function(_){var R=_.v===d?_.w:_.v,C=f.edge(R,d),k=n.isUndefined(C)?0:C.weight;f.setEdge(R,d,{weight:r.edge(_).weight+k})}),n.has(g,"minRank")&&f.setNode(d,{borderLeft:g.borderLeft[u],borderRight:g.borderRight[u]}))}),f}},function(x,L,o){var n=o(1);x.exports=function(a,r,u){var s,c={};n.forEach(u,function(f){for(var d,g,m=a.parent(f);m;){if((d=a.parent(m))?(g=c[d],c[d]=m):(g=s,s=m),g&&g!==m)return void r.setEdge(g,m);m=d}})}},function(x,L,o){var n=o(1),a=o(3),r=o(370).positionX;x.exports=function(u){(function(s){var c=a.buildLayerMatrix(s),f=s.graph().ranksep,d=0;n.forEach(c,function(g){var m=n.max(n.map(g,function(_){return s.node(_).height}));n.forEach(g,function(_){s.node(_).y=d+m/2}),d+=m+f})})(u=a.asNonCompoundGraph(u)),n.forEach(r(u),function(s,c){u.node(c).x=s})}},function(x,L,o){var n=o(1),a=o(7).Graph,r=o(3);function u(C,k){var M={};return n.reduce(k,function(I,S){var P=0,v=0,b=I.length,A=n.last(S);return n.forEach(S,function(O,T){var B=function(j,V){if(j.node(V).dummy)return n.find(j.predecessors(V),function(K){return j.node(K).dummy})}(C,O),F=B?C.node(B).order:b;(B||O===A)&&(n.forEach(S.slice(v,T+1),function(j){n.forEach(C.predecessors(j),function(V){var K=C.node(V),J=K.order;!(J<P||F<J)||K.dummy&&C.node(j).dummy||c(M,V,j)})}),v=T+1,P=F)}),S}),M}function s(C,k){var M={};function I(S,P,v,b,A){var O;n.forEach(n.range(P,v),function(T){O=S[T],C.node(O).dummy&&n.forEach(C.predecessors(O),function(B){var F=C.node(B);F.dummy&&(F.order<b||F.order>A)&&c(M,B,O)})})}return n.reduce(k,function(S,P){var v,b=-1,A=0;return n.forEach(P,function(O,T){if(C.node(O).dummy==="border"){var B=C.predecessors(O);B.length&&(v=C.node(B[0]).order,I(P,A,T,b,v),A=T,b=v)}I(P,A,P.length,v,S.length)}),P}),M}function c(C,k,M){if(k>M){var I=k;k=M,M=I}var S=C[k];S||(C[k]=S={}),S[M]=!0}function f(C,k,M){if(k>M){var I=k;k=M,M=I}return n.has(C[k],M)}function d(C,k,M,I){var S={},P={},v={};return n.forEach(k,function(b){n.forEach(b,function(A,O){S[A]=A,P[A]=A,v[A]=O})}),n.forEach(k,function(b){var A=-1;n.forEach(b,function(O){var T=I(O);if(T.length)for(var B=((T=n.sortBy(T,function(K){return v[K]})).length-1)/2,F=Math.floor(B),j=Math.ceil(B);F<=j;++F){var V=T[F];P[O]===O&&A<v[V]&&!f(M,O,V)&&(P[V]=O,P[O]=S[O]=S[V],A=v[V])}})}),{root:S,align:P}}function g(C,k,M,I,S){var P={},v=function(O,T,B,F){var j=new a,V=O.graph(),K=function(J,Y,X){return function(W,G,ne){var ue,re=W.node(G),pe=W.node(ne),ae=0;if(ae+=re.width/2,n.has(re,"labelpos"))switch(re.labelpos.toLowerCase()){case"l":ue=-re.width/2;break;case"r":ue=re.width/2}if(ue&&(ae+=X?ue:-ue),ue=0,ae+=(re.dummy?Y:J)/2,ae+=(pe.dummy?Y:J)/2,ae+=pe.width/2,n.has(pe,"labelpos"))switch(pe.labelpos.toLowerCase()){case"l":ue=pe.width/2;break;case"r":ue=-pe.width/2}return ue&&(ae+=X?ue:-ue),ue=0,ae}}(V.nodesep,V.edgesep,F);return n.forEach(T,function(J){var Y;n.forEach(J,function(X){var W=B[X];if(j.setNode(W),Y){var G=B[Y],ne=j.edge(G,W);j.setEdge(G,W,Math.max(K(O,X,Y),ne||0))}Y=X})}),j}(C,k,M,S),b=S?"borderLeft":"borderRight";function A(O,T){for(var B=v.nodes(),F=B.pop(),j={};F;)j[F]?O(F):(j[F]=!0,B.push(F),B=B.concat(T(F))),F=B.pop()}return A(function(O){P[O]=v.inEdges(O).reduce(function(T,B){return Math.max(T,P[B.v]+v.edge(B))},0)},v.predecessors.bind(v)),A(function(O){var T=v.outEdges(O).reduce(function(F,j){return Math.min(F,P[j.w]-v.edge(j))},Number.POSITIVE_INFINITY),B=C.node(O);T!==Number.POSITIVE_INFINITY&&B.borderType!==b&&(P[O]=Math.max(P[O],T))},v.successors.bind(v)),n.forEach(I,function(O){P[O]=P[M[O]]}),P}function m(C,k){return n.minBy(n.values(k),function(M){var I=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY;return n.forIn(M,function(P,v){var b=function(A,O){return A.node(O).width}(C,v)/2;I=Math.max(P+b,I),S=Math.min(P-b,S)}),I-S})}function _(C,k){var M=n.values(k),I=n.min(M),S=n.max(M);n.forEach(["u","d"],function(P){n.forEach(["l","r"],function(v){var b,A=P+v,O=C[A];if(O!==k){var T=n.values(O);(b=v==="l"?I-n.min(T):S-n.max(T))&&(C[A]=n.mapValues(O,function(B){return B+b}))}})})}function R(C,k){return n.mapValues(C.ul,function(M,I){if(k)return C[k.toLowerCase()][I];var S=n.sortBy(n.map(C,I));return(S[1]+S[2])/2})}x.exports={positionX:function(C){var k,M=r.buildLayerMatrix(C),I=n.merge(u(C,M),s(C,M)),S={};n.forEach(["u","d"],function(v){k=v==="u"?M:n.values(M).reverse(),n.forEach(["l","r"],function(b){b==="r"&&(k=n.map(k,function(B){return n.values(B).reverse()}));var A=(v==="u"?C.predecessors:C.successors).bind(C),O=d(C,k,I,A),T=g(C,k,O.root,O.align,b==="r");b==="r"&&(T=n.mapValues(T,function(B){return-B})),S[v+b]=T})});var P=m(C,S);return _(S,P),R(S,C.graph().align)},findType1Conflicts:u,findType2Conflicts:s,addConflict:c,hasConflict:f,verticalAlignment:d,horizontalCompaction:g,alignCoordinates:_,findSmallestWidthAlignment:m,balance:R}},function(x,L,o){var n=o(1),a=o(3),r=o(7).Graph;x.exports={debugOrdering:function(u){var s=a.buildLayerMatrix(u),c=new r({compound:!0,multigraph:!0}).setGraph({});return n.forEach(u.nodes(),function(f){c.setNode(f,{label:f}),c.setParent(f,"layer"+u.node(f).rank)}),n.forEach(u.edges(),function(f){c.setEdge(f.v,f.w,{},f.name)}),n.forEach(s,function(f,d){var g="layer"+d;c.setNode(g,{rank:"same"}),n.reduce(f,function(m,_){return c.setEdge(m,_,{style:"invis"}),_})}),c}}},function(x,L){x.exports="0.8.5"},function(x,L,o){var n=o(31).Point2D,a=o(31).Vector2D,r=o(31).Matrix2D,u=o(142).Polynomial,s=o(144),c=o(145),f=o(378),d=s.TYPE;function g(k,M){if(k.length!==0&&M.length!==0)for(var I,S=function(A,O){return A<O.x&&(A=O.x),A<O.y&&(A=O.y),A},P=k.reduce(S,0),v=100*(P=M.reduce(S,P))*1e-15*Math.SQRT2,b=0;b<k.length;){for(I=0;I<M.length;I++)if(k[b].distanceFrom(M[I])<=v){k.splice(b,1);break}I==M.length&&b++}}var m={intersectPathShape:function(k,M,I,S){for(var P,v,b,A=new c,O=k.params[0],T=0;T<O.length;T++)b=R(O[T],M,I,S),P||(P=b),v&&(g(v.points,b.points),A.appendPoints(v.points)),v=b;return v&&A.appendPoints(v.points),A},intersectLinesShape:function(k,M,I,S,P){var v,b,A=s.TYPE,O=k.params[0],T=new s(A.LINE,[0,0]),B=new c,F=function(j,V){T.params[0]=O[j],T.params[1]=O[V],g((v=R(T,M,I,S)).points,[O[V]]),B.appendPoints(v.points)};for(b=0;b<O.length-1;b++)F(b,b+1);return(P!==void 0&&P||k.type===A.RECT||k.type===A.POLYGON)&&F(O.length-1,0),B},intersectArcShape:function(k,M,I,S){I=I||r.IDENTITY,S=S||r.IDENTITY;var P=k.params[0],v=k.params[1],b=k.params[2],A=k.params[3],O=k.params[4],T=k.params[5];return I.isIdentity()&&A===0||(I=I.multiply(r.IDENTITY.translate(P.x,P.y).rotate(A)),P=new n(0,0),A=0),function(B,F,j,V,K,J,Y,X){if(B.points.length===0)return B;if(X&&!X.isIdentity())var W=X.inverse();var G=[],ne=new a(1,0),ue=2*Math.PI,re=Y<0,pe=Math.abs(Y)>Math.PI,ae=new r().scaleNonUniform(1,V/j).rotate(J),me=new r().scaleNonUniform(1,V/j).rotate(J+Y);J=(ne.angleBetween(ne.transform(ae))+ue)%ue,Y=ne.transform(ae).angleBetween(ne.transform(me)),Y=(pe?ue-Math.abs(Y):Math.abs(Y))*(re?-1:1);for(var Q,le,Z=new r().rotate(K).multiply(ae),be=0;be<B.points.length;be++)Q=B.points[be],le=ne.transform(Z).angleBetween(a.fromPoints(F,W?Q.transform(W):Q)),Y>=0?(le=(le+2*ue)%ue)<=Y&&G.push(Q):(le=(le-2*ue)%ue)>=Y&&G.push(Q);return B.points=G,B}(R(s.newEllipse(P,v,b),M,I,S),P,v,b,A,O,T,I)},intersectEllipseEllipse:function(k,M,I,S,P,v){var b,A,O,T,B,F,j,V,K,J,Y,X,W,G,ne,ue,re=[I*I,0,M*M,-2*I*I*k.x,-2*M*M*k.y,I*I*k.x*k.x+M*M*k.y*k.y-M*M*I*I],pe=[v*v,0,P*P,-2*v*v*S.x,-2*P*P*S.y,v*v*S.x*S.x+P*P*S.y*S.y-P*P*v*v],ae=(O=(b=re)[0]*(A=pe)[1]-A[0]*b[1],T=b[0]*A[2]-A[0]*b[2],B=b[0]*A[3]-A[0]*b[3],F=b[0]*A[4]-A[0]*b[4],j=b[0]*A[5]-A[0]*b[5],V=b[1]*A[2]-A[1]*b[2],K=b[1]*A[4]-A[1]*b[4],J=b[1]*A[5]-A[1]*b[5],Y=b[2]*A[3]-A[2]*b[3],X=b[3]*A[4]-A[3]*b[4],W=b[3]*A[5]-A[3]*b[5],new u(O*V-T*T,O*(ne=K-Y)+B*V-2*T*F,O*(G=J+X)+B*ne-F*F-2*T*j,O*W+B*G-2*F*j,B*W-j*j)),me=ae.getRoots(),Q=.001*(re[0]*re[0]+2*re[1]*re[1]+re[2]*re[2]),le=.001*(pe[0]*pe[0]+2*pe[1]*pe[1]+pe[2]*pe[2]),Z=new c,be=function(tt,mt,wt){return Math.max(mt,Math.min(wt,tt))};for(ue=0;ue<me.length;ue++)me[ue]=be(me[ue],k.y-I,k.y+I),me[ue]=be(me[ue],S.y-v,S.y+v);me.sort(function(tt,mt){return tt-mt});for(var ke=[],Fe=0;Fe<me.length;Fe++){var ze=new u(re[0],re[3]+me[Fe]*re[1],re[5]+me[Fe]*(re[4]+me[Fe]*re[2]));Math.abs(ze.coefs[0])<10*1e-15*Math.abs(ze.coefs[2])&&(ze.coefs[0]=0);var Je=ze.getRoots();ke.push(0);for(var $e=0;$e<Je.length;$e++){var xt=(re[0]*Je[$e]+re[1]*me[Fe]+re[3])*Je[$e]+(re[2]*me[Fe]+re[4])*me[Fe]+re[5];Math.abs(xt)<Q&&(xt=(pe[0]*Je[$e]+pe[1]*me[Fe]+pe[3])*Je[$e]+(pe[2]*me[Fe]+pe[4])*me[Fe]+pe[5],Math.abs(xt)<le&&(Z.appendPoint(new n(Je[$e],me[Fe])),ke[Fe]+=1))}}if(Z.points.length<=0)return Z;var Ne=Z.points;if(Ne.length==8)(Ne=Ne.splice(0,6)).splice(2,2);else if(Ne.length==7)(Ne=Ne.splice(0,6)).splice(2,2),Ne.splice(ke.indexOf(1),1);else if(Ne.length==6)Ne.splice(2,2),ke.indexOf(0)>-1?Ne[0].distanceFrom(Ne[1])<Ne[2].distanceFrom(Ne[3])?Ne.splice(0,1):Ne.splice(2,1):ke[0]==ke[3]&&Ne.splice(1,2);else if(Ne.length==4)(me.length==2||me.length==4&&(ke[0]==2&&ke[1]==2||ke[2]==2&&ke[3]==2))&&Ne.splice(2,2);else if((Ne.length==3||Ne.length==5)&&(ue=ke.indexOf(2))>-1){Ne.length==3&&(ue%=2);var et,jt,Ze,Ue=ue+(ue%2?-1:2);et=Ne[ue].distanceFrom(Ne[ue+1]),jt=Ne[ue].distanceFrom(Ne[Ue]),Ze=Ne[ue+1].distanceFrom(Ne[Ue]),et<jt&&et<Ze?Ne.splice(ue,1):Ne.splice(Ue,1)}var _t=ae.zeroErrorEstimate();for(_t*=100*Math.SQRT2,ue=0;ue<Ne.length-1;)Ne[ue].distanceFrom(Ne[ue+1])<_t?Ne.splice(ue+1,1):ue++;return Z.points=Ne,Z},intersectEllipseLine:function(k,M,I,S,P){var v,b=new a(S.x,S.y),A=a.fromPoints(S,P),O=new a(k.x,k.y),T=b.subtract(O),B=new a(A.x/(M*M),A.y/(I*I)),F=new a(T.x/(M*M),T.y/(I*I)),j=A.dot(B),V=A.dot(F),K=V*V-j*(k=T.dot(F)-1),J=1e-15,Y=10*Math.max(Math.abs(j),Math.abs(V),Math.abs(k))*J;if(Math.abs(K)<Y&&(K=0),K<0)v=new c("Outside");else if(K>0){var X=Math.sqrt(K),W=(-V-X)/j,G=(-V+X)/j;G=G>1?G-J:G<0?G+J:G,((W=W>1?W-J:W<0?W+J:W)<0||1<W)&&(G<0||1<G)?v=new c(W<0&&G<0||W>1&&G>1?"Outside":"Inside"):(v=new c,0<=W&&W<=1&&v.appendPoint(S.lerp(P,W)),0<=G&&G<=1&&v.appendPoint(S.lerp(P,G)))}else{var ne=-V/j;0<=ne&&ne<=1?(v=new c).appendPoint(S.lerp(P,ne)):v=new c("Outside")}return v},intersectLineLine:function(k,M,I,S){var P,v=(S.x-I.x)*(k.y-I.y)-(S.y-I.y)*(k.x-I.x),b=(M.x-k.x)*(k.y-I.y)-(M.y-k.y)*(k.x-I.x),A=(S.y-I.y)*(M.x-k.x)-(S.x-I.x)*(M.y-k.y);if(A!==0){var O=v/A,T=b/A;0<=O&&O<=1&&0<=T&&T<=1?(P=new c).points.push(new n(k.x+O*(M.x-k.x),k.y+O*(M.y-k.y))):P=new c}else P=new c(v===0||b===0?"Coincident":"Parallel");return P},intersectRayRay:function(k,M,I,S){var P,v=(S.x-I.x)*(k.y-I.y)-(S.y-I.y)*(k.x-I.x),b=(M.x-k.x)*(k.y-I.y)-(M.y-k.y)*(k.x-I.x),A=(S.y-I.y)*(M.x-k.x)-(S.x-I.x)*(M.y-k.y);if(A!==0){var O=v/A;(P=new c).points.push(new n(k.x+O*(M.x-k.x),k.y+O*(M.y-k.y)))}else P=new c(v===0||b===0?"Coincident":"Parallel");return P}},_={};function R(k,M,I,S){var P,v,b=k,A=M;if(b!==null&&A!==null)if(v=_[b.type])P=v(b,A,I,S);else if(v=_[A.type])P=v(A,b,S,I);else{var O,T,B,F,j;b.type===d.CIRCLE?(T=[b.params[0],b.params[1],b.params[1]],F=d.ELLIPSE):(T=b.params.slice(),F=b.type),A.type===d.CIRCLE?(B=[A.params[0],A.params[1],A.params[1]],j=d.ELLIPSE):(B=A.params.slice(),j=A.type);var V,K=I instanceof r&&S instanceof r;if(K)if(F===d.ELLIPSE&&j===d.ELLIPSE){var J,Y,X,W=T[0],G=T[1],ne=T[2],ue=B[0],re=B[1],pe=B[2];I=I.multiply(r.IDENTITY.translate(W.x,W.y).scaleNonUniform(G/1,ne/1)),W=new n(0,0),G=ne=1,S=S.multiply(r.IDENTITY.translate(ue.x,ue.y).scaleNonUniform(re,pe)),ue=new n(0,0),re=pe=1,J=(X=I.inverse().multiply(S).getDecomposition()).rotation.inverse().multiply(X.translation.inverse()),re=(Y=X.scale).a,pe=Y.d,W=W.transform(J),V=I.multiply(J.inverse()),T[0]=W,T[1]=G,T[2]=ne,B[0]=ue,B[1]=re,B[2]=pe}else{var ae,me=function(le,Z,be){var ke=function(Fe){Z[Fe]=Z[Fe].transform(be)};if(le===d.LINE)ke(0),ke(1);else if(le===d.BEZIER2)ke(0),ke(1),ke(2);else{if(le!==d.BEZIER3)throw new Error("Unknown shape: "+le);ke(0),ke(1),ke(2),ke(3)}};j===d.ELLIPSE&&(ae=B,B=T,T=ae,ae=j,j=F,F=ae,ae=S,S=I,I=ae),F===d.ELLIPSE?(W=T[0],G=T[1],ne=T[2],I=I.multiply(r.IDENTITY.translate(W.x,W.y).scaleNonUniform(G/1,ne/1)),W=new n(0,0),G=ne=1,me(j,B,Y=I.inverse().multiply(S)),V=I,T[0]=W,T[1]=G,T[2]=ne):(me(F,T,I),me(j,B,S),V=r.IDENTITY)}if(F<j?(v="intersect"+F+j,O=T.concat(B)):(v="intersect"+j+F,O=B.concat(T)),P=m[v].apply(null,O),K)for(var Q=0;Q<P.points.length;Q++)P.points[Q]=P.points[Q].transform(V)}else P=new c;return P}for(var C in _[d.PATH]=m.intersectPathShape,_[d.POLYLINE]=m.intersectLinesShape,_[d.POLYGON]=m.intersectLinesShape,_[d.RECT]=m.intersectLinesShape,_[d.ROUNDRECT]=m.intersectPathShape,_[d.ARC]=m.intersectArcShape,f)f.hasOwnProperty(C)&&(m[C]=f[C]);x.exports=R},function(x,L,o){function n(a,r){Object.defineProperties(this,{x:{value:a,writable:!1,enumerable:!0,configurable:!1},y:{value:r,writable:!1,enumerable:!0,configurable:!1}})}n.prototype.clone=function(){return new this.constructor(this.x,this.y)},n.prototype.add=function(a){return new this.constructor(this.x+a.x,this.y+a.y)},n.prototype.subtract=function(a){return new this.constructor(this.x-a.x,this.y-a.y)},n.prototype.multiply=function(a){return new this.constructor(this.x*a,this.y*a)},n.prototype.divide=function(a){return new this.constructor(this.x/a,this.y/a)},n.prototype.equals=function(a){return this.x===a.x&&this.y===a.y},n.prototype.lerp=function(a,r){var u=1-r;return new this.constructor(this.x*u+a.x*r,this.y*u+a.y*r)},n.prototype.distanceFrom=function(a){var r=this.x-a.x,u=this.y-a.y;return Math.sqrt(r*r+u*u)},n.prototype.min=function(a){return new this.constructor(Math.min(this.x,a.x),Math.min(this.y,a.y))},n.prototype.max=function(a){return new this.constructor(Math.max(this.x,a.x),Math.max(this.y,a.y))},n.prototype.transform=function(a){return new this.constructor(a.a*this.x+a.c*this.y+a.e,a.b*this.x+a.d*this.y+a.f)},n.prototype.toString=function(){return"point("+this.x+","+this.y+")"},x.exports=n},function(x,L,o){function n(a,r){Object.defineProperties(this,{x:{value:a,writable:!1,enumerable:!0,configurable:!1},y:{value:r,writable:!1,enumerable:!0,configurable:!1}})}n.fromPoints=function(a,r){return new n(r.x-a.x,r.y-a.y)},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.magnitude=function(){return this.x*this.x+this.y*this.y},n.prototype.dot=function(a){return this.x*a.x+this.y*a.y},n.prototype.cross=function(a){return this.x*a.y-this.y*a.x},n.prototype.determinant=function(a){return this.x*a.y-this.y*a.x},n.prototype.unit=function(){return this.divide(this.length())},n.prototype.add=function(a){return new this.constructor(this.x+a.x,this.y+a.y)},n.prototype.subtract=function(a){return new this.constructor(this.x-a.x,this.y-a.y)},n.prototype.multiply=function(a){return new this.constructor(this.x*a,this.y*a)},n.prototype.divide=function(a){return new this.constructor(this.x/a,this.y/a)},n.prototype.angleBetween=function(a){var r=this.dot(a)/(this.length()*a.length());r=Math.max(-1,Math.min(r,1));var u=Math.acos(r);return this.cross(a)<0?-u:u},n.prototype.perp=function(){return new this.constructor(-this.y,this.x)},n.prototype.perpendicular=function(a){return this.subtract(this.project(a))},n.prototype.project=function(a){var r=this.dot(a)/a.dot(a);return a.multiply(r)},n.prototype.transform=function(a){return new this.constructor(a.a*this.x+a.c*this.y,a.b*this.x+a.d*this.y)},n.prototype.equals=function(a){return this.x===a.x&&this.y===a.y},n.prototype.toString=function(){return"vector("+this.x+","+this.y+")"},x.exports=n},function(x,L,o){function n(a,r,u,s,c,f){Object.defineProperties(this,{a:{value:a!==void 0?a:1,writable:!1,enumerable:!0,configurable:!1},b:{value:r!==void 0?r:0,writable:!1,enumerable:!0,configurable:!1},c:{value:u!==void 0?u:0,writable:!1,enumerable:!0,configurable:!1},d:{value:s!==void 0?s:1,writable:!1,enumerable:!0,configurable:!1},e:{value:c!==void 0?c:0,writable:!1,enumerable:!0,configurable:!1},f:{value:f!==void 0?f:0,writable:!1,enumerable:!0,configurable:!1}})}n.IDENTITY=new n(1,0,0,1,0,0),n.IDENTITY.isIdentity=function(){return!0},n.prototype.multiply=function(a){return this.isIdentity()?a:a.isIdentity()?this:new this.constructor(this.a*a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.e+this.c*a.f+this.e,this.b*a.e+this.d*a.f+this.f)},n.prototype.inverse=function(){if(this.isIdentity())return this;var a=this.a*this.d-this.b*this.c;if(a===0)throw"Matrix is not invertible";var r=1/a,u=this.f*this.c-this.e*this.d,s=this.e*this.b-this.f*this.a;return new this.constructor(this.d*r,-this.b*r,-this.c*r,this.a*r,u*r,s*r)},n.prototype.translate=function(a,r){return new this.constructor(this.a,this.b,this.c,this.d,this.a*a+this.c*r+this.e,this.b*a+this.d*r+this.f)},n.prototype.scale=function(a){return new this.constructor(this.a*a,this.b*a,this.c*a,this.d*a,this.e,this.f)},n.prototype.scaleAt=function(a,r){var u=r.x-a*r.x,s=r.y-a*r.y;return new this.constructor(this.a*a,this.b*a,this.c*a,this.d*a,this.a*u+this.c*s+this.e,this.b*u+this.d*s+this.f)},n.prototype.scaleNonUniform=function(a,r){return new this.constructor(this.a*a,this.b*a,this.c*r,this.d*r,this.e,this.f)},n.prototype.scaleNonUniformAt=function(a,r,u){var s=u.x-a*u.x,c=u.y-r*u.y;return new this.constructor(this.a*a,this.b*a,this.c*r,this.d*r,this.a*s+this.c*c+this.e,this.b*s+this.d*c+this.f)},n.prototype.rotate=function(a){var r=Math.cos(a),u=Math.sin(a);return new this.constructor(this.a*r+this.c*u,this.b*r+this.d*u,this.a*-u+this.c*r,this.b*-u+this.d*r,this.e,this.f)},n.prototype.rotateAt=function(a,r){var u=Math.cos(a),s=Math.sin(a),c=-r.x+r.x*u-r.y*s,f=-r.y+r.y*u+r.x*s;return new this.constructor(this.a*u+this.c*s,this.b*u+this.d*s,this.a*-s+this.c*u,this.b*-s+this.d*u,this.a*c+this.c*f+this.e,this.b*c+this.d*f+this.f)},n.prototype.rotateFromVector=function(a){var r=a.unit(),u=r.x,s=r.y;return new this.constructor(this.a*u+this.c*s,this.b*u+this.d*s,this.a*-s+this.c*u,this.b*-s+this.d*u,this.e,this.f)},n.prototype.flipX=function(){return new this.constructor(-this.a,-this.b,this.c,this.d,this.e,this.f)},n.prototype.flipY=function(){return new this.constructor(this.a,this.b,-this.c,-this.d,this.e,this.f)},n.prototype.skewX=function(a){var r=Math.tan(a);return new this.constructor(this.a,this.b,this.a*r+this.c,this.b*r+this.d,this.e,this.f)},n.prototype.skewY=function(a){var r=Math.tan(a);return new this.constructor(this.a+this.c*r,this.b+this.d*r,this.c,this.d,this.e,this.f)},n.prototype.isIdentity=function(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.e===0&&this.f===0},n.prototype.isInvertible=function(){return this.a*this.d-this.b*this.c!=0},n.prototype.getScale=function(){return{scaleX:Math.sqrt(this.a*this.a+this.c*this.c),scaleY:Math.sqrt(this.b*this.b+this.d*this.d)}},n.prototype.getDecomposition=function(){var a=.5*(this.a+this.d),r=.5*(this.a-this.d),u=.5*(this.b+this.c),s=.5*(this.b-this.c),c=Math.sqrt(a*a+s*s),f=Math.sqrt(r*r+u*u),d=c+f,g=c-f,m=Math.atan2(u,r),_=Math.atan2(s,a),R=.5*(_-m),C=.5*(_+m);return{translation:new this.constructor(1,0,0,1,this.e,this.f),rotation:this.constructor.IDENTITY.rotate(C),scale:new this.constructor(d,0,0,g,0,0),rotation0:this.constructor.IDENTITY.rotate(R)}},n.prototype.equals=function(a){return this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d&&this.e===a.e&&this.f===a.f},n.prototype.toString=function(){return"matrix("+[this.a,this.b,this.c,this.d,this.e,this.f].join(",")+")"},x.exports=n},function(x,L,o){var n=o(143);function a(){this.init(arguments)}a.VERSION=1,a.prototype=new n,a.prototype.constructor=a,a.superclass=n.prototype,a.prototype.eval=function(r){var u=a.superclass.eval.call(this,r);if(Math.abs(u)<1e-7&&(u=0),u<0)throw new Error("SqrtPolynomial.eval: cannot take square root of negative number");return Math.sqrt(u)},a.prototype.toString=function(){return"sqrt("+a.superclass.toString.call(this)+")"},x.exports=a},function(x,L,o){var n=o(145),a=o(31),r=a.Point2D,u=a.Vector2D,s=o(142).Polynomial;function c(f){f.sort(function(g,m){return g-m});for(var d=1;d<f.length;)Math.abs(f[d]-f[d-1])<1e-15?f.splice(d,1):d++}x.exports={},x.exports.intersectBezier2Bezier2=function(f,d,g,m,_,R){var C,k,M,I,S,P,v,b,A,O,T,B,F,j,V,K,J=new n;C=d.multiply(-2),M=f.add(C.add(g)),C=f.multiply(-2),k=d.multiply(2),I=C.add(k),S=new r(f.x,f.y),C=_.multiply(-2),P=m.add(C.add(R)),C=m.multiply(-2),k=_.multiply(2),v=C.add(k),b=new r(m.x,m.y),M.y===0?(B=(O=M.x*(S.y-b.y))+(T=O-I.x*I.y),F=I.y*I.y,A=new s(M.x*P.y*P.y,2*M.x*v.y*P.y,M.x*v.y*v.y-P.x*F-P.y*O-P.y*T,-v.x*F-v.y*O-v.y*T,(S.x-b.x)*F+(S.y-b.y)*T)):(O=M.x*P.y-M.y*P.x,T=M.x*v.y-v.x*M.y,B=I.x*M.y-I.y*M.x,F=S.y-b.y,j=M.y*(S.x-b.x)-M.x*F,V=-I.y*B+M.y*j,K=B*B,A=new s(O*O,2*O*T,(-P.y*K+M.y*T*T+M.y*O*j+O*V)/M.y,(-v.y*K+M.y*T*j+T*V)/M.y,(F*K+j*V)/M.y));for(var Y=A.getRoots(),X=0;X<Y.length;X++){var W=Y[X];if(0<=W&&W<=1){var G=new s(M.x,I.x,S.x-b.x-W*v.x-W*W*P.x).getRoots(),ne=new s(M.y,I.y,S.y-b.y-W*v.y-W*W*P.y).getRoots();if(G.length>0&&ne.length>0){e:for(var ue=0;ue<G.length;ue++){var re=G[ue];if(0<=re&&re<=1){for(var pe=0;pe<ne.length;pe++)if(Math.abs(re-ne[pe])<1e-4){J.points.push(P.multiply(W*W).add(v.multiply(W).add(b)));break e}}}}}}return J},x.exports.intersectBezier2Bezier3=function(f,d,g,m,_,R,C){var k,M,I,S,P,v,b,A,O,T,B,F=new n;k=d.multiply(-2),P=f.add(k.add(g)),k=f.multiply(-2),M=d.multiply(2),v=k.add(M),b=new r(f.x,f.y),k=m.multiply(-1),M=_.multiply(3),I=R.multiply(-3),S=k.add(M.add(I.add(C))),A=new u(S.x,S.y),k=m.multiply(3),M=_.multiply(-6),I=R.multiply(3),S=k.add(M.add(I)),O=new u(S.x,S.y),k=m.multiply(-3),M=_.multiply(3),I=k.add(M),T=new u(I.x,I.y),B=new u(m.x,m.y);var j=b.x*b.x,V=b.y*b.y,K=v.x*v.x,J=v.y*v.y,Y=P.x*P.x,X=P.y*P.y,W=B.x*B.x,G=B.y*B.y,ne=T.x*T.x,ue=T.y*T.y,re=O.x*O.x,pe=O.y*O.y,ae=A.x*A.x,me=A.y*A.y,Q=new s(-2*P.x*P.y*A.x*A.y+Y*me+X*ae,-2*P.x*P.y*O.x*A.y-2*P.x*P.y*O.y*A.x+2*X*O.x*A.x+2*Y*O.y*A.y,-2*P.x*T.x*P.y*A.y-2*P.x*P.y*T.y*A.x-2*P.x*P.y*O.x*O.y+2*T.x*X*A.x+X*re+Y*(2*T.y*A.y+pe),2*b.x*P.x*P.y*A.y+2*b.y*P.x*P.y*A.x+v.x*v.y*P.x*A.y+v.x*v.y*P.y*A.x-2*B.x*P.x*P.y*A.y-2*P.x*B.y*P.y*A.x-2*P.x*T.x*P.y*O.y-2*P.x*P.y*T.y*O.x-2*b.x*X*A.x-2*b.y*Y*A.y+2*B.x*X*A.x+2*T.x*X*O.x-J*P.x*A.x-K*P.y*A.y+Y*(2*B.y*A.y+2*T.y*O.y),2*b.x*P.x*P.y*O.y+2*b.y*P.x*P.y*O.x+v.x*v.y*P.x*O.y+v.x*v.y*P.y*O.x-2*B.x*P.x*P.y*O.y-2*P.x*B.y*P.y*O.x-2*P.x*T.x*P.y*T.y-2*b.x*X*O.x-2*b.y*Y*O.y+2*B.x*X*O.x-J*P.x*O.x-K*P.y*O.y+ne*X+Y*(2*B.y*O.y+ue),2*b.x*P.x*P.y*T.y+2*b.y*P.x*T.x*P.y+v.x*v.y*P.x*T.y+v.x*v.y*T.x*P.y-2*B.x*P.x*P.y*T.y-2*P.x*B.y*T.x*P.y-2*b.x*T.x*X-2*b.y*Y*T.y+2*B.x*T.x*X-J*P.x*T.x-K*P.y*T.y+2*Y*B.y*T.y,-2*b.x*b.y*P.x*P.y-b.x*v.x*v.y*P.y-b.y*v.x*v.y*P.x+2*b.x*P.x*B.y*P.y+2*b.y*B.x*P.x*P.y+v.x*B.x*v.y*P.y+v.x*v.y*P.x*B.y-2*B.x*P.x*B.y*P.y-2*b.x*B.x*X+b.x*J*P.x+b.y*K*P.y-2*b.y*Y*B.y-B.x*J*P.x-K*B.y*P.y+j*X+V*Y+W*X+Y*G).getRootsInInterval(0,1);c(Q);for(var le=0;le<Q.length;le++){var Z=Q[le],be=new s(P.x,v.x,b.x-B.x-Z*T.x-Z*Z*O.x-Z*Z*Z*A.x).getRoots(),ke=new s(P.y,v.y,b.y-B.y-Z*T.y-Z*Z*O.y-Z*Z*Z*A.y).getRoots();if(be.length>0&&ke.length>0){e:for(var Fe=0;Fe<be.length;Fe++){var ze=be[Fe];if(0<=ze&&ze<=1){for(var Je=0;Je<ke.length;Je++)if(Math.abs(ze-ke[Je])<1e-4){var $e=A.multiply(Z*Z*Z).add(O.multiply(Z*Z).add(T.multiply(Z).add(B)));F.points.push(new r($e.x,$e.y));break e}}}}}return F},x.exports.intersectBezier2Ellipse=function(f,d,g,m,_,R){var C,k,M,I,S,P=new n;C=d.multiply(-2),M=f.add(C.add(g)),C=f.multiply(-2),k=d.multiply(2),I=C.add(k),S=new r(f.x,f.y);for(var v=_*_,b=R*R,A=new s(b*M.x*M.x+v*M.y*M.y,2*(b*M.x*I.x+v*M.y*I.y),b*(2*M.x*S.x+I.x*I.x)+v*(2*M.y*S.y+I.y*I.y)-2*(b*m.x*M.x+v*m.y*M.y),2*(b*I.x*(S.x-m.x)+v*I.y*(S.y-m.y)),b*(S.x*S.x+m.x*m.x)+v*(S.y*S.y+m.y*m.y)-2*(b*m.x*S.x+v*m.y*S.y)-v*b).getRoots(),O=0;O<A.length;O++){var T=A[O];0<=T&&T<=1&&P.points.push(M.multiply(T*T).add(I.multiply(T).add(S)))}return P},x.exports.intersectBezier2Line=function(f,d,g,m,_){var R,C,k,M,I,S,P,v=m.min(_),b=m.max(_),A=new n;R=d.multiply(-2),k=f.add(R.add(g)),R=f.multiply(-2),C=d.multiply(2),M=R.add(C),I=new r(f.x,f.y),P=new u(m.y-_.y,_.x-m.x),S=m.x*_.y-_.x*m.y,roots=new s(P.dot(k),P.dot(M),P.dot(I)+S).getRoots();for(var O=0;O<roots.length;O++){var T=roots[O];if(0<=T&&T<=1){var B=f.lerp(d,T),F=d.lerp(g,T),j=B.lerp(F,T);m.x==_.x?v.y<=j.y&&j.y<=b.y&&A.appendPoint(j):m.y==_.y?v.x<=j.x&&j.x<=b.x&&A.appendPoint(j):v.x<=j.x&&j.x<=b.x&&v.y<=j.y&&j.y<=b.y&&A.appendPoint(j)}}return A},x.exports.intersectBezier3Bezier3=function(f,d,g,m,_,R,C,k){var M,I,S,P,v,b,A,O,T,B,F,j,V=new n;M=f.multiply(-1),I=d.multiply(3),S=g.multiply(-3),P=M.add(I.add(S.add(m))),v=new u(P.x,P.y),M=f.multiply(3),I=d.multiply(-6),S=g.multiply(3),P=M.add(I.add(S)),b=new u(P.x,P.y),M=f.multiply(-3),I=d.multiply(3),S=M.add(I),A=new u(S.x,S.y),O=new u(f.x,f.y),M=_.multiply(-1),I=R.multiply(3),S=C.multiply(-3),P=M.add(I.add(S.add(k))),T=new u(P.x,P.y),M=_.multiply(3),I=R.multiply(-6),S=C.multiply(3),P=M.add(I.add(S)),B=new u(P.x,P.y),M=_.multiply(-3),I=R.multiply(3),S=M.add(I),F=new u(S.x,S.y),j=new u(_.x,_.y);var K=O.x*O.x,J=O.x*O.x*O.x,Y=O.y*O.y,X=O.y*O.y*O.y,W=A.x*A.x,G=A.x*A.x*A.x,ne=A.y*A.y,ue=A.y*A.y*A.y,re=b.x*b.x,pe=b.x*b.x*b.x,ae=b.y*b.y,me=b.y*b.y*b.y,Q=v.x*v.x,le=v.x*v.x*v.x,Z=v.y*v.y,be=v.y*v.y*v.y,ke=j.x*j.x,Fe=j.x*j.x*j.x,ze=j.y*j.y,Je=j.y*j.y*j.y,$e=F.x*F.x,xt=F.x*F.x*F.x,Ne=F.y*F.y,et=B.x*B.x,jt=B.x*B.x*B.x,Ze=B.y*B.y,Ue=T.x*T.x,_t=T.x*T.x*T.x,tt=T.y*T.y,mt=T.y*T.y*T.y,wt=new s(-le*mt+be*_t-3*v.x*Z*Ue*T.y+3*Q*v.y*T.x*tt,-6*v.x*B.x*Z*T.x*T.y+6*Q*v.y*B.y*T.x*T.y+3*B.x*be*Ue-3*le*B.y*tt-3*v.x*Z*B.y*Ue+3*Q*B.x*v.y*tt,-6*F.x*v.x*Z*T.x*T.y-6*v.x*B.x*Z*B.y*T.x+6*Q*B.x*v.y*B.y*T.y+3*F.x*be*Ue+3*et*be*T.x+3*F.x*Q*v.y*tt-3*v.x*F.y*Z*Ue-3*v.x*et*Z*T.y+Q*v.y*T.x*(6*F.y*T.y+3*Ze)+le*(-F.y*tt-2*Ze*T.y-T.y*(2*F.y*T.y+Ze)),A.x*b.y*v.x*v.y*T.x*T.y-A.y*b.x*v.x*v.y*T.x*T.y+6*F.x*B.x*be*T.x+3*A.x*b.x*v.x*v.y*tt+6*O.x*v.x*Z*T.x*T.y-3*A.x*b.x*Z*T.x*T.y-3*A.y*b.y*v.x*v.y*Ue-6*O.y*Q*v.y*T.x*T.y-6*j.x*v.x*Z*T.x*T.y+3*A.y*b.y*Q*T.x*T.y-2*b.x*ae*v.x*T.x*T.y-6*F.x*v.x*B.x*Z*T.y-6*F.x*v.x*Z*B.y*T.x-6*v.x*F.y*B.x*Z*T.x+6*F.x*Q*v.y*B.y*T.y+2*re*b.y*v.y*T.x*T.y+jt*be-3*O.x*be*Ue+3*O.y*le*tt+3*j.x*be*Ue+me*v.x*Ue-pe*v.y*tt-3*O.x*Q*v.y*tt+3*O.y*v.x*Z*Ue-2*A.x*b.y*Q*tt+A.x*b.y*Z*Ue-A.y*b.x*Q*tt+2*A.y*b.x*Z*Ue+3*j.x*Q*v.y*tt-b.x*ae*v.y*Ue-3*j.y*v.x*Z*Ue+re*b.y*v.x*tt-3*v.x*et*Z*B.y+Q*v.y*T.x*(6*j.y*T.y+6*F.y*B.y)+Q*B.x*v.y*(6*F.y*T.y+3*Ze)+le*(-2*F.y*B.y*T.y-j.y*tt-B.y*(2*F.y*T.y+Ze)-T.y*(2*j.y*T.y+2*F.y*B.y)),6*A.x*b.x*v.x*v.y*B.y*T.y+A.x*b.y*v.x*B.x*v.y*T.y+A.x*b.y*v.x*v.y*B.y*T.x-A.y*b.x*v.x*B.x*v.y*T.y-A.y*b.x*v.x*v.y*B.y*T.x-6*A.y*b.y*v.x*B.x*v.y*T.x-6*O.x*B.x*be*T.x+6*j.x*B.x*be*T.x+6*O.y*le*B.y*T.y+2*me*v.x*B.x*T.x-2*pe*v.y*B.y*T.y+6*O.x*v.x*B.x*Z*T.y+6*O.x*v.x*Z*B.y*T.x+6*O.y*v.x*B.x*Z*T.x-3*A.x*b.x*B.x*Z*T.y-3*A.x*b.x*Z*B.y*T.x+2*A.x*b.y*B.x*Z*T.x+4*A.y*b.x*B.x*Z*T.x-6*O.x*Q*v.y*B.y*T.y-6*O.y*Q*B.x*v.y*T.y-6*O.y*Q*v.y*B.y*T.x-4*A.x*b.y*Q*B.y*T.y-6*j.x*v.x*B.x*Z*T.y-6*j.x*v.x*Z*B.y*T.x-2*A.y*b.x*Q*B.y*T.y+3*A.y*b.y*Q*B.x*T.y+3*A.y*b.y*Q*B.y*T.x-2*b.x*ae*v.x*B.x*T.y-2*b.x*ae*v.x*B.y*T.x-2*b.x*ae*B.x*v.y*T.x-6*j.y*v.x*B.x*Z*T.x-6*F.x*v.x*F.y*Z*T.x-6*F.x*v.x*B.x*Z*B.y+6*j.x*Q*v.y*B.y*T.y+2*re*b.y*v.x*B.y*T.y+2*re*b.y*B.x*v.y*T.y+2*re*b.y*v.y*B.y*T.x+3*F.x*et*be+3*$e*be*T.x-3*v.x*F.y*et*Z-3*$e*v.x*Z*T.y+Q*B.x*v.y*(6*j.y*T.y+6*F.y*B.y)+Q*v.y*T.x*(6*j.y*B.y+3*Ne)+F.x*Q*v.y*(6*F.y*T.y+3*Ze)+le*(-2*j.y*B.y*T.y-T.y*(2*j.y*B.y+Ne)-F.y*(2*F.y*T.y+Ze)-B.y*(2*j.y*T.y+2*F.y*B.y)),A.x*F.x*b.y*v.x*v.y*T.y+A.x*b.y*v.x*F.y*v.y*T.x+A.x*b.y*v.x*B.x*v.y*B.y-A.y*b.x*F.x*v.x*v.y*T.y-A.y*b.x*v.x*F.y*v.y*T.x-A.y*b.x*v.x*B.x*v.y*B.y-6*A.y*F.x*b.y*v.x*v.y*T.x-6*O.x*F.x*be*T.x+6*j.x*F.x*be*T.x+2*F.x*me*v.x*T.x+6*O.x*F.x*v.x*Z*T.y+6*O.x*v.x*F.y*Z*T.x+6*O.x*v.x*B.x*Z*B.y+6*O.y*F.x*v.x*Z*T.x-3*A.x*b.x*F.x*Z*T.y-3*A.x*b.x*F.y*Z*T.x-3*A.x*b.x*B.x*Z*B.y+2*A.x*F.x*b.y*Z*T.x+4*A.y*b.x*F.x*Z*T.x-6*O.y*F.x*Q*v.y*T.y-6*O.y*Q*F.y*v.y*T.x-6*O.y*Q*B.x*v.y*B.y-6*j.x*F.x*v.x*Z*T.y-6*j.x*v.x*F.y*Z*T.x-6*j.x*v.x*B.x*Z*B.y+3*A.y*F.x*b.y*Q*T.y-3*A.y*b.y*v.x*et*v.y+3*A.y*b.y*Q*F.y*T.x+3*A.y*b.y*Q*B.x*B.y-2*b.x*F.x*ae*v.x*T.y-2*b.x*F.x*ae*v.y*T.x-2*b.x*ae*v.x*F.y*T.x-2*b.x*ae*v.x*B.x*B.y-6*j.y*F.x*v.x*Z*T.x-6*F.x*v.x*F.y*B.x*Z+6*j.y*Q*F.y*v.y*T.x+2*re*F.x*b.y*v.y*T.y+2*re*b.y*F.y*v.y*T.x+2*re*b.y*B.x*v.y*B.y-3*O.x*et*be+3*j.x*et*be+3*$e*B.x*be+me*v.x*et+3*O.y*v.x*et*Z+A.x*b.y*et*Z+2*A.y*b.x*et*Z-b.x*ae*et*v.y-3*j.y*v.x*et*Z-3*$e*v.x*Z*B.y+re*b.y*v.x*(2*F.y*T.y+Ze)+A.x*b.x*v.x*v.y*(6*F.y*T.y+3*Ze)+F.x*Q*v.y*(6*j.y*T.y+6*F.y*B.y)+pe*v.y*(-2*F.y*T.y-Ze)+O.y*le*(6*F.y*T.y+3*Ze)+A.y*b.x*Q*(-2*F.y*T.y-Ze)+A.x*b.y*Q*(-4*F.y*T.y-2*Ze)+O.x*Q*v.y*(-6*F.y*T.y-3*Ze)+Q*B.x*v.y*(6*j.y*B.y+3*Ne)+j.x*Q*v.y*(6*F.y*T.y+3*Ze)+le*(-2*j.y*F.y*T.y-B.y*(2*j.y*B.y+Ne)-j.y*(2*F.y*T.y+Ze)-F.y*(2*j.y*T.y+2*F.y*B.y)),-O.x*A.x*b.y*v.x*v.y*T.y+O.x*A.y*b.x*v.x*v.y*T.y+6*O.x*A.y*b.y*v.x*v.y*T.x-6*O.y*A.x*b.x*v.x*v.y*T.y-O.y*A.x*b.y*v.x*v.y*T.x+O.y*A.y*b.x*v.x*v.y*T.x+A.x*A.y*b.x*b.y*v.x*T.y-A.x*A.y*b.x*b.y*v.y*T.x+A.x*j.x*b.y*v.x*v.y*T.y+A.x*j.y*b.y*v.x*v.y*T.x+A.x*F.x*b.y*v.x*v.y*B.y+A.x*b.y*v.x*F.y*B.x*v.y-j.x*A.y*b.x*v.x*v.y*T.y-6*j.x*A.y*b.y*v.x*v.y*T.x-A.y*b.x*j.y*v.x*v.y*T.x-A.y*b.x*F.x*v.x*v.y*B.y-A.y*b.x*v.x*F.y*B.x*v.y-6*A.y*F.x*b.y*v.x*B.x*v.y-6*O.x*j.x*be*T.x-6*O.x*F.x*B.x*be-2*O.x*me*v.x*T.x+6*j.x*F.x*B.x*be+2*j.x*me*v.x*T.x+2*F.x*me*v.x*B.x+2*O.y*pe*v.y*T.y-6*O.x*O.y*v.x*Z*T.x+3*O.x*A.x*b.x*Z*T.y-2*O.x*A.x*b.y*Z*T.x-4*O.x*A.y*b.x*Z*T.x+3*O.y*A.x*b.x*Z*T.x+6*O.x*O.y*Q*v.y*T.y+6*O.x*j.x*v.x*Z*T.y-3*O.x*A.y*b.y*Q*T.y+2*O.x*b.x*ae*v.x*T.y+2*O.x*b.x*ae*v.y*T.x+6*O.x*j.y*v.x*Z*T.x+6*O.x*F.x*v.x*Z*B.y+6*O.x*v.x*F.y*B.x*Z+4*O.y*A.x*b.y*Q*T.y+6*O.y*j.x*v.x*Z*T.x+2*O.y*A.y*b.x*Q*T.y-3*O.y*A.y*b.y*Q*T.x+2*O.y*b.x*ae*v.x*T.x+6*O.y*F.x*v.x*B.x*Z-3*A.x*j.x*b.x*Z*T.y+2*A.x*j.x*b.y*Z*T.x+A.x*A.y*ae*v.x*T.x-3*A.x*b.x*j.y*Z*T.x-3*A.x*b.x*F.x*Z*B.y-3*A.x*b.x*F.y*B.x*Z+2*A.x*F.x*b.y*B.x*Z+4*j.x*A.y*b.x*Z*T.x+4*A.y*b.x*F.x*B.x*Z-2*O.x*re*b.y*v.y*T.y-6*O.y*j.x*Q*v.y*T.y-6*O.y*j.y*Q*v.y*T.x-6*O.y*F.x*Q*v.y*B.y-2*O.y*re*b.y*v.x*T.y-2*O.y*re*b.y*v.y*T.x-6*O.y*Q*F.y*B.x*v.y-A.x*A.y*re*v.y*T.y-2*A.x*ne*v.x*v.y*T.x+3*j.x*A.y*b.y*Q*T.y-2*j.x*b.x*ae*v.x*T.y-2*j.x*b.x*ae*v.y*T.x-6*j.x*j.y*v.x*Z*T.x-6*j.x*F.x*v.x*Z*B.y-6*j.x*v.x*F.y*B.x*Z+3*A.y*j.y*b.y*Q*T.x+3*A.y*F.x*b.y*Q*B.y+3*A.y*b.y*Q*F.y*B.x-2*b.x*j.y*ae*v.x*T.x-2*b.x*F.x*ae*v.x*B.y-2*b.x*F.x*ae*B.x*v.y-2*b.x*ae*v.x*F.y*B.x-6*j.y*F.x*v.x*B.x*Z-ne*b.x*b.y*v.x*T.x+2*j.x*re*b.y*v.y*T.y+6*j.y*Q*F.y*B.x*v.y+2*W*A.y*v.x*v.y*T.y+W*b.x*b.y*v.y*T.y+2*re*j.y*b.y*v.y*T.x+2*re*F.x*b.y*v.y*B.y+2*re*b.y*F.y*B.x*v.y+xt*be+3*K*be*T.x-3*Y*le*T.y+3*ke*be*T.x+ue*Q*T.x-G*Z*T.y-A.x*ne*Q*T.y+W*A.y*Z*T.x-3*K*v.x*Z*T.y+3*Y*Q*v.y*T.x-W*ae*v.x*T.y+ne*re*v.y*T.x-3*$e*v.x*F.y*Z-3*ke*v.x*Z*T.y+3*ze*Q*v.y*T.x+A.x*b.x*v.x*v.y*(6*j.y*T.y+6*F.y*B.y)+pe*v.y*(-2*j.y*T.y-2*F.y*B.y)+O.y*le*(6*j.y*T.y+6*F.y*B.y)+A.y*b.x*Q*(-2*j.y*T.y-2*F.y*B.y)+re*b.y*v.x*(2*j.y*T.y+2*F.y*B.y)+A.x*b.y*Q*(-4*j.y*T.y-4*F.y*B.y)+O.x*Q*v.y*(-6*j.y*T.y-6*F.y*B.y)+j.x*Q*v.y*(6*j.y*T.y+6*F.y*B.y)+F.x*Q*v.y*(6*j.y*B.y+3*Ne)+le*(-2*j.y*F.y*B.y-ze*T.y-F.y*(2*j.y*B.y+Ne)-j.y*(2*j.y*T.y+2*F.y*B.y)),-O.x*A.x*b.y*v.x*v.y*B.y+O.x*A.y*b.x*v.x*v.y*B.y+6*O.x*A.y*b.y*v.x*B.x*v.y-6*O.y*A.x*b.x*v.x*v.y*B.y-O.y*A.x*b.y*v.x*B.x*v.y+O.y*A.y*b.x*v.x*B.x*v.y+A.x*A.y*b.x*b.y*v.x*B.y-A.x*A.y*b.x*b.y*B.x*v.y+A.x*j.x*b.y*v.x*v.y*B.y+A.x*j.y*b.y*v.x*B.x*v.y+A.x*F.x*b.y*v.x*F.y*v.y-j.x*A.y*b.x*v.x*v.y*B.y-6*j.x*A.y*b.y*v.x*B.x*v.y-A.y*b.x*j.y*v.x*B.x*v.y-A.y*b.x*F.x*v.x*F.y*v.y-6*O.x*j.x*B.x*be-2*O.x*me*v.x*B.x+2*j.x*me*v.x*B.x+2*O.y*pe*v.y*B.y-6*O.x*O.y*v.x*B.x*Z+3*O.x*A.x*b.x*Z*B.y-2*O.x*A.x*b.y*B.x*Z-4*O.x*A.y*b.x*B.x*Z+3*O.y*A.x*b.x*B.x*Z+6*O.x*O.y*Q*v.y*B.y+6*O.x*j.x*v.x*Z*B.y-3*O.x*A.y*b.y*Q*B.y+2*O.x*b.x*ae*v.x*B.y+2*O.x*b.x*ae*B.x*v.y+6*O.x*j.y*v.x*B.x*Z+6*O.x*F.x*v.x*F.y*Z+4*O.y*A.x*b.y*Q*B.y+6*O.y*j.x*v.x*B.x*Z+2*O.y*A.y*b.x*Q*B.y-3*O.y*A.y*b.y*Q*B.x+2*O.y*b.x*ae*v.x*B.x-3*A.x*j.x*b.x*Z*B.y+2*A.x*j.x*b.y*B.x*Z+A.x*A.y*ae*v.x*B.x-3*A.x*b.x*j.y*B.x*Z-3*A.x*b.x*F.x*F.y*Z+4*j.x*A.y*b.x*B.x*Z-2*O.x*re*b.y*v.y*B.y-6*O.y*j.x*Q*v.y*B.y-6*O.y*j.y*Q*B.x*v.y-6*O.y*F.x*Q*F.y*v.y-2*O.y*re*b.y*v.x*B.y-2*O.y*re*b.y*B.x*v.y-A.x*A.y*re*v.y*B.y-2*A.x*ne*v.x*B.x*v.y+3*j.x*A.y*b.y*Q*B.y-2*j.x*b.x*ae*v.x*B.y-2*j.x*b.x*ae*B.x*v.y-6*j.x*j.y*v.x*B.x*Z-6*j.x*F.x*v.x*F.y*Z+3*A.y*j.y*b.y*Q*B.x+3*A.y*F.x*b.y*Q*F.y-2*b.x*j.y*ae*v.x*B.x-2*b.x*F.x*ae*v.x*F.y-ne*b.x*b.y*v.x*B.x+2*j.x*re*b.y*v.y*B.y-3*A.y*$e*b.y*v.x*v.y+6*j.y*F.x*Q*F.y*v.y+2*W*A.y*v.x*v.y*B.y+W*b.x*b.y*v.y*B.y+2*re*j.y*b.y*B.x*v.y+2*re*F.x*b.y*F.y*v.y-3*O.x*$e*be+3*j.x*$e*be+3*K*B.x*be-3*Y*le*B.y+3*ke*B.x*be+$e*me*v.x+ue*Q*B.x-G*Z*B.y+3*O.y*$e*v.x*Z-A.x*ne*Q*B.y+A.x*$e*b.y*Z+2*A.y*b.x*$e*Z+W*A.y*B.x*Z-b.x*$e*ae*v.y-3*j.y*$e*v.x*Z-3*K*v.x*Z*B.y+3*Y*Q*B.x*v.y-W*ae*v.x*B.y+ne*re*B.x*v.y-3*ke*v.x*Z*B.y+3*ze*Q*B.x*v.y+re*b.y*v.x*(2*j.y*B.y+Ne)+A.x*b.x*v.x*v.y*(6*j.y*B.y+3*Ne)+pe*v.y*(-2*j.y*B.y-Ne)+O.y*le*(6*j.y*B.y+3*Ne)+A.y*b.x*Q*(-2*j.y*B.y-Ne)+A.x*b.y*Q*(-4*j.y*B.y-2*Ne)+O.x*Q*v.y*(-6*j.y*B.y-3*Ne)+j.x*Q*v.y*(6*j.y*B.y+3*Ne)+le*(-2*j.y*Ne-ze*B.y-j.y*(2*j.y*B.y+Ne)),-O.x*A.x*b.y*v.x*F.y*v.y+O.x*A.y*b.x*v.x*F.y*v.y+6*O.x*A.y*F.x*b.y*v.x*v.y-6*O.y*A.x*b.x*v.x*F.y*v.y-O.y*A.x*F.x*b.y*v.x*v.y+O.y*A.y*b.x*F.x*v.x*v.y-A.x*A.y*b.x*F.x*b.y*v.y+A.x*A.y*b.x*b.y*v.x*F.y+A.x*j.x*b.y*v.x*F.y*v.y+6*A.x*b.x*j.y*v.x*F.y*v.y+A.x*j.y*F.x*b.y*v.x*v.y-j.x*A.y*b.x*v.x*F.y*v.y-6*j.x*A.y*F.x*b.y*v.x*v.y-A.y*b.x*j.y*F.x*v.x*v.y-6*O.x*j.x*F.x*be-2*O.x*F.x*me*v.x+6*O.y*j.y*le*F.y+2*j.x*F.x*me*v.x+2*O.y*pe*F.y*v.y-2*pe*j.y*F.y*v.y-6*O.x*O.y*F.x*v.x*Z+3*O.x*A.x*b.x*F.y*Z-2*O.x*A.x*F.x*b.y*Z-4*O.x*A.y*b.x*F.x*Z+3*O.y*A.x*b.x*F.x*Z+6*O.x*O.y*Q*F.y*v.y+6*O.x*j.x*v.x*F.y*Z-3*O.x*A.y*b.y*Q*F.y+2*O.x*b.x*F.x*ae*v.y+2*O.x*b.x*ae*v.x*F.y+6*O.x*j.y*F.x*v.x*Z+4*O.y*A.x*b.y*Q*F.y+6*O.y*j.x*F.x*v.x*Z+2*O.y*A.y*b.x*Q*F.y-3*O.y*A.y*F.x*b.y*Q+2*O.y*b.x*F.x*ae*v.x-3*A.x*j.x*b.x*F.y*Z+2*A.x*j.x*F.x*b.y*Z+A.x*A.y*F.x*ae*v.x-3*A.x*b.x*j.y*F.x*Z+4*j.x*A.y*b.x*F.x*Z-6*O.x*j.y*Q*F.y*v.y-2*O.x*re*b.y*F.y*v.y-6*O.y*j.x*Q*F.y*v.y-6*O.y*j.y*F.x*Q*v.y-2*O.y*re*F.x*b.y*v.y-2*O.y*re*b.y*v.x*F.y-A.x*A.y*re*F.y*v.y-4*A.x*j.y*b.y*Q*F.y-2*A.x*ne*F.x*v.x*v.y+3*j.x*A.y*b.y*Q*F.y-2*j.x*b.x*F.x*ae*v.y-2*j.x*b.x*ae*v.x*F.y-6*j.x*j.y*F.x*v.x*Z-2*A.y*b.x*j.y*Q*F.y+3*A.y*j.y*F.x*b.y*Q-2*b.x*j.y*F.x*ae*v.x-ne*b.x*F.x*b.y*v.x+6*j.x*j.y*Q*F.y*v.y+2*j.x*re*b.y*F.y*v.y+2*W*A.y*v.x*F.y*v.y+W*b.x*b.y*F.y*v.y+2*re*j.y*F.x*b.y*v.y+2*re*j.y*b.y*v.x*F.y+3*K*F.x*be-3*Y*le*F.y+3*ke*F.x*be+ue*F.x*Q-G*F.y*Z-3*ze*le*F.y-A.x*ne*Q*F.y+W*A.y*F.x*Z-3*K*v.x*F.y*Z+3*Y*F.x*Q*v.y-W*ae*v.x*F.y+ne*re*F.x*v.y-3*ke*v.x*F.y*Z+3*ze*F.x*Q*v.y,O.x*O.y*A.x*b.y*v.x*v.y-O.x*O.y*A.y*b.x*v.x*v.y+O.x*A.x*A.y*b.x*b.y*v.y-O.y*A.x*A.y*b.x*b.y*v.x-O.x*A.x*j.y*b.y*v.x*v.y+6*O.x*j.x*A.y*b.y*v.x*v.y+O.x*A.y*b.x*j.y*v.x*v.y-O.y*A.x*j.x*b.y*v.x*v.y-6*O.y*A.x*b.x*j.y*v.x*v.y+O.y*j.x*A.y*b.x*v.x*v.y-A.x*j.x*A.y*b.x*b.y*v.y+A.x*A.y*b.x*j.y*b.y*v.x+A.x*j.x*j.y*b.y*v.x*v.y-j.x*A.y*b.x*j.y*v.x*v.y-2*O.x*j.x*me*v.x+2*O.y*pe*j.y*v.y-3*O.x*O.y*A.x*b.x*Z-6*O.x*O.y*j.x*v.x*Z+3*O.x*O.y*A.y*b.y*Q-2*O.x*O.y*b.x*ae*v.x-2*O.x*A.x*j.x*b.y*Z-O.x*A.x*A.y*ae*v.x+3*O.x*A.x*b.x*j.y*Z-4*O.x*j.x*A.y*b.x*Z+3*O.y*A.x*j.x*b.x*Z+6*O.x*O.y*j.y*Q*v.y+2*O.x*O.y*re*b.y*v.y+2*O.x*A.x*ne*v.x*v.y+2*O.x*j.x*b.x*ae*v.y+6*O.x*j.x*j.y*v.x*Z-3*O.x*A.y*j.y*b.y*Q+2*O.x*b.x*j.y*ae*v.x+O.x*ne*b.x*b.y*v.x+O.y*A.x*A.y*re*v.y+4*O.y*A.x*j.y*b.y*Q-3*O.y*j.x*A.y*b.y*Q+2*O.y*j.x*b.x*ae*v.x+2*O.y*A.y*b.x*j.y*Q+A.x*j.x*A.y*ae*v.x-3*A.x*j.x*b.x*j.y*Z-2*O.x*re*j.y*b.y*v.y-6*O.y*j.x*j.y*Q*v.y-2*O.y*j.x*re*b.y*v.y-2*O.y*W*A.y*v.x*v.y-O.y*W*b.x*b.y*v.y-2*O.y*re*j.y*b.y*v.x-2*A.x*j.x*ne*v.x*v.y-A.x*A.y*re*j.y*v.y+3*j.x*A.y*j.y*b.y*Q-2*j.x*b.x*j.y*ae*v.x-j.x*ne*b.x*b.y*v.x+3*Y*A.x*b.x*v.x*v.y+3*A.x*b.x*ze*v.x*v.y+2*j.x*re*j.y*b.y*v.y-3*K*A.y*b.y*v.x*v.y+2*W*A.y*j.y*v.x*v.y+W*b.x*j.y*b.y*v.y-3*ke*A.y*b.y*v.x*v.y-J*be+X*le+Fe*be-Je*le-3*O.x*ke*be-O.x*ue*Q+3*K*j.x*be+O.y*G*Z+3*O.y*ze*le+j.x*ue*Q+K*me*v.x-3*Y*j.y*le-Y*pe*v.y+ke*me*v.x-G*j.y*Z-pe*ze*v.y-O.x*W*A.y*Z+O.y*A.x*ne*Q-3*O.x*Y*Q*v.y-O.x*ne*re*v.y+O.y*W*ae*v.x-A.x*ne*j.y*Q+3*K*O.y*v.x*Z+K*A.x*b.y*Z+2*K*A.y*b.x*Z-2*Y*A.x*b.y*Q-Y*A.y*b.x*Q+W*j.x*A.y*Z-3*O.x*ze*Q*v.y+3*O.y*ke*v.x*Z+A.x*ke*b.y*Z-2*A.x*ze*b.y*Q+j.x*ne*re*v.y-A.y*b.x*ze*Q-K*b.x*ae*v.y-3*K*j.y*v.x*Z+3*Y*j.x*Q*v.y+Y*re*b.y*v.x-W*j.y*ae*v.x+2*ke*A.y*b.x*Z+3*j.x*ze*Q*v.y-ke*b.x*ae*v.y-3*ke*j.y*v.x*Z+re*ze*b.y*v.x).getRootsInInterval(0,1);c(wt);for(var Rt=0;Rt<wt.length;Rt++){var ut=wt[Rt],_e=new s(v.x,b.x,A.x,O.x-j.x-ut*F.x-ut*ut*B.x-ut*ut*ut*T.x).getRoots(),un=new s(v.y,b.y,A.y,O.y-j.y-ut*F.y-ut*ut*B.y-ut*ut*ut*T.y).getRoots();if(_e.length>0&&un.length>0){e:for(var en=0;en<_e.length;en++){var Lt=_e[en];if(0<=Lt&&Lt<=1){for(var zt=0;zt<un.length;zt++)if(Math.abs(Lt-un[zt])<1e-4){var Yt=T.multiply(ut*ut*ut).add(B.multiply(ut*ut).add(F.multiply(ut).add(j)));V.points.push(new r(Yt.x,Yt.y));break e}}}}}return V},x.exports.intersectBezier3Ellipse=function(f,d,g,m,_,R,C){var k,M,I,S,P,v,b,A,O=new n;k=f.multiply(-1),M=d.multiply(3),I=g.multiply(-3),S=k.add(M.add(I.add(m))),P=new u(S.x,S.y),k=f.multiply(3),M=d.multiply(-6),I=g.multiply(3),S=k.add(M.add(I)),v=new u(S.x,S.y),k=f.multiply(-3),M=d.multiply(3),I=k.add(M),b=new u(I.x,I.y),A=new u(f.x,f.y);var T=R*R,B=C*C,F=new s(P.x*P.x*B+P.y*P.y*T,2*(P.x*v.x*B+P.y*v.y*T),2*(P.x*b.x*B+P.y*b.y*T)+v.x*v.x*B+v.y*v.y*T,2*P.x*B*(A.x-_.x)+2*P.y*T*(A.y-_.y)+2*(v.x*b.x*B+v.y*b.y*T),2*v.x*B*(A.x-_.x)+2*v.y*T*(A.y-_.y)+b.x*b.x*B+b.y*b.y*T,2*b.x*B*(A.x-_.x)+2*b.y*T*(A.y-_.y),A.x*A.x*B-2*A.y*_.y*T-2*A.x*_.x*B+A.y*A.y*T+_.x*_.x*B+_.y*_.y*T-T*B).getRootsInInterval(0,1);c(F);for(var j=0;j<F.length;j++){var V=F[j],K=P.multiply(V*V*V).add(v.multiply(V*V).add(b.multiply(V).add(A)));O.points.push(new r(K.x,K.y))}return O},x.exports.intersectBezier3Line=function(f,d,g,m,_,R){var C,k,M,I,S,P,v,b,A,O,T=_.min(R),B=_.max(R),F=new n;C=f.multiply(-1),k=d.multiply(3),M=g.multiply(-3),I=C.add(k.add(M.add(m))),S=new u(I.x,I.y),C=f.multiply(3),k=d.multiply(-6),M=g.multiply(3),I=C.add(k.add(M)),P=new u(I.x,I.y),C=f.multiply(-3),k=d.multiply(3),M=C.add(k),v=new u(M.x,M.y),b=new u(f.x,f.y),O=new u(_.y-R.y,R.x-_.x),A=_.x*R.y-R.x*_.y,roots=new s(O.dot(S),O.dot(P),O.dot(v),O.dot(b)+A).getRoots();for(var j=0;j<roots.length;j++){var V=roots[j];if(0<=V&&V<=1){var K=f.lerp(d,V),J=d.lerp(g,V),Y=g.lerp(m,V),X=K.lerp(J,V),W=J.lerp(Y,V),G=X.lerp(W,V);_.x==R.x?T.y<=G.y&&G.y<=B.y&&F.appendPoint(G):_.y==R.y?T.x<=G.x&&G.x<=B.x&&F.appendPoint(G):T.x<=G.x&&G.x<=B.x&&T.y<=G.y&&G.y<=B.y&&F.appendPoint(G)}}return F}},function(x,L,o){function n(a,r){Object.defineProperties(this,{x:{value:a!==void 0?a:0,writable:!1,enumerable:!0,configurable:!1},y:{value:r!==void 0?r:0,writable:!1,enumerable:!0,configurable:!1}})}n.prototype.clone=function(){return new this.constructor(this.x,this.y)},n.prototype.add=function(a){return new this.constructor(this.x+a.x,this.y+a.y)},n.prototype.subtract=function(a){return new this.constructor(this.x-a.x,this.y-a.y)},n.prototype.multiply=function(a){return new this.constructor(this.x*a,this.y*a)},n.prototype.divide=function(a){return new this.constructor(this.x/a,this.y/a)},n.prototype.equals=function(a){return this.x===a.x&&this.y===a.y},n.prototype.precisionEquals=function(a,r){return Math.abs(this.x-a.x)<r&&Math.abs(this.y-a.y)<r},n.prototype.lerp=function(a,r){var u=1-r;return new this.constructor(this.x*u+a.x*r,this.y*u+a.y*r)},n.prototype.distanceFrom=function(a){var r=this.x-a.x,u=this.y-a.y;return Math.sqrt(r*r+u*u)},n.prototype.min=function(a){return new this.constructor(Math.min(this.x,a.x),Math.min(this.y,a.y))},n.prototype.max=function(a){return new this.constructor(Math.max(this.x,a.x),Math.max(this.y,a.y))},n.prototype.transform=function(a){return new this.constructor(a.a*this.x+a.c*this.y+a.e,a.b*this.x+a.d*this.y+a.f)},n.prototype.toString=function(){return"point("+this.x+","+this.y+")"},x.exports=n},function(x,L,o){function n(a,r){Object.defineProperties(this,{x:{value:a!==void 0?a:0,writable:!1,enumerable:!0,configurable:!1},y:{value:r!==void 0?r:0,writable:!1,enumerable:!0,configurable:!1}})}n.fromPoints=function(a,r){return new n(r.x-a.x,r.y-a.y)},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.magnitude=function(){return this.x*this.x+this.y*this.y},n.prototype.dot=function(a){return this.x*a.x+this.y*a.y},n.prototype.cross=function(a){return this.x*a.y-this.y*a.x},n.prototype.determinant=function(a){return this.x*a.y-this.y*a.x},n.prototype.unit=function(){return this.divide(this.length())},n.prototype.add=function(a){return new this.constructor(this.x+a.x,this.y+a.y)},n.prototype.subtract=function(a){return new this.constructor(this.x-a.x,this.y-a.y)},n.prototype.multiply=function(a){return new this.constructor(this.x*a,this.y*a)},n.prototype.divide=function(a){return new this.constructor(this.x/a,this.y/a)},n.prototype.angleBetween=function(a){var r=this.dot(a)/(this.length()*a.length());r=Math.max(-1,Math.min(r,1));var u=Math.acos(r);return this.cross(a)<0?-u:u},n.prototype.perp=function(){return new this.constructor(-this.y,this.x)},n.prototype.perpendicular=function(a){return this.subtract(this.project(a))},n.prototype.project=function(a){var r=this.dot(a)/a.dot(a);return a.multiply(r)},n.prototype.transform=function(a){return new this.constructor(a.a*this.x+a.c*this.y,a.b*this.x+a.d*this.y)},n.prototype.equals=function(a){return this.x===a.x&&this.y===a.y},n.prototype.precisionEquals=function(a,r){return Math.abs(this.x-a.x)<r&&Math.abs(this.y-a.y)<r},n.prototype.toString=function(){return"vector("+this.x+","+this.y+")"},x.exports=n},function(x,L,o){function n(r,u,s){Object.defineProperty(r,u,{value:s,writable:!1,enumerable:!0,configurable:!1})}function a(r,u,s,c,f,d){n(this,"a",r!==void 0?r:1),n(this,"b",u!==void 0?u:0),n(this,"c",s!==void 0?s:0),n(this,"d",c!==void 0?c:1),n(this,"e",f!==void 0?f:0),n(this,"f",d!==void 0?d:0)}n(a,"IDENTITY",new a(1,0,0,1,0,0)),n(a.IDENTITY,"isIdentity",function(){return!0}),a.translation=function(r,u){return new a(1,0,0,1,r,u)},a.scaling=function(r){return new a(r,0,0,r,0,0)},a.scalingAt=function(r,u){return new a(r,0,0,r,u.x-u.x*r,u.y-u.y*r)},a.nonUniformScaling=function(r,u){return new a(r,0,0,u,0,0)},a.nonUniformScalingAt=function(r,u,s){return new a(r,0,0,u,s.x-s.x*r,s.y-s.y*u)},a.rotation=function(r){let u=Math.cos(r),s=Math.sin(r);return new a(u,s,-s,u,0,0)},a.rotationAt=function(r,u){let s=Math.cos(r),c=Math.sin(r);return new a(s,c,-c,s,u.x-u.x*s+u.y*c,u.y-u.y*s-u.x*c)},a.rotationFromVector=function(r){var u=r.unit(),s=u.x,c=u.y;return new a(s,c,-c,s,0,0)},a.xFlip=function(){return new a(-1,0,0,1,0,0)},a.yFlip=function(){return new a(1,0,0,-1,0,0)},a.xSkew=function(r){return new a(1,0,Math.tan(r),1,0,0)},a.ySkew=function(r){return new a(1,Math.tan(r),0,1,0,0)},a.prototype.multiply=function(r){return this.isIdentity()?r:r.isIdentity()?this:new this.constructor(this.a*r.a+this.c*r.b,this.b*r.a+this.d*r.b,this.a*r.c+this.c*r.d,this.b*r.c+this.d*r.d,this.a*r.e+this.c*r.f+this.e,this.b*r.e+this.d*r.f+this.f)},a.prototype.inverse=function(){if(this.isIdentity())return this;var r=this.a*this.d-this.b*this.c;if(r===0)throw"Matrix is not invertible";var u=1/r,s=this.f*this.c-this.e*this.d,c=this.e*this.b-this.f*this.a;return new this.constructor(this.d*u,-this.b*u,-this.c*u,this.a*u,s*u,c*u)},a.prototype.translate=function(r,u){return new this.constructor(this.a,this.b,this.c,this.d,this.a*r+this.c*u+this.e,this.b*r+this.d*u+this.f)},a.prototype.scale=function(r){return new this.constructor(this.a*r,this.b*r,this.c*r,this.d*r,this.e,this.f)},a.prototype.scaleAt=function(r,u){var s=u.x-r*u.x,c=u.y-r*u.y;return new this.constructor(this.a*r,this.b*r,this.c*r,this.d*r,this.a*s+this.c*c+this.e,this.b*s+this.d*c+this.f)},a.prototype.scaleNonUniform=function(r,u){return new this.constructor(this.a*r,this.b*r,this.c*u,this.d*u,this.e,this.f)},a.prototype.scaleNonUniformAt=function(r,u,s){var c=s.x-r*s.x,f=s.y-u*s.y;return new this.constructor(this.a*r,this.b*r,this.c*u,this.d*u,this.a*c+this.c*f+this.e,this.b*c+this.d*f+this.f)},a.prototype.rotate=function(r){var u=Math.cos(r),s=Math.sin(r);return new this.constructor(this.a*u+this.c*s,this.b*u+this.d*s,this.a*-s+this.c*u,this.b*-s+this.d*u,this.e,this.f)},a.prototype.rotateAt=function(r,u){var s=Math.cos(r),c=Math.sin(r),f=u.x,d=u.y,g=this.a*s+this.c*c,m=this.b*s+this.d*c,_=this.c*s-this.a*c,R=this.d*s-this.b*c;return new this.constructor(g,m,_,R,(this.a-g)*f+(this.c-_)*d+this.e,(this.b-m)*f+(this.d-R)*d+this.f)},a.prototype.rotateFromVector=function(r){var u=r.unit(),s=u.x,c=u.y;return new this.constructor(this.a*s+this.c*c,this.b*s+this.d*c,this.a*-c+this.c*s,this.b*-c+this.d*s,this.e,this.f)},a.prototype.flipX=function(){return new this.constructor(-this.a,-this.b,this.c,this.d,this.e,this.f)},a.prototype.flipY=function(){return new this.constructor(this.a,this.b,-this.c,-this.d,this.e,this.f)},a.prototype.skewX=function(r){var u=Math.tan(r);return new this.constructor(this.a,this.b,this.c+this.a*u,this.d+this.b*u,this.e,this.f)},a.prototype.skewY=function(r){var u=Math.tan(r);return new this.constructor(this.a+this.c*u,this.b+this.d*u,this.c,this.d,this.e,this.f)},a.prototype.isIdentity=function(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.e===0&&this.f===0},a.prototype.isInvertible=function(){return this.a*this.d-this.b*this.c!=0},a.prototype.getScale=function(){return{scaleX:Math.sqrt(this.a*this.a+this.c*this.c),scaleY:Math.sqrt(this.b*this.b+this.d*this.d)}},a.prototype.getDecomposition=function(){var r=.5*(this.a+this.d),u=.5*(this.a-this.d),s=.5*(this.b+this.c),c=.5*(this.b-this.c),f=Math.sqrt(r*r+c*c),d=Math.sqrt(u*u+s*s),g=f+d,m=f-d,_=Math.atan2(s,u),R=Math.atan2(c,r),C=.5*(R-_),k=.5*(R+_);return{translation:new this.constructor(1,0,0,1,this.e,this.f),rotation:this.constructor.IDENTITY.rotate(k),scale:new this.constructor(g,0,0,m,0,0),rotation0:this.constructor.IDENTITY.rotate(C)}},a.prototype.equals=function(r){return this.a===r.a&&this.b===r.b&&this.c===r.c&&this.d===r.d&&this.e===r.e&&this.f===r.f},a.prototype.precisionEquals=function(r,u){return Math.abs(this.a-r.a)<u&&Math.abs(this.b-r.b)<u&&Math.abs(this.c-r.c)<u&&Math.abs(this.d-r.d)<u&&Math.abs(this.e-r.e)<u&&Math.abs(this.f-r.f)<u},a.prototype.toString=function(){return"matrix("+[this.a,this.b,this.c,this.d,this.e,this.f].join(",")+")"},x.exports=a},function(x,L,o){var n=o(4).Point2D,a=o(4).Vector2D,r=o(383).Polynomial;function u(c){var f=c.slice();return f.push(c[0]),f}function s(c){this.init(c)}s.prototype.init=function(c){this.status=c,this.points=new Array},s.prototype.appendPoint=function(c){this.points.push(c)},s.prototype.appendPoints=function(c){this.points=this.points.concat(c)},s.intersect=function(c,f){var d;if(c!=null&&f!=null)if(c.name=="Path")d=s.intersectPathShape(c,f);else if(f.name=="Path")d=s.intersectPathShape(f,c);else{var g,m;if(c.name<f.name?(g="intersect"+c.name+f.name,m=c.args.concat(f.args)):(g="intersect"+f.name+c.name,m=f.args.concat(c.args)),!(g in s))throw new Error("Intersection not available: "+g);d=s[g].apply(null,m)}else d=new s("No Intersection");return d},s.intersectPathShape=function(c,f){for(var d=new s("No Intersection"),g=c.args.length,m=0;m<g;m++){var _=c.args[m],R=s.intersect(_,f);d.appendPoints(R.points)}return d.points.length>0&&(d.status="Intersection"),d},s.intersectBezier2Bezier2=function(c,f,d,g,m,_){var R,C,k,M,I,S,P=new s("No Intersection");v=f.multiply(-2),R=c.add(v.add(d)),v=c.multiply(-2),b=f.multiply(2),C=v.add(b),k=new n(c.x,c.y),v=m.multiply(-2),M=g.add(v.add(_)),v=g.multiply(-2),b=m.multiply(2),I=v.add(b),S=new n(g.x,g.y);for(var v=R.x*C.y-C.x*R.y,b=M.x*C.y-C.x*M.y,A=I.x*C.y-C.x*I.y,O=C.x*(k.y-S.y)+C.y*(-k.x+S.x),T=M.x*R.y-R.x*M.y,B=I.x*R.y-R.x*I.y,F=R.x*(k.y-S.y)+R.y*(-k.x+S.x),j=new r(-T*T,-2*T*B,v*b-B*B-2*T*F,v*A-2*B*F,v*O-F*F).getRoots(),V=0;V<j.length;V++){var K=j[V];if(0<=K&&K<=1){var J=new r(R.x,C.x,k.x-S.x-K*I.x-K*K*M.x);J.simplify();var Y=J.getRoots(),X=new r(R.y,C.y,k.y-S.y-K*I.y-K*K*M.y);X.simplify();var W=X.getRoots();if(Y.length>0&&W.length>0){e:for(var G=0;G<Y.length;G++){var ne=Y[G];if(0<=ne&&ne<=1){for(var ue=0;ue<W.length;ue++)if(Math.abs(ne-W[ue])<1e-4){P.points.push(M.multiply(K*K).add(I.multiply(K).add(S)));break e}}}}}}return P.points.length>0&&(P.status="Intersection"),P},s.intersectBezier2Bezier3=function(c,f,d,g,m,_,R){var C,k,M,I,S,P,v,b,A,O,T,B=new s("No Intersection");C=f.multiply(-2),S=c.add(C.add(d)),C=c.multiply(-2),k=f.multiply(2),P=C.add(k),v=new n(c.x,c.y),C=g.multiply(-1),k=m.multiply(3),M=_.multiply(-3),I=C.add(k.add(M.add(R))),b=new a(I.x,I.y),C=g.multiply(3),k=m.multiply(-6),M=_.multiply(3),I=C.add(k.add(M)),A=new a(I.x,I.y),C=g.multiply(-3),k=m.multiply(3),M=C.add(k),O=new a(M.x,M.y),T=new a(g.x,g.y);for(var F=v.x*v.x,j=v.y*v.y,V=P.x*P.x,K=P.y*P.y,J=S.x*S.x,Y=S.y*S.y,X=T.x*T.x,W=T.y*T.y,G=O.x*O.x,ne=O.y*O.y,ue=A.x*A.x,re=A.y*A.y,pe=b.x*b.x,ae=b.y*b.y,me=new r(-2*S.x*S.y*b.x*b.y+J*ae+Y*pe,-2*S.x*S.y*A.x*b.y-2*S.x*S.y*A.y*b.x+2*Y*A.x*b.x+2*J*A.y*b.y,-2*S.x*O.x*S.y*b.y-2*S.x*S.y*O.y*b.x-2*S.x*S.y*A.x*A.y+2*O.x*Y*b.x+Y*ue+J*(2*O.y*b.y+re),2*v.x*S.x*S.y*b.y+2*v.y*S.x*S.y*b.x+P.x*P.y*S.x*b.y+P.x*P.y*S.y*b.x-2*T.x*S.x*S.y*b.y-2*S.x*T.y*S.y*b.x-2*S.x*O.x*S.y*A.y-2*S.x*S.y*O.y*A.x-2*v.x*Y*b.x-2*v.y*J*b.y+2*T.x*Y*b.x+2*O.x*Y*A.x-K*S.x*b.x-V*S.y*b.y+J*(2*T.y*b.y+2*O.y*A.y),2*v.x*S.x*S.y*A.y+2*v.y*S.x*S.y*A.x+P.x*P.y*S.x*A.y+P.x*P.y*S.y*A.x-2*T.x*S.x*S.y*A.y-2*S.x*T.y*S.y*A.x-2*S.x*O.x*S.y*O.y-2*v.x*Y*A.x-2*v.y*J*A.y+2*T.x*Y*A.x-K*S.x*A.x-V*S.y*A.y+G*Y+J*(2*T.y*A.y+ne),2*v.x*S.x*S.y*O.y+2*v.y*S.x*O.x*S.y+P.x*P.y*S.x*O.y+P.x*P.y*O.x*S.y-2*T.x*S.x*S.y*O.y-2*S.x*T.y*O.x*S.y-2*v.x*O.x*Y-2*v.y*J*O.y+2*T.x*O.x*Y-K*S.x*O.x-V*S.y*O.y+2*J*T.y*O.y,-2*v.x*v.y*S.x*S.y-v.x*P.x*P.y*S.y-v.y*P.x*P.y*S.x+2*v.x*S.x*T.y*S.y+2*v.y*T.x*S.x*S.y+P.x*T.x*P.y*S.y+P.x*P.y*S.x*T.y-2*T.x*S.x*T.y*S.y-2*v.x*T.x*Y+v.x*K*S.x+v.y*V*S.y-2*v.y*J*T.y-T.x*K*S.x-V*T.y*S.y+F*Y+j*J+X*Y+J*W).getRootsInInterval(0,1),Q=0;Q<me.length;Q++){var le=me[Q],Z=new r(S.x,P.x,v.x-T.x-le*O.x-le*le*A.x-le*le*le*b.x).getRoots(),be=new r(S.y,P.y,v.y-T.y-le*O.y-le*le*A.y-le*le*le*b.y).getRoots();if(Z.length>0&&be.length>0){e:for(var ke=0;ke<Z.length;ke++){var Fe=Z[ke];if(0<=Fe&&Fe<=1){for(var ze=0;ze<be.length;ze++)if(Math.abs(Fe-be[ze])<1e-4){B.points.push(b.multiply(le*le*le).add(A.multiply(le*le).add(O.multiply(le).add(T))));break e}}}}}return B.points.length>0&&(B.status="Intersection"),B},s.intersectBezier2Circle=function(c,f,d,g,m){return s.intersectBezier2Ellipse(c,f,d,g,m,m)},s.intersectBezier2Ellipse=function(c,f,d,g,m,_){var R,C,k,M,I,S=new s("No Intersection");R=f.multiply(-2),k=c.add(R.add(d)),R=c.multiply(-2),C=f.multiply(2),M=R.add(C),I=new n(c.x,c.y);for(var P=m*m,v=_*_,b=new r(v*k.x*k.x+P*k.y*k.y,2*(v*k.x*M.x+P*k.y*M.y),v*(2*k.x*I.x+M.x*M.x)+P*(2*k.y*I.y+M.y*M.y)-2*(v*g.x*k.x+P*g.y*k.y),2*(v*M.x*(I.x-g.x)+P*M.y*(I.y-g.y)),v*(I.x*I.x+g.x*g.x)+P*(I.y*I.y+g.y*g.y)-2*(v*g.x*I.x+P*g.y*I.y)-P*v).getRoots(),A=0;A<b.length;A++){var O=b[A];0<=O&&O<=1&&S.points.push(k.multiply(O*O).add(M.multiply(O).add(I)))}return S.points.length>0&&(S.status="Intersection"),S},s.intersectBezier2Line=function(c,f,d,g,m){var _,R,C,k,M,I,S,P=g.min(m),v=g.max(m),b=new s("No Intersection");_=f.multiply(-2),C=c.add(_.add(d)),_=c.multiply(-2),R=f.multiply(2),k=_.add(R),M=new n(c.x,c.y),S=new a(g.y-m.y,m.x-g.x),I=g.x*m.y-m.x*g.y,roots=new r(S.dot(C),S.dot(k),S.dot(M)+I).getRoots();for(var A=0;A<roots.length;A++){var O=roots[A];if(0<=O&&O<=1){var T=c.lerp(f,O),B=f.lerp(d,O),F=T.lerp(B,O);g.x==m.x?P.y<=F.y&&F.y<=v.y&&(b.status="Intersection",b.appendPoint(F)):g.y==m.y?P.x<=F.x&&F.x<=v.x&&(b.status="Intersection",b.appendPoint(F)):P.x<=F.x&&F.x<=v.x&&P.y<=F.y&&F.y<=v.y&&(b.status="Intersection",b.appendPoint(F))}}return b},s.intersectBezier2Polygon=function(c,f,d,g){return s.intersectBezier2Polyline(c,f,d,u(g))},s.intersectBezier2Polyline=function(c,f,d,g){for(var m=new s("No Intersection"),_=g.length,R=0;R<_-1;R++){var C=g[R],k=g[R+1],M=s.intersectBezier2Line(c,f,d,C,k);m.appendPoints(M.points)}return m.points.length>0&&(m.status="Intersection"),m},s.intersectBezier2Rectangle=function(c,f,d,g,m){var _=g.min(m),R=g.max(m),C=new n(R.x,_.y),k=new n(_.x,R.y),M=s.intersectBezier2Line(c,f,d,_,C),I=s.intersectBezier2Line(c,f,d,C,R),S=s.intersectBezier2Line(c,f,d,R,k),P=s.intersectBezier2Line(c,f,d,k,_),v=new s("No Intersection");return v.appendPoints(M.points),v.appendPoints(I.points),v.appendPoints(S.points),v.appendPoints(P.points),v.points.length>0&&(v.status="Intersection"),v},s.intersectBezier3Bezier3=function(c,f,d,g,m,_,R,C){var k,M,I,S,P,v,b,A,O,T=new s("No Intersection");B=c.multiply(-1),F=f.multiply(3),k=d.multiply(-3),Y=B.add(F.add(k.add(g))),M=new a(Y.x,Y.y),B=c.multiply(3),F=f.multiply(-6),k=d.multiply(3),Y=B.add(F.add(k)),I=new a(Y.x,Y.y),B=c.multiply(-3),F=f.multiply(3),k=B.add(F),S=new a(k.x,k.y),P=new a(c.x,c.y),B=m.multiply(-1),F=_.multiply(3),k=R.multiply(-3),Y=B.add(F.add(k.add(C))),v=new a(Y.x,Y.y),B=m.multiply(3),F=_.multiply(-6),k=R.multiply(3),Y=B.add(F.add(k)),b=new a(Y.x,Y.y),B=m.multiply(-3),F=_.multiply(3),k=B.add(F),A=new a(k.x,k.y),O=new a(m.x,m.y);var B=M.x*I.y-I.x*M.y,F=M.x*S.y-S.x*M.y,j=M.x*P.y-P.x*M.y+O.x*M.y-M.x*O.y,V=A.x*M.y-M.x*A.y,K=b.x*M.y-M.x*b.y,J=v.x*M.y-M.x*v.y,Y=M.x*S.y-S.x*M.y,X=M.x*P.y+I.x*S.y-S.x*I.y-P.x*M.y+O.x*M.y-M.x*O.y,W=A.x*M.y-M.x*A.y,G=b.x*M.y-M.x*b.y,ne=v.x*M.y-M.x*v.y,ue=I.x*P.y-P.x*I.y+O.x*I.y-I.x*O.y,re=A.x*I.y-I.x*A.y,pe=b.x*I.y-I.x*b.y,ae=v.x*I.y-I.x*v.y,me=M.x*P.y-P.x*M.y+O.x*M.y-M.x*O.y,Q=A.x*M.y-M.x*A.y,le=b.x*M.y-M.x*b.y,Z=v.x*M.y-M.x*v.y,be=I.x*P.y-P.x*I.y+O.x*I.y-I.x*O.y,ke=A.x*I.y-I.x*A.y,Fe=b.x*I.y-I.x*b.y,ze=v.x*I.y-I.x*v.y,Je=S.x*P.y-P.x*S.y+O.x*S.y-S.x*O.y,$e=A.x*S.y-S.x*A.y,xt=b.x*S.y-S.x*b.y,Ne=v.x*S.y-S.x*v.y,et=new r(-J*ne*Z,-J*ne*le-J*G*Z-K*ne*Z,-J*ne*Q-J*G*le-K*ne*le-J*W*Z-K*G*Z-V*ne*Z,-J*ne*me-J*G*Q-K*ne*Q-J*W*le-K*G*le-V*ne*le-J*X*Z-K*W*Z-V*G*Z-j*ne*Z+F*ae*Z+J*Y*ze-B*ae*ze+B*ne*Ne,-J*G*me-K*ne*me-J*W*Q-K*G*Q-V*ne*Q-J*X*le-K*W*le-V*G*le-j*ne*le+F*ae*le-K*X*Z-V*W*Z-j*G*Z+F*pe*Z+J*Y*Fe-B*ae*Fe+K*Y*ze-B*pe*ze+B*ne*xt+B*G*Ne,-J*W*me-K*G*me-V*ne*me-J*X*Q-K*W*Q-V*G*Q-j*ne*Q+F*ae*Q-K*X*le-V*W*le-j*G*le+F*pe*le-V*X*Z-j*W*Z+F*re*Z+J*Y*ke-B*ae*ke+K*Y*Fe-B*pe*Fe+V*Y*ze-B*re*ze+B*ne*$e+B*G*xt+B*W*Ne,-J*X*me-K*W*me-V*G*me-j*ne*me+F*ae*me-K*X*Q-V*W*Q-j*G*Q+F*pe*Q-V*X*le-j*W*le+F*re*le-j*X*Z+F*ue*Z+J*Y*be-B*ae*be+K*Y*ke-B*pe*ke+V*Y*Fe-B*re*Fe+j*Y*ze-B*ue*ze+B*ne*Je+B*G*$e+B*W*xt-F*Y*Ne+B*X*Ne,-K*X*me-V*W*me-j*G*me+F*pe*me-V*X*Q-j*W*Q+F*re*Q-j*X*le+F*ue*le+K*Y*be-B*pe*be+V*Y*ke-B*re*ke+j*Y*Fe-B*ue*Fe+B*G*Je+B*W*$e-F*Y*xt+B*X*xt,-V*X*me-j*W*me+F*re*me-j*X*Q+F*ue*Q+V*Y*be-B*re*be+j*Y*ke-B*ue*ke+B*W*Je-F*Y*$e+B*X*$e,-j*X*me+F*ue*me+j*Y*be-B*ue*be-F*Y*Je+B*X*Je);et.simplify();for(var jt=et.getRootsInInterval(0,1),Ze=0;Ze<jt.length;Ze++){var Ue=jt[Ze],_t=new r(M.x,I.x,S.x,P.x-O.x-Ue*A.x-Ue*Ue*b.x-Ue*Ue*Ue*v.x);_t.simplify(),xRoots=_t.getRoots();var tt=new r(M.y,I.y,S.y,P.y-O.y-Ue*A.y-Ue*Ue*b.y-Ue*Ue*Ue*v.y);if(tt.simplify(),yRoots=tt.getRoots(),xRoots.length>0&&yRoots.length>0){e:for(var mt=0;mt<xRoots.length;mt++){var wt=xRoots[mt];if(0<=wt&&wt<=1){for(var Rt=0;Rt<yRoots.length;Rt++)if(Math.abs(wt-yRoots[Rt])<1e-4){T.points.push(v.multiply(Ue*Ue*Ue).add(b.multiply(Ue*Ue).add(A.multiply(Ue).add(O))));break e}}}}}return T.points.length>0&&(T.status="Intersection"),T},s.intersectBezier3Circle=function(c,f,d,g,m,_){return s.intersectBezier3Ellipse(c,f,d,g,m,_,_)},s.intersectBezier3Ellipse=function(c,f,d,g,m,_,R){var C,k,M,I,S,P,v,b,A=new s("No Intersection");C=c.multiply(-1),k=f.multiply(3),M=d.multiply(-3),I=C.add(k.add(M.add(g))),S=new a(I.x,I.y),C=c.multiply(3),k=f.multiply(-6),M=d.multiply(3),I=C.add(k.add(M)),P=new a(I.x,I.y),C=c.multiply(-3),k=f.multiply(3),M=C.add(k),v=new a(M.x,M.y),b=new a(c.x,c.y);for(var O=_*_,T=R*R,B=new r(S.x*S.x*T+S.y*S.y*O,2*(S.x*P.x*T+S.y*P.y*O),2*(S.x*v.x*T+S.y*v.y*O)+P.x*P.x*T+P.y*P.y*O,2*S.x*T*(b.x-m.x)+2*S.y*O*(b.y-m.y)+2*(P.x*v.x*T+P.y*v.y*O),2*P.x*T*(b.x-m.x)+2*P.y*O*(b.y-m.y)+v.x*v.x*T+v.y*v.y*O,2*v.x*T*(b.x-m.x)+2*v.y*O*(b.y-m.y),b.x*b.x*T-2*b.y*m.y*O-2*b.x*m.x*T+b.y*b.y*O+m.x*m.x*T+m.y*m.y*O-O*T).getRootsInInterval(0,1),F=0;F<B.length;F++){var j=B[F];A.points.push(S.multiply(j*j*j).add(P.multiply(j*j).add(v.multiply(j).add(b))))}return A.points.length>0&&(A.status="Intersection"),A},s.intersectBezier3Line=function(c,f,d,g,m,_){var R,C,k,M,I,S,P,v,b,A,O=m.min(_),T=m.max(_),B=new s("No Intersection");R=c.multiply(-1),C=f.multiply(3),k=d.multiply(-3),M=R.add(C.add(k.add(g))),I=new a(M.x,M.y),R=c.multiply(3),C=f.multiply(-6),k=d.multiply(3),M=R.add(C.add(k)),S=new a(M.x,M.y),R=c.multiply(-3),C=f.multiply(3),k=R.add(C),P=new a(k.x,k.y),v=new a(c.x,c.y),A=new a(m.y-_.y,_.x-m.x),b=m.x*_.y-_.x*m.y,roots=new r(A.dot(I),A.dot(S),A.dot(P),A.dot(v)+b).getRoots();for(var F=0;F<roots.length;F++){var j=roots[F];if(0<=j&&j<=1){var V=c.lerp(f,j),K=f.lerp(d,j),J=d.lerp(g,j),Y=V.lerp(K,j),X=K.lerp(J,j),W=Y.lerp(X,j);m.x==_.x?O.y<=W.y&&W.y<=T.y&&(B.status="Intersection",B.appendPoint(W)):m.y==_.y?O.x<=W.x&&W.x<=T.x&&(B.status="Intersection",B.appendPoint(W)):O.x<=W.x&&W.x<=T.x&&O.y<=W.y&&W.y<=T.y&&(B.status="Intersection",B.appendPoint(W))}}return B},s.intersectBezier3Polygon=function(c,f,d,g,m){return this.intersectBezier3Polyline(c,f,d,g,u(m))},s.intersectBezier3Polyline=function(c,f,d,g,m){for(var _=new s("No Intersection"),R=m.length,C=0;C<R-1;C++){var k=m[C],M=m[C+1],I=s.intersectBezier3Line(c,f,d,g,k,M);_.appendPoints(I.points)}return _.points.length>0&&(_.status="Intersection"),_},s.intersectBezier3Rectangle=function(c,f,d,g,m,_){var R=m.min(_),C=m.max(_),k=new n(C.x,R.y),M=new n(R.x,C.y),I=s.intersectBezier3Line(c,f,d,g,R,k),S=s.intersectBezier3Line(c,f,d,g,k,C),P=s.intersectBezier3Line(c,f,d,g,C,M),v=s.intersectBezier3Line(c,f,d,g,M,R),b=new s("No Intersection");return b.appendPoints(I.points),b.appendPoints(S.points),b.appendPoints(P.points),b.appendPoints(v.points),b.points.length>0&&(b.status="Intersection"),b},s.intersectCircleCircle=function(c,f,d,g){var m,_=f+g,R=Math.abs(f-g),C=c.distanceFrom(d);if(C>_)m=new s("Outside");else if(C<R)m=new s("Inside");else{m=new s("Intersection");var k=(f*f-g*g+C*C)/(2*C),M=Math.sqrt(f*f-k*k),I=c.lerp(d,k/C),S=M/C;m.points.push(new n(I.x-S*(d.y-c.y),I.y+S*(d.x-c.x))),m.points.push(new n(I.x+S*(d.y-c.y),I.y-S*(d.x-c.x)))}return m},s.intersectCircleEllipse=function(c,f,d,g,m){return s.intersectEllipseEllipse(c,f,f,d,g,m)},s.intersectCircleLine=function(c,f,d,g){var m,_=(g.x-d.x)*(g.x-d.x)+(g.y-d.y)*(g.y-d.y),R=2*((g.x-d.x)*(d.x-c.x)+(g.y-d.y)*(d.y-c.y)),C=R*R-4*_*(c.x*c.x+c.y*c.y+d.x*d.x+d.y*d.y-2*(c.x*d.x+c.y*d.y)-f*f);if(C<0)m=new s("Outside");else if(C==0)m=new s("Tangent");else{var k=Math.sqrt(C),M=(-R+k)/(2*_),I=(-R-k)/(2*_);(M<0||M>1)&&(I<0||I>1)?m=new s(M<0&&I<0||M>1&&I>1?"Outside":"Inside"):(m=new s("Intersection"),0<=M&&M<=1&&m.points.push(d.lerp(g,M)),0<=I&&I<=1&&m.points.push(d.lerp(g,I)))}return m},s.intersectCirclePolygon=function(c,f,d){return this.intersectCirclePolyline(c,f,u(d))},s.intersectCirclePolyline=function(c,f,d){for(var g,m=new s("No Intersection"),_=d.length,R=0;R<_-1;R++){var C=d[R],k=d[R+1];g=s.intersectCircleLine(c,f,C,k),m.appendPoints(g.points)}return m.points.length>0?m.status="Intersection":m.status=g.status,m},s.intersectCircleRectangle=function(c,f,d,g){var m=d.min(g),_=d.max(g),R=new n(_.x,m.y),C=new n(m.x,_.y),k=s.intersectCircleLine(c,f,m,R),M=s.intersectCircleLine(c,f,R,_),I=s.intersectCircleLine(c,f,_,C),S=s.intersectCircleLine(c,f,C,m),P=new s("No Intersection");return P.appendPoints(k.points),P.appendPoints(M.points),P.appendPoints(I.points),P.appendPoints(S.points),P.points.length>0?P.status="Intersection":P.status=k.status,P},s.intersectEllipseEllipse=function(c,f,d,g,m,_){for(var R=[d*d,0,f*f,-2*d*d*c.x,-2*f*f*c.y,d*d*c.x*c.x+f*f*c.y*c.y-f*f*d*d],C=[_*_,0,m*m,-2*_*_*g.x,-2*m*m*g.y,_*_*g.x*g.x+m*m*g.y*g.y-m*m*_*_],k=s.bezout(R,C).getRoots(),M=.001*(R[0]*R[0]+2*R[1]*R[1]+R[2]*R[2]),I=.001*(C[0]*C[0]+2*C[1]*C[1]+C[2]*C[2]),S=new s("No Intersection"),P=0;P<k.length;P++)for(var v=new r(R[0],R[3]+k[P]*R[1],R[5]+k[P]*(R[4]+k[P]*R[2])).getRoots(),b=0;b<v.length;b++){var A=(R[0]*v[b]+R[1]*k[P]+R[3])*v[b]+(R[2]*k[P]+R[4])*k[P]+R[5];Math.abs(A)<M&&(A=(C[0]*v[b]+C[1]*k[P]+C[3])*v[b]+(C[2]*k[P]+C[4])*k[P]+C[5],Math.abs(A)<I&&S.appendPoint(new n(v[b],k[P])))}return S.points.length>0&&(S.status="Intersection"),S},s.intersectEllipseLine=function(c,f,d,g,m){var _,R=new a(g.x,g.y),C=a.fromPoints(g,m),k=new a(c.x,c.y),M=R.subtract(k),I=new a(C.x/(f*f),C.y/(d*d)),S=new a(M.x/(f*f),M.y/(d*d)),P=C.dot(I),v=C.dot(S),b=v*v-P*(c=M.dot(S)-1);if(b<0)_=new s("Outside");else if(b>0){var A=Math.sqrt(b),O=(-v-A)/P,T=(-v+A)/P;(O<0||1<O)&&(T<0||1<T)?_=new s(O<0&&T<0||O>1&&T>1?"Outside":"Inside"):(_=new s("Intersection"),0<=O&&O<=1&&_.appendPoint(g.lerp(m,O)),0<=T&&T<=1&&_.appendPoint(g.lerp(m,T)))}else{var B=-v/P;0<=B&&B<=1?(_=new s("Intersection")).appendPoint(g.lerp(m,B)):_=new s("Outside")}return _},s.intersectEllipsePolygon=function(c,f,d,g){return this.intersectEllipsePolyline(c,f,d,u(g))},s.intersectEllipsePolyline=function(c,f,d,g){for(var m=new s("No Intersection"),_=g.length,R=0;R<_-1;R++){var C=g[R],k=g[R+1],M=s.intersectEllipseLine(c,f,d,C,k);m.appendPoints(M.points)}return m.points.length>0&&(m.status="Intersection"),m},s.intersectEllipseRectangle=function(c,f,d,g,m){var _=g.min(m),R=g.max(m),C=new n(R.x,_.y),k=new n(_.x,R.y),M=s.intersectEllipseLine(c,f,d,_,C),I=s.intersectEllipseLine(c,f,d,C,R),S=s.intersectEllipseLine(c,f,d,R,k),P=s.intersectEllipseLine(c,f,d,k,_),v=new s("No Intersection");return v.appendPoints(M.points),v.appendPoints(I.points),v.appendPoints(S.points),v.appendPoints(P.points),v.points.length>0&&(v.status="Intersection"),v},s.intersectLineLine=function(c,f,d,g){var m,_=(g.x-d.x)*(c.y-d.y)-(g.y-d.y)*(c.x-d.x),R=(f.x-c.x)*(c.y-d.y)-(f.y-c.y)*(c.x-d.x),C=(g.y-d.y)*(f.x-c.x)-(g.x-d.x)*(f.y-c.y);if(C!=0){var k=_/C,M=R/C;0<=k&&k<=1&&0<=M&&M<=1?(m=new s("Intersection")).points.push(new n(c.x+k*(f.x-c.x),c.y+k*(f.y-c.y))):m=new s("No Intersection")}else m=new s(_==0||R==0?"Coincident":"Parallel");return m},s.intersectLinePolygon=function(c,f,d){return this.intersectLinePolyline(c,f,u(d))},s.intersectLinePolyline=function(c,f,d){for(var g=new s("No Intersection"),m=d.length,_=0;_<m-1;_++){var R=d[_],C=d[_+1],k=s.intersectLineLine(c,f,R,C);g.appendPoints(k.points)}return g.points.length>0&&(g.status="Intersection"),g},s.intersectLineRectangle=function(c,f,d,g){var m=d.min(g),_=d.max(g),R=new n(_.x,m.y),C=new n(m.x,_.y),k=s.intersectLineLine(m,R,c,f),M=s.intersectLineLine(R,_,c,f),I=s.intersectLineLine(_,C,c,f),S=s.intersectLineLine(C,m,c,f),P=new s("No Intersection");return P.appendPoints(k.points),P.appendPoints(M.points),P.appendPoints(I.points),P.appendPoints(S.points),P.points.length>0&&(P.status="Intersection"),P},s.intersectPolygonPolygon=function(c,f){return this.intersectPolylinePolyline(u(c),u(f))},s.intersectPolygonPolyline=function(c,f){return this.intersectPolylinePolyline(u(c),f)},s.intersectPolygonRectangle=function(c,f,d){return this.intersectPolylineRectangle(u(c),f,d)},s.intersectPolylinePolyline=function(c,f){for(var d=new s("No Intersection"),g=c.length,m=0;m<g-1;m++){var _=c[m],R=c[m+1],C=s.intersectLinePolyline(_,R,f);d.appendPoints(C.points)}return d.points.length>0&&(d.status="Intersection"),d},s.intersectPolylineRectangle=function(c,f,d){var g=f.min(d),m=f.max(d),_=new n(m.x,g.y),R=new n(g.x,m.y),C=s.intersectLinePolyline(g,_,c),k=s.intersectLinePolyline(_,m,c),M=s.intersectLinePolyline(m,R,c),I=s.intersectLinePolyline(R,g,c),S=new s("No Intersection");return S.appendPoints(C.points),S.appendPoints(k.points),S.appendPoints(M.points),S.appendPoints(I.points),S.points.length>0&&(S.status="Intersection"),S},s.intersectRectangleRectangle=function(c,f,d,g){var m=c.min(f),_=c.max(f),R=new n(_.x,m.y),C=new n(m.x,_.y),k=s.intersectLineRectangle(m,R,d,g),M=s.intersectLineRectangle(R,_,d,g),I=s.intersectLineRectangle(_,C,d,g),S=s.intersectLineRectangle(C,m,d,g),P=new s("No Intersection");return P.appendPoints(k.points),P.appendPoints(M.points),P.appendPoints(I.points),P.appendPoints(S.points),P.points.length>0&&(P.status="Intersection"),P},s.intersectRayRay=function(c,f,d,g){var m,_=(g.x-d.x)*(c.y-d.y)-(g.y-d.y)*(c.x-d.x),R=(f.x-c.x)*(c.y-d.y)-(f.y-c.y)*(c.x-d.x),C=(g.y-d.y)*(f.x-c.x)-(g.x-d.x)*(f.y-c.y);if(C!=0){var k=_/C;(m=new s("Intersection")).points.push(new n(c.x+k*(f.x-c.x),c.y+k*(f.y-c.y)))}else m=new s(_==0||R==0?"Coincident":"Parallel");return m},s.bezout=function(c,f){var d=c[0]*f[1]-f[0]*c[1],g=c[0]*f[2]-f[0]*c[2],m=c[0]*f[3]-f[0]*c[3],_=c[0]*f[4]-f[0]*c[4],R=c[0]*f[5]-f[0]*c[5],C=c[1]*f[2]-f[1]*c[2],k=c[1]*f[4]-f[1]*c[4],M=c[1]*f[5]-f[1]*c[5],I=c[2]*f[3]-f[2]*c[3],S=c[3]*f[4]-f[3]*c[4],P=c[3]*f[5]-f[3]*c[5],v=M+S,b=k-I;return new r(d*C-g*g,d*b+m*C-2*g*_,d*v+m*b-_*_-2*g*R,d*P+m*v-2*_*R,m*P-R*R)},x.exports=s},function(x,L,o){L.Polynomial=o(146),L.SqrtPolynomial=o(384)},function(x,L,o){var n=o(146);function a(){this.init(arguments)}a.VERSION=1,a.prototype=new n,a.prototype.constructor=a,a.superclass=n.prototype,a.prototype.eval=function(r){var u=a.superclass.eval.call(this,r);if(Math.abs(u)<1e-7&&(u=0),u<0)throw new Error("SqrtPolynomial.eval: cannot take square root of negative number");return Math.sqrt(u)},a.prototype.toString=function(){return"sqrt("+a.superclass.toString.call(this)+")"},x.exports=a},function(x,L,o){var n=o(4).Point2D,a=o(82),r={quadraticBezier:function(u,s,c,f,d,g){return new a("Bezier2",[new n(u,s),new n(c,f),new n(d,g)])},cubicBezier:function(u,s,c,f,d,g,m,_){return new a("Bezier3",[new n(u,s),new n(c,f),new n(d,g),new n(m,_)])},circle:function(u,s,c){return new a("Circle",[new n(u,s),c])},ellipse:function(u,s,c,f){return new a("Ellipse",[new n(u,s),c,f])},line:function(u,s,c,f){return new a("Line",[new n(u,s),new n(c,f)])},path:function(u){return new a("Path",u)},polygon:function(u){for(var s=[],c=0;c<u.length;c+=2)s.push(new n(u[c],u[c+1]));return new a("Polygon",[s])},polyline:function(u){for(var s=[],c=0;c<u.length;c+=2)s.push(new n(u[c],u[c+1]));return new a("Polyline",[s])},rectangle:function(u,s,c,f){return new a("Rectangle",[new n(u,s),new n(u+c,s+f)])}};x.exports=r},function(x,L,o){o(4).Point2D;var n=o(82),a={quadraticBezier:function(r,u,s){return new n("Bezier2",[r,u,s])},cubicBezier:function(r,u,s,c){return new n("Bezier3",[r,u,s,c])},circle:function(r,u){return new n("Circle",[r,u])},ellipse:function(r,u,s){return new n("Ellipse",[r,u,s])},line:function(r,u){return new n("Line",[r,u])},path:function(r){return new n("Path",[r])},polygon:function(r){return new n("Polygon",[r])},polyline:function(r){return new n("Polyline",[r])},rectangle:function(r,u){return new n("Rectangle",[r,r.add(u)])}};x.exports=a},function(x,L,o){var n=o(4).Vector2D,a={pointInCircle:function(r,u,s){return n.fromPoints(u,r).length()<=s},pointInEllipse:function(r,u,s,c){var f=r.subtract(u);return f.x*f.x/(s*s)+f.y*f.y/(c*c)<=1},pointInPolyline:function(r,u){for(var s,c=u.length,f=0,d=u[0],g=1;g<=c;g++){var m=u[g%c],_=Math.min(d.y,m.y),R=Math.max(d.y,m.y),C=Math.max(d.x,m.x);d.y!=m.y&&_<r.y&&r.y<=R&&r.x<=C&&(s=(r.y-d.y)*(m.x-d.x)/(m.y-d.y)+d.x,(d.x==m.x||r.x<=s)&&f++),d=m}return f%2==1}};a.pointInPolygon=a.pointInPolyline,a.pointInRectangle=function(r,u,s){return u.x<=r.x&&r.x<s.x&&u.y<=r.y&&r.y<s.y},x.exports=a},function(x,L,o){var n=o(0),a=o(389),r=o(83);function u(s){return r.PRESERVE_CUSTOM_ATTRIBUTES&&s.type==="tag"&&r.isCustomComponent(s.name,s.attribs)}x.exports=function s(c,f){for(var d,g,m,_,R=[],C=typeof(f=f||{}).replace=="function",k=0,M=c.length;k<M;k++)if(d=c[k],C&&(g=f.replace(d),n.isValidElement(g)))M>1&&(g=n.cloneElement(g,{key:g.key||k})),R.push(g);else if(d.type!=="text"){if(m=d.attribs,u(d)||(m=a(d.attribs)),_=null,d.type==="script"||d.type==="style")d.children[0]&&(m.dangerouslySetInnerHTML={__html:d.children[0].data});else{if(d.type!=="tag")continue;d.name==="textarea"&&d.children[0]?m.defaultValue=d.children[0].data:d.children&&d.children.length&&(_=s(d.children,f))}M>1&&(m.key=k),R.push(n.createElement(d.name,m,_))}else R.push(d.data);return R.length===1?R[0]:R}},function(x,L,o){var n=o(147),a=o(392),r=o(395),u=o(83),s=a.config,c=a.HTMLDOMPropertyConfig.isCustomAttribute;n.injection.injectDOMPropertyConfig(a.HTMLDOMPropertyConfig),x.exports=function(f){f=f||{};var d,g,m,_={};for(d in f)g=f[d],c(d)?_[d]=g:(m=s.html[d.toLowerCase()])?n.properties.hasOwnProperty(m)&&n.properties[m].hasBooleanValue?_[m]=!0:_[m]=g:(m=s.svg[d])?_[m]=g:u.PRESERVE_CUSTOM_ATTRIBUTES&&(_[d]=g);return f.style!=null&&(_.style=function(R){if(typeof R!="string")throw new TypeError("First argument must be a string.");var C={};return r(R,function(k,M){k&&M&&(C[u.camelCase(k)]=M)}),C}(f.style)),_}},function(x,L,o){x.exports=function(n){for(var a=arguments.length-1,r="Minified React error #"+n+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+n,u=0;u<a;u++)r+="&args[]="+encodeURIComponent(arguments[u+1]);r+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var s=new Error(r);throw s.name="Invariant Violation",s.framesToPop=1,s}},function(x,L,o){x.exports=function(n,a,r,u,s,c,f,d){if(!n){var g;if(a===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,u,s,c,f,d],_=0;(g=new Error(a.replace(/%s/g,function(){return m[_++]}))).name="Invariant Violation"}throw g.framesToPop=1,g}}},function(x,L,o){var n,a=o(393),r=o(394),u=o(83),s={html:{},svg:{}};for(n in s.html=u.invertObject(a.DOMAttributeNames),a.Properties)s.html[n.toLowerCase()]=n;for(n in s.svg=u.invertObject(r.DOMAttributeNames),r.Properties)s.html[n]=n;x.exports={config:s,HTMLDOMPropertyConfig:a,SVGDOMPropertyConfig:r}},function(x,L,o){var n=o(147),a=n.injection.MUST_USE_PROPERTY,r=n.injection.HAS_BOOLEAN_VALUE,u=n.injection.HAS_NUMERIC_VALUE,s=n.injection.HAS_POSITIVE_NUMERIC_VALUE,c=n.injection.HAS_OVERLOADED_BOOLEAN_VALUE,f={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+n.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:r,allowTransparency:0,alt:0,as:0,async:r,autoComplete:0,autoPlay:r,capture:r,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:a|r,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:r,controlsList:0,coords:0,crossOrigin:0,data:0,dateTime:0,default:r,defer:r,dir:0,disabled:r,download:c,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:r,formTarget:0,frameBorder:0,headers:0,height:0,hidden:r,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:r,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:a|r,muted:a|r,name:0,nonce:0,noValidate:r,open:r,optimum:0,pattern:0,placeholder:0,playsInline:r,poster:0,preload:0,profile:0,radioGroup:0,readOnly:r,referrerPolicy:0,rel:0,required:r,reversed:r,role:0,rows:s,rowSpan:u,sandbox:0,scope:0,scoped:r,scrolling:0,seamless:r,selected:a|r,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:u,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:r,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(d,g){if(g==null)return d.removeAttribute("value");(d.type!=="number"||d.hasAttribute("value")===!1||d.validity&&!d.validity.badInput&&d.ownerDocument.activeElement!==d)&&d.setAttribute("value",""+g)}}};x.exports=f},function(x,L,o){var n="http://www.w3.org/1999/xlink",a="http://www.w3.org/XML/1998/namespace",r={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},u={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n,xlinkArcrole:n,xlinkHref:n,xlinkRole:n,xlinkShow:n,xlinkTitle:n,xlinkType:n,xmlBase:a,xmlLang:a,xmlSpace:a},DOMAttributeNames:{}};Object.keys(r).forEach(function(s){u.Properties[s]=0,r[s]&&(u.DOMAttributeNames[s]=r[s])}),x.exports=u},function(x,L,o){var n=o(396);x.exports=function(a,r){if(!a||typeof a!="string")return null;for(var u,s,c,f=n("p{"+a+"}").stylesheet.rules[0].declarations,d=null,g=typeof r=="function",m=0,_=f.length;m<_;m++)s=(u=f[m]).property,c=u.value,g?r(s,c,u):c&&(d||(d={}),d[s]=c);return d}},function(x,L){var o=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function n(r){return r?r.replace(/^\s+|\s+$/g,""):""}function a(r,u){var s=r&&typeof r.type=="string",c=s?r:u;for(var f in r){var d=r[f];Array.isArray(d)?d.forEach(function(g){a(g,c)}):d&&typeof d=="object"&&a(d,c)}return s&&Object.defineProperty(r,"parent",{configurable:!0,writable:!0,enumerable:!1,value:u||null}),r}x.exports=function(r,u){u=u||{};var s=1,c=1;function f(Y){var X=Y.match(/\n/g);X&&(s+=X.length);var W=Y.lastIndexOf(`
`);c=~W?Y.length-W:c+Y.length}function d(){var Y={line:s,column:c};return function(X){return X.position=new g(Y),I(),X}}function g(Y){this.start=Y,this.end={line:s,column:c},this.source=u.source}g.prototype.content=r;var m=[];function _(Y){var X=new Error(u.source+":"+s+":"+c+": "+Y);if(X.reason=Y,X.filename=u.source,X.line=s,X.column=c,X.source=r,!u.silent)throw X;m.push(X)}function R(){return M(/^{\s*/)}function C(){return M(/^}/)}function k(){var Y,X=[];for(I(),S(X);r.length&&r.charAt(0)!="}"&&(Y=K()||J());)Y!==!1&&(X.push(Y),S(X));return X}function M(Y){var X=Y.exec(r);if(X){var W=X[0];return f(W),r=r.slice(W.length),X}}function I(){M(/^\s*/)}function S(Y){var X;for(Y=Y||[];X=P();)X!==!1&&Y.push(X);return Y}function P(){var Y=d();if(r.charAt(0)=="/"&&r.charAt(1)=="*"){for(var X=2;r.charAt(X)!=""&&(r.charAt(X)!="*"||r.charAt(X+1)!="/");)++X;if(X+=2,r.charAt(X-1)==="")return _("End of comment missing");var W=r.slice(2,X-2);return c+=2,f(W),r=r.slice(X),c+=2,Y({type:"comment",comment:W})}}function v(){var Y=M(/^([^{]+)/);if(Y)return n(Y[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(X){return X.replace(/,/g,"â€Œ")}).split(/\s*(?![^(]*\)),\s*/).map(function(X){return X.replace(/\u200C/g,",")})}function b(){var Y=d(),X=M(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(X){if(X=n(X[0]),!M(/^:\s*/))return _("property missing ':'");var W=M(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),G=Y({type:"declaration",property:X.replace(o,""),value:W?n(W[0]).replace(o,""):""});return M(/^[;\s]*/),G}}function A(){var Y,X=[];if(!R())return _("missing '{'");for(S(X);Y=b();)Y!==!1&&(X.push(Y),S(X));return C()?X:_("missing '}'")}function O(){for(var Y,X=[],W=d();Y=M(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)X.push(Y[1]),M(/^,\s*/);if(X.length)return W({type:"keyframe",values:X,declarations:A()})}var T,B=V("import"),F=V("charset"),j=V("namespace");function V(Y){var X=new RegExp("^@"+Y+"\\s*([^;]+);");return function(){var W=d(),G=M(X);if(G){var ne={type:Y};return ne[Y]=G[1].trim(),W(ne)}}}function K(){if(r[0]=="@")return function(){var Y=d();if(X=M(/^@([-\w]+)?keyframes\s*/)){var X,W=X[1];if(!(X=M(/^([-\w]+)\s*/)))return _("@keyframes missing name");var G,ne=X[1];if(!R())return _("@keyframes missing '{'");for(var ue=S();G=O();)ue.push(G),ue=ue.concat(S());return C()?Y({type:"keyframes",name:ne,vendor:W,keyframes:ue}):_("@keyframes missing '}'")}}()||function(){var Y=d(),X=M(/^@media *([^{]+)/);if(X){var W=n(X[1]);if(!R())return _("@media missing '{'");var G=S().concat(k());return C()?Y({type:"media",media:W,rules:G}):_("@media missing '}'")}}()||function(){var Y=d(),X=M(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(X)return Y({type:"custom-media",name:n(X[1]),media:n(X[2])})}()||function(){var Y=d(),X=M(/^@supports *([^{]+)/);if(X){var W=n(X[1]);if(!R())return _("@supports missing '{'");var G=S().concat(k());return C()?Y({type:"supports",supports:W,rules:G}):_("@supports missing '}'")}}()||B()||F()||j()||function(){var Y=d(),X=M(/^@([-\w]+)?document *([^{]+)/);if(X){var W=n(X[1]),G=n(X[2]);if(!R())return _("@document missing '{'");var ne=S().concat(k());return C()?Y({type:"document",document:G,vendor:W,rules:ne}):_("@document missing '}'")}}()||function(){var Y=d();if(M(/^@page */)){var X=v()||[];if(!R())return _("@page missing '{'");for(var W,G=S();W=b();)G.push(W),G=G.concat(S());return C()?Y({type:"page",selectors:X,declarations:G}):_("@page missing '}'")}}()||function(){var Y=d();if(M(/^@host\s*/)){if(!R())return _("@host missing '{'");var X=S().concat(k());return C()?Y({type:"host",rules:X}):_("@host missing '}'")}}()||function(){var Y=d();if(M(/^@font-face\s*/)){if(!R())return _("@font-face missing '{'");for(var X,W=S();X=b();)W.push(X),W=W.concat(S());return C()?Y({type:"font-face",declarations:W}):_("@font-face missing '}'")}}()}function J(){var Y=d(),X=v();return X?(S(),Y({type:"rule",selectors:X,declarations:A()})):_("selector missing")}return a((T=k(),{type:"stylesheet",stylesheet:{source:u.source,rules:T,parsingErrors:m}}))}},function(x,L,o){var n=o(398),a=o(148),r=a.formatDOM,u=a.isIE(9),s=/<(![a-zA-Z\s]+)>/;x.exports=function(c){if(typeof c!="string")throw new TypeError("First argument must be a string.");if(!c)return[];var f,d=c.match(s);return d&&d[1]&&(f=d[1],u&&(c=c.replace(d[0],""))),r(n(c),null,f)}},function(x,L,o){var n,a,r,u=o(148).isIE,s="html",c="body",f="head",d=/<([a-zA-Z]+[0-9]?)/,g=/<\/head>/i,m=/<\/body>/i,_=/<(area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)(.*?)\/?>/gi,R=u(),C=u(9);if(typeof window.DOMParser=="function"){var k=new window.DOMParser,M=C?"text/xml":"text/html";n=function(v,b){return b&&(v=["<",b,">",v,"</",b,">"].join("")),C&&(v=v.replace(_,"<$1$2$3/>")),k.parseFromString(v,M)}}if(typeof document.implementation=="object"){var I=document.implementation.createHTMLDocument(R?"HTML_DOM_PARSER_TITLE":void 0);a=function(v,b){if(b)return I.documentElement.getElementsByTagName(b)[0].innerHTML=v,I;try{return I.documentElement.innerHTML=v,I}catch{if(n)return n(v)}}}var S=document.createElement("template");S.content&&(r=function(v){return S.innerHTML=v,S.content.childNodes});var P=a||n;x.exports=function(v){var b,A,O,T,B=v.match(d);switch(B&&B[1]&&(b=B[1].toLowerCase()),b){case s:if(n)return A=n(v),g.test(v)||(O=A.getElementsByTagName(f)[0])&&O.parentNode.removeChild(O),m.test(v)||(O=A.getElementsByTagName(c)[0])&&O.parentNode.removeChild(O),A.getElementsByTagName(s);break;case f:if(P)return T=P(v).getElementsByTagName(f),m.test(v)?T[0].parentNode.childNodes:T;break;case c:if(P)return T=P(v).getElementsByTagName(c),g.test(v)?T[0].parentNode.childNodes:T;break;default:if(r)return r(v);if(P)return P(v,c).getElementsByTagName(c)[0].childNodes}return[]}},function(x,L,o){o.r(L),o.d(L,"Edge",function(){return Za}),o.d(L,"GraphUtils",function(){return rt}),o.d(L,"Node",function(){return es}),o.d(L,"BwdlTransformer",function(){return yf}),o.d(L,"GraphView",function(){return ls});var n=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},a=function(e){var t;return e.length===1&&(t=e,e=function(l,h){return n(t(l),h)}),{left:function(l,h,p,w){for(p==null&&(p=0),w==null&&(w=l.length);p<w;){var E=p+w>>>1;e(l[E],h)<0?p=E+1:w=E}return p},right:function(l,h,p,w){for(p==null&&(p=0),w==null&&(w=l.length);p<w;){var E=p+w>>>1;e(l[E],h)>0?w=E:p=E+1}return p}}};a(n);var r={value:function(){}};function u(){for(var e,t=0,l=arguments.length,h={};t<l;++t){if(!(e=arguments[t]+"")||e in h||/[\s.]/.test(e))throw new Error("illegal type: "+e);h[e]=[]}return new s(h)}function s(e){this._=e}function c(e,t){return e.trim().split(/^|\s+/).map(function(l){var h="",p=l.indexOf(".");if(p>=0&&(h=l.slice(p+1),l=l.slice(0,p)),l&&!t.hasOwnProperty(l))throw new Error("unknown type: "+l);return{type:l,name:h}})}function f(e,t){for(var l,h=0,p=e.length;h<p;++h)if((l=e[h]).name===t)return l.value}function d(e,t,l){for(var h=0,p=e.length;h<p;++h)if(e[h].name===t){e[h]=r,e=e.slice(0,h).concat(e.slice(h+1));break}return l!=null&&e.push({name:t,value:l}),e}s.prototype=u.prototype={constructor:s,on:function(e,t){var l,h=this._,p=c(e+"",h),w=-1,E=p.length;if(!(arguments.length<2)){if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++w<E;)if(l=(e=p[w]).type)h[l]=d(h[l],e.name,t);else if(t==null)for(l in h)h[l]=d(h[l],e.name,null);return this}for(;++w<E;)if((l=(e=p[w]).type)&&(l=f(h[l],e.name)))return l},copy:function(){var e={},t=this._;for(var l in t)e[l]=t[l].slice();return new s(e)},call:function(e,t){if((l=arguments.length-2)>0)for(var l,h,p=new Array(l),w=0;w<l;++w)p[w]=arguments[w+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(w=0,l=(h=this._[e]).length;w<l;++w)h[w].value.apply(t,p)},apply:function(e,t,l){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var h=this._[e],p=0,w=h.length;p<w;++p)h[p].value.apply(t,l)}};var g=u;function m(){}var _=function(e){return e==null?m:function(){return this.querySelector(e)}};function R(){return[]}var C=function(e){return e==null?R:function(){return this.querySelectorAll(e)}},k=function(e){return function(){return this.matches(e)}},M=function(e){return new Array(e.length)};function I(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}I.prototype={constructor:I,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function S(e,t,l,h,p,w){for(var E,N=0,D=t.length,z=w.length;N<z;++N)(E=t[N])?(E.__data__=w[N],h[N]=E):l[N]=new I(e,w[N]);for(;N<D;++N)(E=t[N])&&(p[N]=E)}function P(e,t,l,h,p,w,E){var N,D,z,U={},q=t.length,H=w.length,$=new Array(q);for(N=0;N<q;++N)(D=t[N])&&($[N]=z="$"+E.call(D,D.__data__,N,t),z in U?p[N]=D:U[z]=D);for(N=0;N<H;++N)(D=U[z="$"+E.call(e,w[N],N,w)])?(h[N]=D,D.__data__=w[N],U[z]=null):l[N]=new I(e,w[N]);for(N=0;N<q;++N)(D=t[N])&&U[$[N]]===D&&(p[N]=D)}function v(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var b="http://www.w3.org/1999/xhtml",A={svg:"http://www.w3.org/2000/svg",xhtml:b,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},O=function(e){var t=e+="",l=t.indexOf(":");return l>=0&&(t=e.slice(0,l))!=="xmlns"&&(e=e.slice(l+1)),A.hasOwnProperty(t)?{space:A[t],local:e}:e};function T(e){return function(){this.removeAttribute(e)}}function B(e){return function(){this.removeAttributeNS(e.space,e.local)}}function F(e,t){return function(){this.setAttribute(e,t)}}function j(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function V(e,t){return function(){var l=t.apply(this,arguments);l==null?this.removeAttribute(e):this.setAttribute(e,l)}}function K(e,t){return function(){var l=t.apply(this,arguments);l==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,l)}}var J=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function Y(e){return function(){this.style.removeProperty(e)}}function X(e,t,l){return function(){this.style.setProperty(e,t,l)}}function W(e,t,l){return function(){var h=t.apply(this,arguments);h==null?this.style.removeProperty(e):this.style.setProperty(e,h,l)}}function G(e,t){return e.style.getPropertyValue(t)||J(e).getComputedStyle(e,null).getPropertyValue(t)}function ne(e){return function(){delete this[e]}}function ue(e,t){return function(){this[e]=t}}function re(e,t){return function(){var l=t.apply(this,arguments);l==null?delete this[e]:this[e]=l}}function pe(e){return e.trim().split(/^|\s+/)}function ae(e){return e.classList||new me(e)}function me(e){this._node=e,this._names=pe(e.getAttribute("class")||"")}function Q(e,t){for(var l=ae(e),h=-1,p=t.length;++h<p;)l.add(t[h])}function le(e,t){for(var l=ae(e),h=-1,p=t.length;++h<p;)l.remove(t[h])}function Z(e){return function(){Q(this,e)}}function be(e){return function(){le(this,e)}}function ke(e,t){return function(){(t.apply(this,arguments)?Q:le)(this,e)}}me.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Fe(){this.textContent=""}function ze(e){return function(){this.textContent=e}}function Je(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $e(){this.innerHTML=""}function xt(e){return function(){this.innerHTML=e}}function Ne(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function et(){this.nextSibling&&this.parentNode.appendChild(this)}function jt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ze(e){return function(){var t=this.ownerDocument,l=this.namespaceURI;return l===b&&t.documentElement.namespaceURI===b?t.createElement(e):t.createElementNS(l,e)}}function Ue(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var _t=function(e){var t=O(e);return(t.local?Ue:Ze)(t)};function tt(){return null}function mt(){var e=this.parentNode;e&&e.removeChild(this)}function wt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Rt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var ut={},_e=null;typeof document<"u"&&("onmouseenter"in document.documentElement||(ut={mouseenter:"mouseover",mouseleave:"mouseout"}));function un(e,t,l){return e=en(e,t,l),function(h){var p=h.relatedTarget;p&&(p===this||8&p.compareDocumentPosition(this))||e.call(this,h)}}function en(e,t,l){return function(h){var p=_e;_e=h;try{e.call(this,this.__data__,t,l)}finally{_e=p}}}function Lt(e){return e.trim().split(/^|\s+/).map(function(t){var l="",h=t.indexOf(".");return h>=0&&(l=t.slice(h+1),t=t.slice(0,h)),{type:t,name:l}})}function zt(e){return function(){var t=this.__on;if(t){for(var l,h=0,p=-1,w=t.length;h<w;++h)l=t[h],e.type&&l.type!==e.type||l.name!==e.name?t[++p]=l:this.removeEventListener(l.type,l.listener,l.capture);++p?t.length=p:delete this.__on}}}function Yt(e,t,l){var h=ut.hasOwnProperty(e.type)?un:en;return function(p,w,E){var N,D=this.__on,z=h(t,w,E);if(D){for(var U=0,q=D.length;U<q;++U)if((N=D[U]).type===e.type&&N.name===e.name)return this.removeEventListener(N.type,N.listener,N.capture),this.addEventListener(N.type,N.listener=z,N.capture=l),void(N.value=t)}this.addEventListener(e.type,z,l),N={type:e.type,name:e.name,value:t,listener:z,capture:l},D?D.push(N):this.__on=[N]}}function tn(e,t,l,h){var p=_e;e.sourceEvent=_e,_e=e;try{return t.apply(l,h)}finally{_e=p}}function cn(e,t,l){var h=J(e),p=h.CustomEvent;typeof p=="function"?p=new p(t,l):(p=h.document.createEvent("Event"),l?(p.initEvent(t,l.bubbles,l.cancelable),p.detail=l.detail):p.initEvent(t,!1,!1)),e.dispatchEvent(p)}function wn(e,t){return function(){return cn(this,e,t)}}function Wr(e,t){return function(){return cn(this,e,t.apply(this,arguments))}}var pr=[null];function gt(e,t){this._groups=e,this._parents=t}function pi(){return new gt([[document.documentElement]],pr)}gt.prototype=pi.prototype={constructor:gt,select:function(e){typeof e!="function"&&(e=_(e));for(var t=this._groups,l=t.length,h=new Array(l),p=0;p<l;++p)for(var w,E,N=t[p],D=N.length,z=h[p]=new Array(D),U=0;U<D;++U)(w=N[U])&&(E=e.call(w,w.__data__,U,N))&&("__data__"in w&&(E.__data__=w.__data__),z[U]=E);return new gt(h,this._parents)},selectAll:function(e){typeof e!="function"&&(e=C(e));for(var t=this._groups,l=t.length,h=[],p=[],w=0;w<l;++w)for(var E,N=t[w],D=N.length,z=0;z<D;++z)(E=N[z])&&(h.push(e.call(E,E.__data__,z,N)),p.push(E));return new gt(h,p)},filter:function(e){typeof e!="function"&&(e=k(e));for(var t=this._groups,l=t.length,h=new Array(l),p=0;p<l;++p)for(var w,E=t[p],N=E.length,D=h[p]=[],z=0;z<N;++z)(w=E[z])&&e.call(w,w.__data__,z,E)&&D.push(w);return new gt(h,this._parents)},data:function(e,t){if(!e)return ee=new Array(this.size()),U=-1,this.each(function(Se){ee[++U]=Se}),ee;var l,h=t?P:S,p=this._parents,w=this._groups;typeof e!="function"&&(l=e,e=function(){return l});for(var E=w.length,N=new Array(E),D=new Array(E),z=new Array(E),U=0;U<E;++U){var q=p[U],H=w[U],$=H.length,ee=e.call(q,q&&q.__data__,U,p),te=ee.length,ie=D[U]=new Array(te),se=N[U]=new Array(te);h(q,H,ie,se,z[U]=new Array($),ee,t);for(var he,xe,ge=0,Ee=0;ge<te;++ge)if(he=ie[ge]){for(ge>=Ee&&(Ee=ge+1);!(xe=se[Ee])&&++Ee<te;);he._next=xe||null}}return(N=new gt(N,p))._enter=D,N._exit=z,N},enter:function(){return new gt(this._enter||this._groups.map(M),this._parents)},exit:function(){return new gt(this._exit||this._groups.map(M),this._parents)},join:function(e,t,l){var h=this.enter(),p=this,w=this.exit();return h=typeof e=="function"?e(h):h.append(e+""),t!=null&&(p=t(p)),l==null?w.remove():l(w),h&&p?h.merge(p).order():p},merge:function(e){for(var t=this._groups,l=e._groups,h=t.length,p=l.length,w=Math.min(h,p),E=new Array(h),N=0;N<w;++N)for(var D,z=t[N],U=l[N],q=z.length,H=E[N]=new Array(q),$=0;$<q;++$)(D=z[$]||U[$])&&(H[$]=D);for(;N<h;++N)E[N]=t[N];return new gt(E,this._parents)},order:function(){for(var e=this._groups,t=-1,l=e.length;++t<l;)for(var h,p=e[t],w=p.length-1,E=p[w];--w>=0;)(h=p[w])&&(E&&4^h.compareDocumentPosition(E)&&E.parentNode.insertBefore(h,E),E=h);return this},sort:function(e){function t(q,H){return q&&H?e(q.__data__,H.__data__):!q-!H}e||(e=v);for(var l=this._groups,h=l.length,p=new Array(h),w=0;w<h;++w){for(var E,N=l[w],D=N.length,z=p[w]=new Array(D),U=0;U<D;++U)(E=N[U])&&(z[U]=E);z.sort(t)}return new gt(p,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,l=e.length;t<l;++t)for(var h=e[t],p=0,w=h.length;p<w;++p){var E=h[p];if(E)return E}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,l=0,h=t.length;l<h;++l)for(var p,w=t[l],E=0,N=w.length;E<N;++E)(p=w[E])&&e.call(p,p.__data__,E,w);return this},attr:function(e,t){var l=O(e);if(arguments.length<2){var h=this.node();return l.local?h.getAttributeNS(l.space,l.local):h.getAttribute(l)}return this.each((t==null?l.local?B:T:typeof t=="function"?l.local?K:V:l.local?j:F)(l,t))},style:function(e,t,l){return arguments.length>1?this.each((t==null?Y:typeof t=="function"?W:X)(e,t,l??"")):G(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((t==null?ne:typeof t=="function"?re:ue)(e,t)):this.node()[e]},classed:function(e,t){var l=pe(e+"");if(arguments.length<2){for(var h=ae(this.node()),p=-1,w=l.length;++p<w;)if(!h.contains(l[p]))return!1;return!0}return this.each((typeof t=="function"?ke:t?Z:be)(l,t))},text:function(e){return arguments.length?this.each(e==null?Fe:(typeof e=="function"?Je:ze)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(e==null?$e:(typeof e=="function"?Ne:xt)(e)):this.node().innerHTML},raise:function(){return this.each(et)},lower:function(){return this.each(jt)},append:function(e){var t=typeof e=="function"?e:_t(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var l=typeof e=="function"?e:_t(e),h=t==null?tt:typeof t=="function"?t:_(t);return this.select(function(){return this.insertBefore(l.apply(this,arguments),h.apply(this,arguments)||null)})},remove:function(){return this.each(mt)},clone:function(e){return this.select(e?Rt:wt)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,l){var h,p,w=Lt(e+""),E=w.length;if(!(arguments.length<2)){for(N=t?Yt:zt,l==null&&(l=!1),h=0;h<E;++h)this.each(N(w[h],t,l));return this}var N=this.node().__on;if(N){for(var D,z=0,U=N.length;z<U;++z)for(h=0,D=N[z];h<E;++h)if((p=w[h]).type===D.type&&p.name===D.name)return D.value}},dispatch:function(e,t){return this.each((typeof t=="function"?Wr:wn)(e,t))}};var dr=pi,pt=function(e){return typeof e=="string"?new gt([[document.querySelector(e)]],[document.documentElement]):new gt([[e]],pr)};function Gr(){_e.stopImmediatePropagation()}var bn=function(){_e.preventDefault(),_e.stopImmediatePropagation()},di=function(e){var t=e.document.documentElement,l=pt(e).on("dragstart.drag",bn,!0);"onselectstart"in t?l.on("selectstart.drag",bn,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function yi(e,t){var l=e.document.documentElement,h=pt(e).on("dragstart.drag",null);t&&(h.on("click.drag",bn,!0),setTimeout(function(){h.on("click.drag",null)},0)),"onselectstart"in l?h.on("selectstart.drag",null):(l.style.MozUserSelect=l.__noselect,delete l.__noselect)}var Zr=function(e,t,l){e.prototype=t.prototype=l,l.constructor=e};function gi(e,t){var l=Object.create(e.prototype);for(var h in t)l[h]=t[h];return l}function Rn(){}var Ln=.7,yr=1/Ln,_n="\\s*([+-]?\\d+)\\s*",In="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Os=/^#([0-9a-f]{3,8})$/,Ts=new RegExp("^rgb\\("+[_n,_n,_n]+"\\)$"),js=new RegExp("^rgb\\("+[Ft,Ft,Ft]+"\\)$"),Rs=new RegExp("^rgba\\("+[_n,_n,_n,In]+"\\)$"),Ls=new RegExp("^rgba\\("+[Ft,Ft,Ft,In]+"\\)$"),Is=new RegExp("^hsl\\("+[In,Ft,Ft]+"\\)$"),Ds=new RegExp("^hsla\\("+[In,Ft,Ft,In]+"\\)$"),vi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xi(){return this.rgb().formatHex()}function mi(){return this.rgb().formatRgb()}function Dn(e){var t,l;return e=(e+"").trim().toLowerCase(),(t=Os.exec(e))?(l=t[1].length,t=parseInt(t[1],16),l===6?wi(t):l===3?new Pt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):l===8?gr(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):l===4?gr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ts.exec(e))?new Pt(t[1],t[2],t[3],1):(t=js.exec(e))?new Pt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Rs.exec(e))?gr(t[1],t[2],t[3],t[4]):(t=Ls.exec(e))?gr(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Is.exec(e))?Ei(t[1],t[2]/100,t[3]/100,1):(t=Ds.exec(e))?Ei(t[1],t[2]/100,t[3]/100,t[4]):vi.hasOwnProperty(e)?wi(vi[e]):e==="transparent"?new Pt(NaN,NaN,NaN,0):null}function wi(e){return new Pt(e>>16&255,e>>8&255,255&e,1)}function gr(e,t,l,h){return h<=0&&(e=t=l=NaN),new Pt(e,t,l,h)}function Bs(e){return e instanceof Rn||(e=Dn(e)),e?new Pt((e=e.rgb()).r,e.g,e.b,e.opacity):new Pt}function Kr(e,t,l,h){return arguments.length===1?Bs(e):new Pt(e,t,l,h??1)}function Pt(e,t,l,h){this.r=+e,this.g=+t,this.b=+l,this.opacity=+h}function bi(){return"#"+Qr(this.r)+Qr(this.g)+Qr(this.b)}function _i(){var e=this.opacity;return((e=isNaN(e)?1:Math.max(0,Math.min(1,e)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Qr(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ei(e,t,l,h){return h<=0?e=t=l=NaN:l<=0||l>=1?e=t=NaN:t<=0&&(e=NaN),new Ut(e,t,l,h)}function Ai(e){if(e instanceof Ut)return new Ut(e.h,e.s,e.l,e.opacity);if(e instanceof Rn||(e=Dn(e)),!e)return new Ut;if(e instanceof Ut)return e;var t=(e=e.rgb()).r/255,l=e.g/255,h=e.b/255,p=Math.min(t,l,h),w=Math.max(t,l,h),E=NaN,N=w-p,D=(w+p)/2;return N?(E=t===w?(l-h)/N+6*(l<h):l===w?(h-t)/N+2:(t-l)/N+4,N/=D<.5?w+p:2-w-p,E*=60):N=D>0&&D<1?0:E,new Ut(E,N,D,e.opacity)}function Ut(e,t,l,h){this.h=+e,this.s=+t,this.l=+l,this.opacity=+h}function Jr(e,t,l){return 255*(e<60?t+(l-t)*e/60:e<180?l:e<240?t+(l-t)*(240-e)/60:t)}Zr(Rn,Dn,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:xi,formatHex:xi,formatHsl:function(){return Ai(this).formatHsl()},formatRgb:mi,toString:mi}),Zr(Pt,Kr,gi(Rn,{brighter:function(e){return e=e==null?yr:Math.pow(yr,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Ln:Math.pow(Ln,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bi,formatHex:bi,formatRgb:_i,toString:_i})),Zr(Ut,function(e,t,l,h){return arguments.length===1?Ai(e):new Ut(e,t,l,h??1)},gi(Rn,{brighter:function(e){return e=e==null?yr:Math.pow(yr,e),new Ut(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Ln:Math.pow(Ln,e),new Ut(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,l=this.l,h=l+(l<.5?l:1-l)*t,p=2*l-h;return new Pt(Jr(e>=240?e-240:e+120,p,h),Jr(e,p,h),Jr(e<120?e+240:e-120,p,h),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return((e=isNaN(e)?1:Math.max(0,Math.min(1,e)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(e===1?")":", "+e+")")}}));var Mi=function(e){return function(){return e}};function zs(e,t){return function(l){return e+l*t}}function Fs(e){return(e=+e)==1?Ci:function(t,l){return l-t?function(h,p,w){return h=Math.pow(h,w),p=Math.pow(p,w)-h,w=1/w,function(E){return Math.pow(h+E*p,w)}}(t,l,e):Mi(isNaN(t)?l:t)}}function Ci(e,t){var l=t-e;return l?zs(e,l):Mi(isNaN(e)?t:e)}var ki=function e(t){var l=Fs(t);function h(p,w){var E=l((p=Kr(p)).r,(w=Kr(w)).r),N=l(p.g,w.g),D=l(p.b,w.b),z=Ci(p.opacity,w.opacity);return function(U){return p.r=E(U),p.g=N(U),p.b=D(U),p.opacity=z(U),p+""}}return h.gamma=e,h}(1),nn=function(e,t){return e=+e,t=+t,function(l){return e*(1-l)+t*l}},eo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,to=new RegExp(eo.source,"g"),vr,Bn,Us=function(e,t){var l,h,p,w=eo.lastIndex=to.lastIndex=0,E=-1,N=[],D=[];for(e+="",t+="";(l=eo.exec(e))&&(h=to.exec(t));)(p=h.index)>w&&(p=t.slice(w,p),N[E]?N[E]+=p:N[++E]=p),(l=l[0])===(h=h[0])?N[E]?N[E]+=h:N[++E]=h:(N[++E]=null,D.push({i:E,x:nn(l,h)})),w=to.lastIndex;return w<t.length&&(p=t.slice(w),N[E]?N[E]+=p:N[++E]=p),N.length<2?D[0]?function(z){return function(U){return z(U)+""}}(D[0].x):function(z){return function(){return z}}(t):(t=D.length,function(z){for(var U,q=0;q<t;++q)N[(U=D[q]).i]=U.x(z);return N.join("")})},Ni=function(){for(var e,t=_e;e=t.sourceEvent;)t=e;return t},Si=function(e,t){var l=e.ownerSVGElement||e;if(l.createSVGPoint){var h=l.createSVGPoint();return h.x=t.clientX,h.y=t.clientY,[(h=h.matrixTransform(e.getScreenCTM().inverse())).x,h.y]}var p=e.getBoundingClientRect();return[t.clientX-p.left-e.clientLeft,t.clientY-p.top-e.clientTop]},no=function(e,t,l){arguments.length<3&&(l=t,t=Ni().changedTouches);for(var h,p=0,w=t?t.length:0;p<w;++p)if((h=t[p]).identifier===l)return Si(e,h);return null},kt=function(e){var t=Ni();return t.changedTouches&&(t=t.changedTouches[0]),Si(e,t)},En=0,zn=0,Fn=0,xr=0,ln=0,mr=0,Un=typeof performance=="object"&&performance.now?performance:Date,Pi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wr(){return ln||(Pi(qs),ln=Un.now()+mr)}function qs(){ln=0}function br(){this._call=this._time=this._next=null}function Oi(e,t,l){var h=new br;return h.restart(e,t,l),h}function Ti(){ln=(xr=Un.now())+mr,En=zn=0;try{(function(){wr(),++En;for(var e,t=vr;t;)(e=ln-t._time)>=0&&t._call.call(null,e),t=t._next;--En})()}finally{En=0,function(){for(var e,t,l=vr,h=1/0;l;)l._call?(h>l._time&&(h=l._time),e=l,l=l._next):(t=l._next,l._next=null,l=e?e._next=t:vr=t);Bn=e,ro(h)}(),ln=0}}function Hs(){var e=Un.now(),t=e-xr;t>1e3&&(mr-=t,xr=e)}function ro(e){En||(zn&&(zn=clearTimeout(zn)),e-ln>24?(e<1/0&&(zn=setTimeout(Ti,e-Un.now()-mr)),Fn&&(Fn=clearInterval(Fn))):(Fn||(xr=Un.now(),Fn=setInterval(Hs,1e3)),En=1,Pi(Ti)))}br.prototype=Oi.prototype={constructor:br,restart:function(e,t,l){if(typeof e!="function")throw new TypeError("callback is not a function");l=(l==null?wr():+l)+(t==null?0:+t),this._next||Bn===this||(Bn?Bn._next=this:vr=this,Bn=this),this._call=e,this._time=l,ro()},stop:function(){this._call&&(this._call=null,this._time=1/0,ro())}};var ji=function(e,t,l){var h=new br;return t=t==null?0:+t,h.restart(function(p){h.stop(),e(p+t)},t,l),h},Vs=g("start","end","cancel","interrupt"),$s=[],_r=function(e,t,l,h,p,w){var E=e.__transition;if(E){if(l in E)return}else e.__transition={};(function(N,D,z){var U,q=N.__transition;function H(ie){z.state=1,z.timer.restart($,z.delay,z.time),z.delay<=ie&&$(ie-z.delay)}function $(ie){var se,he,xe,ge;if(z.state!==1)return te();for(se in q)if((ge=q[se]).name===z.name){if(ge.state===3)return ji($);ge.state===4?(ge.state=6,ge.timer.stop(),ge.on.call("interrupt",N,N.__data__,ge.index,ge.group),delete q[se]):+se<D&&(ge.state=6,ge.timer.stop(),ge.on.call("cancel",N,N.__data__,ge.index,ge.group),delete q[se])}if(ji(function(){z.state===3&&(z.state=4,z.timer.restart(ee,z.delay,z.time),ee(ie))}),z.state=2,z.on.call("start",N,N.__data__,z.index,z.group),z.state===2){for(z.state=3,U=new Array(xe=z.tween.length),se=0,he=-1;se<xe;++se)(ge=z.tween[se].value.call(N,N.__data__,z.index,z.group))&&(U[++he]=ge);U.length=he+1}}function ee(ie){for(var se=ie<z.duration?z.ease.call(null,ie/z.duration):(z.timer.restart(te),z.state=5,1),he=-1,xe=U.length;++he<xe;)U[he].call(N,se);z.state===5&&(z.on.call("end",N,N.__data__,z.index,z.group),te())}function te(){for(var ie in z.state=6,z.timer.stop(),delete q[D],q)return;delete N.__transition}q[D]=z,z.timer=Oi(H,0,z.time)})(e,l,{name:t,index:h,group:p,on:Vs,tween:$s,time:w.time,delay:w.delay,duration:w.duration,ease:w.ease,timer:null,state:0})};function oo(e,t){var l=Dt(e,t);if(l.state>0)throw new Error("too late; already scheduled");return l}function Xt(e,t){var l=Dt(e,t);if(l.state>3)throw new Error("too late; already running");return l}function Dt(e,t){var l=e.__transition;if(!l||!(l=l[t]))throw new Error("transition not found");return l}var qn,io,Ri,Er,Ar=function(e,t){var l,h,p,w=e.__transition,E=!0;if(w){for(p in t=t==null?null:t+"",w)(l=w[p]).name===t?(h=l.state>2&&l.state<5,l.state=6,l.timer.stop(),l.on.call(h?"interrupt":"cancel",e,e.__data__,l.index,l.group),delete w[p]):E=!1;E&&delete e.__transition}},Li=180/Math.PI,ao={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ii=function(e,t,l,h,p,w){var E,N,D;return(E=Math.sqrt(e*e+t*t))&&(e/=E,t/=E),(D=e*l+t*h)&&(l-=e*D,h-=t*D),(N=Math.sqrt(l*l+h*h))&&(l/=N,h/=N,D/=N),e*h<t*l&&(e=-e,t=-t,D=-D,E=-E),{translateX:p,translateY:w,rotate:Math.atan2(t,e)*Li,skewX:Math.atan(D)*Li,scaleX:E,scaleY:N}};function Di(e,t,l,h){function p(w){return w.length?w.pop()+" ":""}return function(w,E){var N=[],D=[];return w=e(w),E=e(E),function(z,U,q,H,$,ee){if(z!==q||U!==H){var te=$.push("translate(",null,t,null,l);ee.push({i:te-4,x:nn(z,q)},{i:te-2,x:nn(U,H)})}else(q||H)&&$.push("translate("+q+t+H+l)}(w.translateX,w.translateY,E.translateX,E.translateY,N,D),function(z,U,q,H){z!==U?(z-U>180?U+=360:U-z>180&&(z+=360),H.push({i:q.push(p(q)+"rotate(",null,h)-2,x:nn(z,U)})):U&&q.push(p(q)+"rotate("+U+h)}(w.rotate,E.rotate,N,D),function(z,U,q,H){z!==U?H.push({i:q.push(p(q)+"skewX(",null,h)-2,x:nn(z,U)}):U&&q.push(p(q)+"skewX("+U+h)}(w.skewX,E.skewX,N,D),function(z,U,q,H,$,ee){if(z!==q||U!==H){var te=$.push(p($)+"scale(",null,",",null,")");ee.push({i:te-4,x:nn(z,q)},{i:te-2,x:nn(U,H)})}else q===1&&H===1||$.push(p($)+"scale("+q+","+H+")")}(w.scaleX,w.scaleY,E.scaleX,E.scaleY,N,D),w=E=null,function(z){for(var U,q=-1,H=D.length;++q<H;)N[(U=D[q]).i]=U.x(z);return N.join("")}}}var Ys=Di(function(e){return e==="none"?ao:(qn||(qn=document.createElement("DIV"),io=document.documentElement,Ri=document.defaultView),qn.style.transform=e,e=Ri.getComputedStyle(io.appendChild(qn),null).getPropertyValue("transform"),io.removeChild(qn),e=e.slice(7,-1).split(","),Ii(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),Xs=Di(function(e){return e==null?ao:(Er||(Er=document.createElementNS("http://www.w3.org/2000/svg","g")),Er.setAttribute("transform",e),(e=Er.transform.baseVal.consolidate())?(e=e.matrix,Ii(e.a,e.b,e.c,e.d,e.e,e.f)):ao)},", ",")",")");function Ws(e,t){var l,h;return function(){var p=Xt(this,e),w=p.tween;if(w!==l){for(var E=0,N=(h=l=w).length;E<N;++E)if(h[E].name===t){(h=h.slice()).splice(E,1);break}}p.tween=h}}function Gs(e,t,l){var h,p;if(typeof l!="function")throw new Error;return function(){var w=Xt(this,e),E=w.tween;if(E!==h){p=(h=E).slice();for(var N={name:t,value:l},D=0,z=p.length;D<z;++D)if(p[D].name===t){p[D]=N;break}D===z&&p.push(N)}w.tween=p}}function so(e,t,l){var h=e._id;return e.each(function(){var p=Xt(this,h);(p.value||(p.value={}))[t]=l.apply(this,arguments)}),function(p){return Dt(p,h).value[t]}}var Bi=function(e,t){var l;return(typeof t=="number"?nn:t instanceof Dn?ki:(l=Dn(t))?(t=l,ki):Us)(e,t)};function Zs(e){return function(){this.removeAttribute(e)}}function Ks(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qs(e,t,l){var h,p,w=l+"";return function(){var E=this.getAttribute(e);return E===w?null:E===h?p:p=t(h=E,l)}}function Js(e,t,l){var h,p,w=l+"";return function(){var E=this.getAttributeNS(e.space,e.local);return E===w?null:E===h?p:p=t(h=E,l)}}function eu(e,t,l){var h,p,w;return function(){var E,N,D=l(this);if(D!=null)return(E=this.getAttribute(e))===(N=D+"")?null:E===h&&N===p?w:(p=N,w=t(h=E,D));this.removeAttribute(e)}}function tu(e,t,l){var h,p,w;return function(){var E,N,D=l(this);if(D!=null)return(E=this.getAttributeNS(e.space,e.local))===(N=D+"")?null:E===h&&N===p?w:(p=N,w=t(h=E,D));this.removeAttributeNS(e.space,e.local)}}function nu(e,t){return function(l){this.setAttribute(e,t.call(this,l))}}function ru(e,t){return function(l){this.setAttributeNS(e.space,e.local,t.call(this,l))}}function ou(e,t){var l,h;function p(){var w=t.apply(this,arguments);return w!==h&&(l=(h=w)&&ru(e,w)),l}return p._value=t,p}function iu(e,t){var l,h;function p(){var w=t.apply(this,arguments);return w!==h&&(l=(h=w)&&nu(e,w)),l}return p._value=t,p}function au(e,t){return function(){oo(this,e).delay=+t.apply(this,arguments)}}function su(e,t){return t=+t,function(){oo(this,e).delay=t}}function uu(e,t){return function(){Xt(this,e).duration=+t.apply(this,arguments)}}function cu(e,t){return t=+t,function(){Xt(this,e).duration=t}}function lu(e,t){if(typeof t!="function")throw new Error;return function(){Xt(this,e).ease=t}}function fu(e,t,l){var h,p,w=function(E){return(E+"").trim().split(/^|\s+/).every(function(N){var D=N.indexOf(".");return D>=0&&(N=N.slice(0,D)),!N||N==="start"})}(t)?oo:Xt;return function(){var E=w(this,e),N=E.on;N!==h&&(p=(h=N).copy()).on(t,l),E.on=p}}var hu=dr.prototype.constructor;function zi(e){return function(){this.style.removeProperty(e)}}function pu(e,t,l){return function(h){this.style.setProperty(e,t.call(this,h),l)}}function du(e,t,l){var h,p;function w(){var E=t.apply(this,arguments);return E!==p&&(h=(p=E)&&pu(e,E,l)),h}return w._value=t,w}function yu(e){return function(t){this.textContent=e.call(this,t)}}function gu(e){var t,l;function h(){var p=e.apply(this,arguments);return p!==l&&(t=(l=p)&&yu(p)),t}return h._value=e,h}var vu=0;function Wt(e,t,l,h){this._groups=e,this._parents=t,this._name=l,this._id=h}function Fi(){return++vu}var An=dr.prototype;Wt.prototype={constructor:Wt,select:function(e){var t=this._name,l=this._id;typeof e!="function"&&(e=_(e));for(var h=this._groups,p=h.length,w=new Array(p),E=0;E<p;++E)for(var N,D,z=h[E],U=z.length,q=w[E]=new Array(U),H=0;H<U;++H)(N=z[H])&&(D=e.call(N,N.__data__,H,z))&&("__data__"in N&&(D.__data__=N.__data__),q[H]=D,_r(q[H],t,l,H,q,Dt(N,l)));return new Wt(w,this._parents,t,l)},selectAll:function(e){var t=this._name,l=this._id;typeof e!="function"&&(e=C(e));for(var h=this._groups,p=h.length,w=[],E=[],N=0;N<p;++N)for(var D,z=h[N],U=z.length,q=0;q<U;++q)if(D=z[q]){for(var H,$=e.call(D,D.__data__,q,z),ee=Dt(D,l),te=0,ie=$.length;te<ie;++te)(H=$[te])&&_r(H,t,l,te,$,ee);w.push($),E.push(D)}return new Wt(w,E,t,l)},filter:function(e){typeof e!="function"&&(e=k(e));for(var t=this._groups,l=t.length,h=new Array(l),p=0;p<l;++p)for(var w,E=t[p],N=E.length,D=h[p]=[],z=0;z<N;++z)(w=E[z])&&e.call(w,w.__data__,z,E)&&D.push(w);return new Wt(h,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,l=e._groups,h=t.length,p=l.length,w=Math.min(h,p),E=new Array(h),N=0;N<w;++N)for(var D,z=t[N],U=l[N],q=z.length,H=E[N]=new Array(q),$=0;$<q;++$)(D=z[$]||U[$])&&(H[$]=D);for(;N<h;++N)E[N]=t[N];return new Wt(E,this._parents,this._name,this._id)},selection:function(){return new hu(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,l=Fi(),h=this._groups,p=h.length,w=0;w<p;++w)for(var E,N=h[w],D=N.length,z=0;z<D;++z)if(E=N[z]){var U=Dt(E,t);_r(E,e,l,z,N,{time:U.time+U.delay+U.duration,delay:0,duration:U.duration,ease:U.ease})}return new Wt(h,this._parents,e,l)},call:An.call,nodes:An.nodes,node:An.node,size:An.size,empty:An.empty,each:An.each,on:function(e,t){var l=this._id;return arguments.length<2?Dt(this.node(),l).on.on(e):this.each(fu(l,e,t))},attr:function(e,t){var l=O(e),h=l==="transform"?Xs:Bi;return this.attrTween(e,typeof t=="function"?(l.local?tu:eu)(l,h,so(this,"attr."+e,t)):t==null?(l.local?Ks:Zs)(l):(l.local?Js:Qs)(l,h,t))},attrTween:function(e,t){var l="attr."+e;if(arguments.length<2)return(l=this.tween(l))&&l._value;if(t==null)return this.tween(l,null);if(typeof t!="function")throw new Error;var h=O(e);return this.tween(l,(h.local?ou:iu)(h,t))},style:function(e,t,l){var h=(e+="")=="transform"?Ys:Bi;return t==null?this.styleTween(e,function(p,w){var E,N,D;return function(){var z=G(this,p),U=(this.style.removeProperty(p),G(this,p));return z===U?null:z===E&&U===N?D:D=w(E=z,N=U)}}(e,h)).on("end.style."+e,zi(e)):typeof t=="function"?this.styleTween(e,function(p,w,E){var N,D,z;return function(){var U=G(this,p),q=E(this),H=q+"";return q==null&&(this.style.removeProperty(p),H=q=G(this,p)),U===H?null:U===N&&H===D?z:(D=H,z=w(N=U,q))}}(e,h,so(this,"style."+e,t))).each(function(p,w){var E,N,D,z,U="style."+w,q="end."+U;return function(){var H=Xt(this,p),$=H.on,ee=H.value[U]==null?z||(z=zi(w)):void 0;$===E&&D===ee||(N=(E=$).copy()).on(q,D=ee),H.on=N}}(this._id,e)):this.styleTween(e,function(p,w,E){var N,D,z=E+"";return function(){var U=G(this,p);return U===z?null:U===N?D:D=w(N=U,E)}}(e,h,t),l).on("end.style."+e,null)},styleTween:function(e,t,l){var h="style."+(e+="");if(arguments.length<2)return(h=this.tween(h))&&h._value;if(t==null)return this.tween(h,null);if(typeof t!="function")throw new Error;return this.tween(h,du(e,t,l??""))},text:function(e){return this.tween("text",typeof e=="function"?function(t){return function(){var l=t(this);this.textContent=l??""}}(so(this,"text",e)):function(t){return function(){this.textContent=t}}(e==null?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,gu(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var l in this.__transition)if(+l!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var l=this._id;if(e+="",arguments.length<2){for(var h,p=Dt(this.node(),l).tween,w=0,E=p.length;w<E;++w)if((h=p[w]).name===e)return h.value;return null}return this.each((t==null?Ws:Gs)(l,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?au:su)(t,e)):Dt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?uu:cu)(t,e)):Dt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(lu(t,e)):Dt(this.node(),t).ease},end:function(){var e,t,l=this,h=l._id,p=l.size();return new Promise(function(w,E){var N={value:E},D={value:function(){--p==0&&w()}};l.each(function(){var z=Xt(this,h),U=z.on;U!==e&&((t=(e=U).copy())._.cancel.push(N),t._.interrupt.push(N),t._.end.push(D)),z.on=t})})}};var uo={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function xu(e,t){for(var l;!(l=e.__transition)||!(l=l[t]);)if(!(e=e.parentNode))return uo.time=wr(),uo;return l}dr.prototype.interrupt=function(e){return this.each(function(){Ar(this,e)})},dr.prototype.transition=function(e){var t,l;e instanceof Wt?(t=e._id,e=e._name):(t=Fi(),(l=uo).time=wr(),e=e==null?null:e+"");for(var h=this._groups,p=h.length,w=0;w<p;++w)for(var E,N=h[w],D=N.length,z=0;z<D;++z)(E=N[z])&&_r(E,e,t,z,N,l||xu(E,t));return new Wt(h,this._parents,e,t)};var co=Math.PI,lo=2*co,fn=1e-6,mu=lo-fn;function fo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ui(){return new fo}fo.prototype=Ui.prototype={constructor:fo,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,l,h){this._+="Q"+ +e+","+ +t+","+(this._x1=+l)+","+(this._y1=+h)},bezierCurveTo:function(e,t,l,h,p,w){this._+="C"+ +e+","+ +t+","+ +l+","+ +h+","+(this._x1=+p)+","+(this._y1=+w)},arcTo:function(e,t,l,h,p){e=+e,t=+t,l=+l,h=+h,p=+p;var w=this._x1,E=this._y1,N=l-e,D=h-t,z=w-e,U=E-t,q=z*z+U*U;if(p<0)throw new Error("negative radius: "+p);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(q>fn)if(Math.abs(U*N-D*z)>fn&&p){var H=l-w,$=h-E,ee=N*N+D*D,te=H*H+$*$,ie=Math.sqrt(ee),se=Math.sqrt(q),he=p*Math.tan((co-Math.acos((ee+q-te)/(2*ie*se)))/2),xe=he/se,ge=he/ie;Math.abs(xe-1)>fn&&(this._+="L"+(e+xe*z)+","+(t+xe*U)),this._+="A"+p+","+p+",0,0,"+ +(U*H>z*$)+","+(this._x1=e+ge*N)+","+(this._y1=t+ge*D)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,l,h,p,w){e=+e,t=+t,w=!!w;var E=(l=+l)*Math.cos(h),N=l*Math.sin(h),D=e+E,z=t+N,U=1^w,q=w?h-p:p-h;if(l<0)throw new Error("negative radius: "+l);this._x1===null?this._+="M"+D+","+z:(Math.abs(this._x1-D)>fn||Math.abs(this._y1-z)>fn)&&(this._+="L"+D+","+z),l&&(q<0&&(q=q%lo+lo),q>mu?this._+="A"+l+","+l+",0,1,"+U+","+(e-E)+","+(t-N)+"A"+l+","+l+",0,1,"+U+","+(this._x1=D)+","+(this._y1=z):q>fn&&(this._+="A"+l+","+l+",0,"+ +(q>=co)+","+U+","+(this._x1=e+l*Math.cos(p))+","+(this._y1=t+l*Math.sin(p))))},rect:function(e,t,l,h){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +l+"v"+ +h+"h"+-l+"Z"},toString:function(){return this._}};var wu=Ui,It="$";function Mr(){}function qi(e,t){var l=new Mr;if(e instanceof Mr)e.each(function(N,D){l.set(D,N)});else if(Array.isArray(e)){var h,p=-1,w=e.length;if(t==null)for(;++p<w;)l.set(p,e[p]);else for(;++p<w;)l.set(t(h=e[p],p,e),h)}else if(e)for(var E in e)l.set(E,e[E]);return l}Mr.prototype=qi.prototype={constructor:Mr,has:function(e){return It+e in this},get:function(e){return this[It+e]},set:function(e,t){return this[It+e]=t,this},remove:function(e){var t=It+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===It&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===It&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===It&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===It&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===It&&++e;return e},empty:function(){for(var e in this)if(e[0]===It)return!1;return!0},each:function(e){for(var t in this)t[0]===It&&e(this[t],t.slice(1),this)}};var bu=qi;function Hi(){}var hn=bu.prototype;Hi.prototype={constructor:Hi,has:hn.has,add:function(e){return this[It+(e+="")]=e,this},remove:hn.remove,clear:hn.clear,values:hn.keys,size:hn.size,empty:hn.empty,each:hn.each};var Cr=function(e){return function(){return e}};function ho(e,t,l,h,p,w,E,N,D,z){this.target=e,this.type=t,this.subject=l,this.identifier=h,this.active=p,this.x=w,this.y=E,this.dx=N,this.dy=D,this._=z}function _u(){return!_e.ctrlKey&&!_e.button}function Eu(){return this.parentNode}function Au(e){return e??{x:_e.x,y:_e.y}}function Mu(){return navigator.maxTouchPoints||"ontouchstart"in this}ho.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Vi(e,t,l,h){if(isNaN(t)||isNaN(l))return e;var p,w,E,N,D,z,U,q,H,$=e._root,ee={data:h},te=e._x0,ie=e._y0,se=e._x1,he=e._y1;if(!$)return e._root=ee,e;for(;$.length;)if((z=t>=(w=(te+se)/2))?te=w:se=w,(U=l>=(E=(ie+he)/2))?ie=E:he=E,p=$,!($=$[q=U<<1|z]))return p[q]=ee,e;if(N=+e._x.call(null,$.data),D=+e._y.call(null,$.data),t===N&&l===D)return ee.next=$,p?p[q]=ee:e._root=ee,e;do p=p?p[q]=new Array(4):e._root=new Array(4),(z=t>=(w=(te+se)/2))?te=w:se=w,(U=l>=(E=(ie+he)/2))?ie=E:he=E;while((q=U<<1|z)==(H=(D>=E)<<1|N>=w));return p[H]=$,p[q]=ee,e}var Et=function(e,t,l,h,p){this.node=e,this.x0=t,this.y0=l,this.x1=h,this.y1=p};function $i(e,t,l,h,p,w){this._x=e,this._y=t,this._x0=l,this._y0=h,this._x1=p,this._y1=w,this._root=void 0}function Yi(e){for(var t={data:e.data},l=t;e=e.next;)l=l.next={data:e.data};return t}var At=$i.prototype;At.copy=function(){var e,t,l=new $i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),h=this._root;if(!h)return l;if(!h.length)return l._root=Yi(h),l;for(e=[{source:h,target:l._root=new Array(4)}];h=e.pop();)for(var p=0;p<4;++p)(t=h.source[p])&&(t.length?e.push({source:t,target:h.target[p]=new Array(4)}):h.target[p]=Yi(t));return l},At.add=function(e){var t=+this._x.call(null,e),l=+this._y.call(null,e);return Vi(this.cover(t,l),t,l,e)},At.addAll=function(e){var t,l,h,p,w=e.length,E=new Array(w),N=new Array(w),D=1/0,z=1/0,U=-1/0,q=-1/0;for(l=0;l<w;++l)isNaN(h=+this._x.call(null,t=e[l]))||isNaN(p=+this._y.call(null,t))||(E[l]=h,N[l]=p,h<D&&(D=h),h>U&&(U=h),p<z&&(z=p),p>q&&(q=p));if(D>U||z>q)return this;for(this.cover(D,z).cover(U,q),l=0;l<w;++l)Vi(this,E[l],N[l],e[l]);return this},At.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var l=this._x0,h=this._y0,p=this._x1,w=this._y1;if(isNaN(l))p=(l=Math.floor(e))+1,w=(h=Math.floor(t))+1;else{for(var E,N,D=p-l,z=this._root;l>e||e>=p||h>t||t>=w;)switch(N=(t<h)<<1|e<l,(E=new Array(4))[N]=z,z=E,D*=2,N){case 0:p=l+D,w=h+D;break;case 1:l=p-D,w=h+D;break;case 2:p=l+D,h=w-D;break;case 3:l=p-D,h=w-D}this._root&&this._root.length&&(this._root=z)}return this._x0=l,this._y0=h,this._x1=p,this._y1=w,this},At.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},At.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},At.find=function(e,t,l){var h,p,w,E,N,D,z,U=this._x0,q=this._y0,H=this._x1,$=this._y1,ee=[],te=this._root;for(te&&ee.push(new Et(te,U,q,H,$)),l==null?l=1/0:(U=e-l,q=t-l,H=e+l,$=t+l,l*=l);D=ee.pop();)if(!(!(te=D.node)||(p=D.x0)>H||(w=D.y0)>$||(E=D.x1)<U||(N=D.y1)<q))if(te.length){var ie=(p+E)/2,se=(w+N)/2;ee.push(new Et(te[3],ie,se,E,N),new Et(te[2],p,se,ie,N),new Et(te[1],ie,w,E,se),new Et(te[0],p,w,ie,se)),(z=(t>=se)<<1|e>=ie)&&(D=ee[ee.length-1],ee[ee.length-1]=ee[ee.length-1-z],ee[ee.length-1-z]=D)}else{var he=e-+this._x.call(null,te.data),xe=t-+this._y.call(null,te.data),ge=he*he+xe*xe;if(ge<l){var Ee=Math.sqrt(l=ge);U=e-Ee,q=t-Ee,H=e+Ee,$=t+Ee,h=te.data}}return h},At.remove=function(e){if(isNaN(w=+this._x.call(null,e))||isNaN(E=+this._y.call(null,e)))return this;var t,l,h,p,w,E,N,D,z,U,q,H,$=this._root,ee=this._x0,te=this._y0,ie=this._x1,se=this._y1;if(!$)return this;if($.length)for(;;){if((z=w>=(N=(ee+ie)/2))?ee=N:ie=N,(U=E>=(D=(te+se)/2))?te=D:se=D,t=$,!($=$[q=U<<1|z]))return this;if(!$.length)break;(t[q+1&3]||t[q+2&3]||t[q+3&3])&&(l=t,H=q)}for(;$.data!==e;)if(h=$,!($=$.next))return this;return(p=$.next)&&delete $.next,h?(p?h.next=p:delete h.next,this):t?(p?t[q]=p:delete t[q],($=t[0]||t[1]||t[2]||t[3])&&$===(t[3]||t[2]||t[1]||t[0])&&!$.length&&(l?l[H]=$:this._root=$),this):(this._root=p,this)},At.removeAll=function(e){for(var t=0,l=e.length;t<l;++t)this.remove(e[t]);return this},At.root=function(){return this._root},At.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},At.visit=function(e){var t,l,h,p,w,E,N=[],D=this._root;for(D&&N.push(new Et(D,this._x0,this._y0,this._x1,this._y1));t=N.pop();)if(!e(D=t.node,h=t.x0,p=t.y0,w=t.x1,E=t.y1)&&D.length){var z=(h+w)/2,U=(p+E)/2;(l=D[3])&&N.push(new Et(l,z,U,w,E)),(l=D[2])&&N.push(new Et(l,h,U,z,E)),(l=D[1])&&N.push(new Et(l,z,p,w,U)),(l=D[0])&&N.push(new Et(l,h,p,z,U))}return this},At.visitAfter=function(e){var t,l=[],h=[];for(this._root&&l.push(new Et(this._root,this._x0,this._y0,this._x1,this._y1));t=l.pop();){var p=t.node;if(p.length){var w,E=t.x0,N=t.y0,D=t.x1,z=t.y1,U=(E+D)/2,q=(N+z)/2;(w=p[0])&&l.push(new Et(w,E,N,U,q)),(w=p[1])&&l.push(new Et(w,U,N,D,q)),(w=p[2])&&l.push(new Et(w,E,q,U,z)),(w=p[3])&&l.push(new Et(w,U,q,D,z))}h.push(t)}for(;t=h.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},At.x=function(e){return arguments.length?(this._x=e,this):this._x},At.y=function(e){return arguments.length?(this._y=e,this):this._y};var Mn=function(){return Math.random()},Cu=(function e(t){function l(h,p){return h=h==null?0:+h,p=p==null?1:+p,arguments.length===1?(p=h,h=0):p-=h,function(){return t()*p+h}}return l.source=e,l}(Mn),function e(t){function l(h,p){var w,E;return h=h==null?0:+h,p=p==null?1:+p,function(){var N;if(w!=null)N=w,w=null;else do w=2*t()-1,N=2*t()-1,E=w*w+N*N;while(!E||E>1);return h+p*N*Math.sqrt(-2*Math.log(E)/E)}}return l.source=e,l}(Mn)),ku=(function e(t){function l(){var h=Cu.source(t).apply(this,arguments);return function(){return Math.exp(h())}}return l.source=e,l}(Mn),function e(t){function l(h){return function(){for(var p=0,w=0;w<h;++w)p+=t();return p}}return l.source=e,l}(Mn));(function e(t){function l(h){var p=ku.source(t)(h);return function(){return p()/h}}return l.source=e,l})(Mn),function e(t){function l(h){return function(){return-Math.log(1-t())/h}}return l.source=e,l}(Mn);var Nu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function po(e){if(!(t=Nu.exec(e)))throw new Error("invalid format: "+e);var t;return new yo({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function yo(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}po.prototype=yo.prototype,yo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function kr(e,t){if((l=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var l,h=e.slice(0,l);return[h.length>1?h[0]+h.slice(2):h,+e.slice(l+1)]}var Xi,go,Su=function(e){return(e=kr(Math.abs(e)))?e[1]:NaN},Wi=function(e,t){var l=kr(e,t);if(!l)return e+"";var h=l[0],p=l[1];return p<0?"0."+new Array(-p).join("0")+h:h.length>p+1?h.slice(0,p+1)+"."+h.slice(p+1):h+new Array(p-h.length+2).join("0")},Gi={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Wi(100*e,t)},r:Wi,s:function(e,t){var l=kr(e,t);if(!l)return e+"";var h=l[0],p=l[1],w=p-(Xi=3*Math.max(-8,Math.min(8,Math.floor(p/3))))+1,E=h.length;return w===E?h:w>E?h+new Array(w-E+1).join("0"):w>0?h.slice(0,w)+"."+h.slice(w):"0."+new Array(1-w).join("0")+kr(e,Math.max(0,t+w-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Zi=function(e){return e},Ki=Array.prototype.map,Qi=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];go=function(e){var t,l,h=e.grouping===void 0||e.thousands===void 0?Zi:(t=Ki.call(e.grouping,Number),l=e.thousands+"",function(H,$){for(var ee=H.length,te=[],ie=0,se=t[0],he=0;ee>0&&se>0&&(he+se+1>$&&(se=Math.max(1,$-he)),te.push(H.substring(ee-=se,ee+se)),!((he+=se+1)>$));)se=t[ie=(ie+1)%t.length];return te.reverse().join(l)}),p=e.currency===void 0?"":e.currency[0]+"",w=e.currency===void 0?"":e.currency[1]+"",E=e.decimal===void 0?".":e.decimal+"",N=e.numerals===void 0?Zi:function(H){return function($){return $.replace(/[0-9]/g,function(ee){return H[+ee]})}}(Ki.call(e.numerals,String)),D=e.percent===void 0?"%":e.percent+"",z=e.minus===void 0?"-":e.minus+"",U=e.nan===void 0?"NaN":e.nan+"";function q(H){var $=(H=po(H)).fill,ee=H.align,te=H.sign,ie=H.symbol,se=H.zero,he=H.width,xe=H.comma,ge=H.precision,Ee=H.trim,Se=H.type;Se==="n"?(xe=!0,Se="g"):Gi[Se]||(ge===void 0&&(ge=12),Ee=!0,Se="g"),(se||$==="0"&&ee==="=")&&(se=!0,$="0",ee="=");var Ae=ie==="$"?p:ie==="#"&&/[boxX]/.test(Se)?"0"+Se.toLowerCase():"",Ye=ie==="$"?w:/[%p]/.test(Se)?D:"",qe=Gi[Se],ve=/[defgprs%]/.test(Se);function Ce(fe){var de,Re,ye,He=Ae,De=Ye;if(Se==="c")De=qe(fe)+De,fe="";else{var ot=(fe=+fe)<0||1/fe<0;if(fe=isNaN(fe)?U:qe(Math.abs(fe),ge),Ee&&(fe=function(we){e:for(var Me,je=we.length,Pe=1,Ke=-1;Pe<je;++Pe)switch(we[Pe]){case".":Ke=Me=Pe;break;case"0":Ke===0&&(Ke=Pe),Me=Pe;break;default:if(!+we[Pe])break e;Ke>0&&(Ke=0)}return Ke>0?we.slice(0,Ke)+we.slice(Me+1):we}(fe)),ot&&+fe==0&&te!=="+"&&(ot=!1),He=(ot?te==="("?te:z:te==="-"||te==="("?"":te)+He,De=(Se==="s"?Qi[8+Xi/3]:"")+De+(ot&&te==="("?")":""),ve){for(de=-1,Re=fe.length;++de<Re;)if(48>(ye=fe.charCodeAt(de))||ye>57){De=(ye===46?E+fe.slice(de+1):fe.slice(de))+De,fe=fe.slice(0,de);break}}}xe&&!se&&(fe=h(fe,1/0));var ht=He.length+fe.length+De.length,oe=ht<he?new Array(he-ht+1).join($):"";switch(xe&&se&&(fe=h(oe+fe,oe.length?he-De.length:1/0),oe=""),ee){case"<":fe=He+fe+De+oe;break;case"=":fe=He+oe+fe+De;break;case"^":fe=oe.slice(0,ht=oe.length>>1)+He+fe+De+oe.slice(ht);break;default:fe=oe+He+fe+De}return N(fe)}return ge=ge===void 0?6:/[gprs]/.test(Se)?Math.max(1,Math.min(21,ge)):Math.max(0,Math.min(20,ge)),Ce.toString=function(){return H+""},Ce}return{format:q,formatPrefix:function(H,$){var ee=q(((H=po(H)).type="f",H)),te=3*Math.max(-8,Math.min(8,Math.floor(Su($)/3))),ie=Math.pow(10,-te),se=Qi[8+te/3];return function(he){return ee(ie*he)+se}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),go.format,go.formatPrefix;var vo=new Date,xo=new Date;function dt(e,t,l,h){function p(w){return e(w=arguments.length===0?new Date:new Date(+w)),w}return p.floor=function(w){return e(w=new Date(+w)),w},p.ceil=function(w){return e(w=new Date(w-1)),t(w,1),e(w),w},p.round=function(w){var E=p(w),N=p.ceil(w);return w-E<N-w?E:N},p.offset=function(w,E){return t(w=new Date(+w),E==null?1:Math.floor(E)),w},p.range=function(w,E,N){var D,z=[];if(w=p.ceil(w),N=N==null?1:Math.floor(N),!(w<E&&N>0))return z;do z.push(D=new Date(+w)),t(w,N),e(w);while(D<w&&w<E);return z},p.filter=function(w){return dt(function(E){if(E>=E)for(;e(E),!w(E);)E.setTime(E-1)},function(E,N){if(E>=E)if(N<0)for(;++N<=0;)for(;t(E,-1),!w(E););else for(;--N>=0;)for(;t(E,1),!w(E););})},l&&(p.count=function(w,E){return vo.setTime(+w),xo.setTime(+E),e(vo),e(xo),Math.floor(l(vo,xo))},p.every=function(w){return w=Math.floor(w),isFinite(w)&&w>0?w>1?p.filter(h?function(E){return h(E)%w==0}:function(E){return p.count(0,E)%w==0}):p:null}),p}var mo=dt(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});mo.every=function(e){return isFinite(e=Math.floor(e))&&e>0?dt(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,l){t.setFullYear(t.getFullYear()+l*e)}):null};var Hn=mo,Pu=(mo.range,dt(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()})),Nr=(Pu.range,1e3),pn=6e4,Sr=36e5,Ji=864e5,ea=6048e5;function dn(e){return dt(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,l){t.setDate(t.getDate()+7*l)},function(t,l){return(l-t-(l.getTimezoneOffset()-t.getTimezoneOffset())*pn)/ea})}var ta=dn(0),Pr=dn(1),Ou=dn(2),Tu=dn(3),Cn=dn(4),ju=dn(5),Ru=dn(6),na=(ta.range,Pr.range,Ou.range,Tu.range,Cn.range,ju.range,Ru.range,dt(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pn)/Ji},function(e){return e.getDate()-1})),ra=na,Lu=(na.range,dt(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nr-e.getMinutes()*pn)},function(e,t){e.setTime(+e+t*Sr)},function(e,t){return(t-e)/Sr},function(e){return e.getHours()})),Iu=(Lu.range,dt(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nr)},function(e,t){e.setTime(+e+t*pn)},function(e,t){return(t-e)/pn},function(e){return e.getMinutes()})),Du=(Iu.range,dt(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*Nr)},function(e,t){return(t-e)/Nr},function(e){return e.getUTCSeconds()})),wo=(Du.range,dt(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e}));wo.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?dt(function(t){t.setTime(Math.floor(t/e)*e)},function(t,l){t.setTime(+t+l*e)},function(t,l){return(l-t)/e}):wo:null},wo.range;function yn(e){return dt(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,l){t.setUTCDate(t.getUTCDate()+7*l)},function(t,l){return(l-t)/ea})}var oa=yn(0),Or=yn(1),Bu=yn(2),zu=yn(3),kn=yn(4),Fu=yn(5),Uu=yn(6),ia=(oa.range,Or.range,Bu.range,zu.range,kn.range,Fu.range,Uu.range,dt(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Ji},function(e){return e.getUTCDate()-1})),aa=ia,bo=(ia.range,dt(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()}));bo.every=function(e){return isFinite(e=Math.floor(e))&&e>0?dt(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,l){t.setUTCFullYear(t.getUTCFullYear()+l*e)}):null};var Vn=bo;bo.range;function _o(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Eo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $n(e,t,l){return{y:e,m:t,d:l,H:0,M:0,S:0,L:0}}var Yn,sa={"-":"",_:" ",0:"0"},yt=/^\s*\d+/,qu=/^%/,Hu=/[\\^$*+?|[\]().{}]/g;function We(e,t,l){var h=e<0?"-":"",p=(h?-e:e)+"",w=p.length;return h+(w<l?new Array(l-w+1).join(t)+p:p)}function Vu(e){return e.replace(Hu,"\\$&")}function Xn(e){return new RegExp("^(?:"+e.map(Vu).join("|")+")","i")}function Wn(e){for(var t={},l=-1,h=e.length;++l<h;)t[e[l].toLowerCase()]=l;return t}function $u(e,t,l){var h=yt.exec(t.slice(l,l+1));return h?(e.w=+h[0],l+h[0].length):-1}function Yu(e,t,l){var h=yt.exec(t.slice(l,l+1));return h?(e.u=+h[0],l+h[0].length):-1}function Xu(e,t,l){var h=yt.exec(t.slice(l,l+2));return h?(e.U=+h[0],l+h[0].length):-1}function Wu(e,t,l){var h=yt.exec(t.slice(l,l+2));return h?(e.V=+h[0],l+h[0].length):-1}function Gu(e,t,l){var h=yt.exec(t.slice(l,l+2));return h?(e.W=+h[0],l+h[0].length):-1}function ua(e,t,l){var h=yt.exec(t.slice(l,l+4));return h?(e.y=+h[0],l+h[0].length):-1}function ca(e,t,l){var h=yt.exec(t.slice(l,l+2));return h?(e.y=+h[0]+(+h[0]>68?1900:2e3),l+h[0].length):-1}function Zu(e,t,l){var h=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(l,l+6));return h?(e.Z=h[1]?0:-(h[2]+(h[3]||"00")),l+h[0].length):-1}function Ku(e,t,l){var h=yt.exec(t.slice(l,l+1));return h?(e.q=3*h[0]-3,l+h[0].length):-1}function Qu(e,t,l){var h=yt.exec(t.slice(l,l+2));return h?(e.m=h[0]-1,l+h[0].length):-1}function la(e,t,l){var h=yt.exec(t.slice(l,l+2));return h?(e.d=+h[0],l+h[0].length):-1}function Ju(e,t,l){var h=yt.exec(t.slice(l,l+3));return h?(e.m=0,e.d=+h[0],l+h[0].length):-1}function fa(e,t,l){var h=yt.exec(t.slice(l,l+2));return h?(e.H=+h[0],l+h[0].length):-1}function ec(e,t,l){var h=yt.exec(t.slice(l,l+2));return h?(e.M=+h[0],l+h[0].length):-1}function tc(e,t,l){var h=yt.exec(t.slice(l,l+2));return h?(e.S=+h[0],l+h[0].length):-1}function nc(e,t,l){var h=yt.exec(t.slice(l,l+3));return h?(e.L=+h[0],l+h[0].length):-1}function rc(e,t,l){var h=yt.exec(t.slice(l,l+6));return h?(e.L=Math.floor(h[0]/1e3),l+h[0].length):-1}function oc(e,t,l){var h=qu.exec(t.slice(l,l+1));return h?l+h[0].length:-1}function ic(e,t,l){var h=yt.exec(t.slice(l));return h?(e.Q=+h[0],l+h[0].length):-1}function ac(e,t,l){var h=yt.exec(t.slice(l));return h?(e.s=+h[0],l+h[0].length):-1}function ha(e,t){return We(e.getDate(),t,2)}function sc(e,t){return We(e.getHours(),t,2)}function uc(e,t){return We(e.getHours()%12||12,t,2)}function cc(e,t){return We(1+ra.count(Hn(e),e),t,3)}function pa(e,t){return We(e.getMilliseconds(),t,3)}function lc(e,t){return pa(e,t)+"000"}function fc(e,t){return We(e.getMonth()+1,t,2)}function hc(e,t){return We(e.getMinutes(),t,2)}function pc(e,t){return We(e.getSeconds(),t,2)}function dc(e){var t=e.getDay();return t===0?7:t}function yc(e,t){return We(ta.count(Hn(e)-1,e),t,2)}function da(e){var t=e.getDay();return t>=4||t===0?Cn(e):Cn.ceil(e)}function gc(e,t){return e=da(e),We(Cn.count(Hn(e),e)+(Hn(e).getDay()===4),t,2)}function vc(e){return e.getDay()}function xc(e,t){return We(Pr.count(Hn(e)-1,e),t,2)}function mc(e,t){return We(e.getFullYear()%100,t,2)}function wc(e,t){return We((e=da(e)).getFullYear()%100,t,2)}function bc(e,t){return We(e.getFullYear()%1e4,t,4)}function _c(e,t){var l=e.getDay();return We((e=l>=4||l===0?Cn(e):Cn.ceil(e)).getFullYear()%1e4,t,4)}function Ec(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function ya(e,t){return We(e.getUTCDate(),t,2)}function Ac(e,t){return We(e.getUTCHours(),t,2)}function Mc(e,t){return We(e.getUTCHours()%12||12,t,2)}function Cc(e,t){return We(1+aa.count(Vn(e),e),t,3)}function ga(e,t){return We(e.getUTCMilliseconds(),t,3)}function kc(e,t){return ga(e,t)+"000"}function Nc(e,t){return We(e.getUTCMonth()+1,t,2)}function Sc(e,t){return We(e.getUTCMinutes(),t,2)}function Pc(e,t){return We(e.getUTCSeconds(),t,2)}function Oc(e){var t=e.getUTCDay();return t===0?7:t}function Tc(e,t){return We(oa.count(Vn(e)-1,e),t,2)}function va(e){var t=e.getUTCDay();return t>=4||t===0?kn(e):kn.ceil(e)}function jc(e,t){return e=va(e),We(kn.count(Vn(e),e)+(Vn(e).getUTCDay()===4),t,2)}function Rc(e){return e.getUTCDay()}function Lc(e,t){return We(Or.count(Vn(e)-1,e),t,2)}function Ic(e,t){return We(e.getUTCFullYear()%100,t,2)}function Dc(e,t){return We((e=va(e)).getUTCFullYear()%100,t,2)}function Bc(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function zc(e,t){var l=e.getUTCDay();return We((e=l>=4||l===0?kn(e):kn.ceil(e)).getUTCFullYear()%1e4,t,4)}function Fc(){return"+0000"}function xa(){return"%"}function ma(e){return+e}function wa(e){return Math.floor(+e/1e3)}(function(e){Yn=function(t){var l=t.dateTime,h=t.date,p=t.time,w=t.periods,E=t.days,N=t.shortDays,D=t.months,z=t.shortMonths,U=Xn(w),q=Wn(w),H=Xn(E),$=Wn(E),ee=Xn(N),te=Wn(N),ie=Xn(D),se=Wn(D),he=Xn(z),xe=Wn(z),ge={a:function(ve){return N[ve.getDay()]},A:function(ve){return E[ve.getDay()]},b:function(ve){return z[ve.getMonth()]},B:function(ve){return D[ve.getMonth()]},c:null,d:ha,e:ha,f:lc,g:wc,G:_c,H:sc,I:uc,j:cc,L:pa,m:fc,M:hc,p:function(ve){return w[+(ve.getHours()>=12)]},q:function(ve){return 1+~~(ve.getMonth()/3)},Q:ma,s:wa,S:pc,u:dc,U:yc,V:gc,w:vc,W:xc,x:null,X:null,y:mc,Y:bc,Z:Ec,"%":xa},Ee={a:function(ve){return N[ve.getUTCDay()]},A:function(ve){return E[ve.getUTCDay()]},b:function(ve){return z[ve.getUTCMonth()]},B:function(ve){return D[ve.getUTCMonth()]},c:null,d:ya,e:ya,f:kc,g:Dc,G:zc,H:Ac,I:Mc,j:Cc,L:ga,m:Nc,M:Sc,p:function(ve){return w[+(ve.getUTCHours()>=12)]},q:function(ve){return 1+~~(ve.getUTCMonth()/3)},Q:ma,s:wa,S:Pc,u:Oc,U:Tc,V:jc,w:Rc,W:Lc,x:null,X:null,y:Ic,Y:Bc,Z:Fc,"%":xa},Se={a:function(ve,Ce,fe){var de=ee.exec(Ce.slice(fe));return de?(ve.w=te[de[0].toLowerCase()],fe+de[0].length):-1},A:function(ve,Ce,fe){var de=H.exec(Ce.slice(fe));return de?(ve.w=$[de[0].toLowerCase()],fe+de[0].length):-1},b:function(ve,Ce,fe){var de=he.exec(Ce.slice(fe));return de?(ve.m=xe[de[0].toLowerCase()],fe+de[0].length):-1},B:function(ve,Ce,fe){var de=ie.exec(Ce.slice(fe));return de?(ve.m=se[de[0].toLowerCase()],fe+de[0].length):-1},c:function(ve,Ce,fe){return qe(ve,l,Ce,fe)},d:la,e:la,f:rc,g:ca,G:ua,H:fa,I:fa,j:Ju,L:nc,m:Qu,M:ec,p:function(ve,Ce,fe){var de=U.exec(Ce.slice(fe));return de?(ve.p=q[de[0].toLowerCase()],fe+de[0].length):-1},q:Ku,Q:ic,s:ac,S:tc,u:Yu,U:Xu,V:Wu,w:$u,W:Gu,x:function(ve,Ce,fe){return qe(ve,h,Ce,fe)},X:function(ve,Ce,fe){return qe(ve,p,Ce,fe)},y:ca,Y:ua,Z:Zu,"%":oc};function Ae(ve,Ce){return function(fe){var de,Re,ye,He=[],De=-1,ot=0,ht=ve.length;for(fe instanceof Date||(fe=new Date(+fe));++De<ht;)ve.charCodeAt(De)===37&&(He.push(ve.slice(ot,De)),(Re=sa[de=ve.charAt(++De)])!=null?de=ve.charAt(++De):Re=de==="e"?" ":"0",(ye=Ce[de])&&(de=ye(fe,Re)),He.push(de),ot=De+1);return He.push(ve.slice(ot,De)),He.join("")}}function Ye(ve,Ce){return function(fe){var de,Re,ye=$n(1900,void 0,1);if(qe(ye,ve,fe+="",0)!=fe.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(1e3*ye.s+("L"in ye?ye.L:0));if(Ce&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+12*ye.p),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Re=(de=Eo($n(ye.y,0,1))).getUTCDay(),de=Re>4||Re===0?Or.ceil(de):Or(de),de=aa.offset(de,7*(ye.V-1)),ye.y=de.getUTCFullYear(),ye.m=de.getUTCMonth(),ye.d=de.getUTCDate()+(ye.w+6)%7):(Re=(de=_o($n(ye.y,0,1))).getDay(),de=Re>4||Re===0?Pr.ceil(de):Pr(de),de=ra.offset(de,7*(ye.V-1)),ye.y=de.getFullYear(),ye.m=de.getMonth(),ye.d=de.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Re="Z"in ye?Eo($n(ye.y,0,1)).getUTCDay():_o($n(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+7*ye.W-(Re+5)%7:ye.w+7*ye.U-(Re+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,Eo(ye)):_o(ye)}}function qe(ve,Ce,fe,de){for(var Re,ye,He=0,De=Ce.length,ot=fe.length;He<De;){if(de>=ot)return-1;if((Re=Ce.charCodeAt(He++))===37){if(Re=Ce.charAt(He++),!(ye=Se[Re in sa?Ce.charAt(He++):Re])||(de=ye(ve,fe,de))<0)return-1}else if(Re!=fe.charCodeAt(de++))return-1}return de}return ge.x=Ae(h,ge),ge.X=Ae(p,ge),ge.c=Ae(l,ge),Ee.x=Ae(h,Ee),Ee.X=Ae(p,Ee),Ee.c=Ae(l,Ee),{format:function(ve){var Ce=Ae(ve+="",ge);return Ce.toString=function(){return ve},Ce},parse:function(ve){var Ce=Ye(ve+="",!1);return Ce.toString=function(){return ve},Ce},utcFormat:function(ve){var Ce=Ae(ve+="",Ee);return Ce.toString=function(){return ve},Ce},utcParse:function(ve){var Ce=Ye(ve+="",!0);return Ce.toString=function(){return ve},Ce}}}(e),Yn.format,Yn.parse,Yn.utcFormat,Yn.utcParse})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Uc=dt(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),qc=(Uc.range,dt(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*Sr)},function(e,t){return(t-e)/Sr},function(e){return e.getUTCHours()})),Hc=(qc.range,dt(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*pn)},function(e,t){return(t-e)/pn},function(e){return e.getUTCMinutes()}));Hc.range;var Tr=function(e){return function(){return e}};function ba(e){this._context=e}ba.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Vc=function(e){return new ba(e)};function $c(e){return e[0]}function Yc(e){return e[1]}function Ao(){this._=null}function jr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Gn(e,t){var l=t,h=t.R,p=l.U;p?p.L===l?p.L=h:p.R=h:e._=h,h.U=p,l.U=h,l.R=h.L,l.R&&(l.R.U=l),h.L=l}function Zn(e,t){var l=t,h=t.L,p=l.U;p?p.L===l?p.L=h:p.R=h:e._=h,h.U=p,l.U=h,l.L=h.R,l.L&&(l.L.U=l),h.R=l}function _a(e){for(;e.L;)e=e.L;return e}Ao.prototype={constructor:Ao,insert:function(e,t){var l,h,p;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;l=e}else this._?(e=_a(this._),t.P=null,t.N=e,e.P=e.L=t,l=e):(t.P=t.N=null,this._=t,l=null);for(t.L=t.R=null,t.U=l,t.C=!0,e=t;l&&l.C;)l===(h=l.U).L?(p=h.R)&&p.C?(l.C=p.C=!1,h.C=!0,e=h):(e===l.R&&(Gn(this,l),l=(e=l).U),l.C=!1,h.C=!0,Zn(this,h)):(p=h.L)&&p.C?(l.C=p.C=!1,h.C=!0,e=h):(e===l.L&&(Zn(this,l),l=(e=l).U),l.C=!1,h.C=!0,Gn(this,h)),l=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,l,h,p=e.U,w=e.L,E=e.R;if(l=w?E?_a(E):w:E,p?p.L===e?p.L=l:p.R=l:this._=l,w&&E?(h=l.C,l.C=e.C,l.L=w,w.U=l,l!==E?(p=l.U,l.U=e.U,e=l.R,p.L=e,l.R=E,E.U=l):(l.U=p,p=l,e=l.R)):(h=e.C,e=l),e&&(e.U=p),!h)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===p.L){if((t=p.R).C&&(t.C=!1,p.C=!0,Gn(this,p),t=p.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Zn(this,t),t=p.R),t.C=p.C,p.C=t.R.C=!1,Gn(this,p),e=this._;break}}else if((t=p.L).C&&(t.C=!1,p.C=!0,Zn(this,p),t=p.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Gn(this,t),t=p.L),t.C=p.C,p.C=t.L.C=!1,Zn(this,p),e=this._;break}t.C=!0,e=p,p=p.U}while(!e.C);e&&(e.C=!1)}}};var Ea=Ao;function Kn(e,t,l,h){var p=[null,null],w=bt.push(p)-1;return p.left=e,p.right=t,l&&Rr(p,e,t,l),h&&Rr(p,t,e,h),Ot[e.index].halfedges.push(w),Ot[t.index].halfedges.push(w),p}function Qn(e,t,l){var h=[t,l];return h.left=e,h}function Rr(e,t,l,h){e[0]||e[1]?e.left===l?e[1]=h:e[0]=h:(e[0]=h,e.left=t,e.right=l)}function Xc(e,t,l,h,p){var w,E=e[0],N=e[1],D=E[0],z=E[1],U=0,q=1,H=N[0]-D,$=N[1]-z;if(w=t-D,H||!(w>0)){if(w/=H,H<0){if(w<U)return;w<q&&(q=w)}else if(H>0){if(w>q)return;w>U&&(U=w)}if(w=h-D,H||!(w<0)){if(w/=H,H<0){if(w>q)return;w>U&&(U=w)}else if(H>0){if(w<U)return;w<q&&(q=w)}if(w=l-z,$||!(w>0)){if(w/=$,$<0){if(w<U)return;w<q&&(q=w)}else if($>0){if(w>q)return;w>U&&(U=w)}if(w=p-z,$||!(w<0)){if(w/=$,$<0){if(w>q)return;w>U&&(U=w)}else if($>0){if(w<U)return;w<q&&(q=w)}return!(U>0||q<1)||(U>0&&(e[0]=[D+U*H,z+U*$]),q<1&&(e[1]=[D+q*H,z+q*$]),!0)}}}}}function Wc(e,t,l,h,p){var w=e[1];if(w)return!0;var E,N,D=e[0],z=e.left,U=e.right,q=z[0],H=z[1],$=U[0],ee=U[1],te=(q+$)/2,ie=(H+ee)/2;if(ee===H){if(te<t||te>=h)return;if(q>$){if(D){if(D[1]>=p)return}else D=[te,l];w=[te,p]}else{if(D){if(D[1]<l)return}else D=[te,p];w=[te,l]}}else if(N=ie-(E=(q-$)/(ee-H))*te,E<-1||E>1)if(q>$){if(D){if(D[1]>=p)return}else D=[(l-N)/E,l];w=[(p-N)/E,p]}else{if(D){if(D[1]<l)return}else D=[(p-N)/E,p];w=[(l-N)/E,l]}else if(H<ee){if(D){if(D[0]>=h)return}else D=[t,E*t+N];w=[h,E*h+N]}else{if(D){if(D[0]<t)return}else D=[h,E*h+N];w=[t,E*t+N]}return e[0]=D,e[1]=w,!0}function Gc(e,t){var l=e.site,h=t.left,p=t.right;return l===p&&(p=h,h=l),p?Math.atan2(p[1]-h[1],p[0]-h[0]):(l===h?(h=t[1],p=t[0]):(h=t[0],p=t[1]),Math.atan2(h[0]-p[0],p[1]-h[1]))}function Aa(e,t){return t[+(t.left!==e.site)]}function Zc(e,t){return t[+(t.left===e.site)]}var Mo,Ma=[];function Kc(){jr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Nn(e){var t=e.P,l=e.N;if(t&&l){var h=t.site,p=e.site,w=l.site;if(h!==w){var E=p[0],N=p[1],D=h[0]-E,z=h[1]-N,U=w[0]-E,q=w[1]-N,H=2*(D*q-z*U);if(!(H>=-nl)){var $=D*D+z*z,ee=U*U+q*q,te=(q*$-z*ee)/H,ie=(D*ee-U*$)/H,se=Ma.pop()||new Kc;se.arc=e,se.site=p,se.x=te+E,se.y=(se.cy=ie+N)+Math.sqrt(te*te+ie*ie),e.circle=se;for(var he=null,xe=Jn._;xe;)if(se.y<xe.y||se.y===xe.y&&se.x<=xe.x){if(!xe.L){he=xe.P;break}xe=xe.L}else{if(!xe.R){he=xe;break}xe=xe.R}Jn.insert(he,se),he||(Mo=se)}}}}function Sn(e){var t=e.circle;t&&(t.P||(Mo=t.N),Jn.remove(t),Ma.push(t),jr(t),e.circle=null)}var Ca=[];function Qc(){jr(this),this.edge=this.site=this.circle=null}function ka(e){var t=Ca.pop()||new Qc;return t.site=e,t}function Co(e){Sn(e),Pn.remove(e),Ca.push(e),jr(e)}function Jc(e){var t=e.circle,l=t.x,h=t.cy,p=[l,h],w=e.P,E=e.N,N=[e];Co(e);for(var D=w;D.circle&&Math.abs(l-D.circle.x)<at&&Math.abs(h-D.circle.cy)<at;)w=D.P,N.unshift(D),Co(D),D=w;N.unshift(D),Sn(D);for(var z=E;z.circle&&Math.abs(l-z.circle.x)<at&&Math.abs(h-z.circle.cy)<at;)E=z.N,N.push(z),Co(z),z=E;N.push(z),Sn(z);var U,q=N.length;for(U=1;U<q;++U)z=N[U],D=N[U-1],Rr(z.edge,D.site,z.site,p);D=N[0],(z=N[q-1]).edge=Kn(D.site,z.site,null,p),Nn(D),Nn(z)}function el(e){for(var t,l,h,p,w=e[0],E=e[1],N=Pn._;N;)if((h=Na(N,E)-w)>at)N=N.L;else{if(!((p=w-tl(N,E))>at)){h>-at?(t=N.P,l=N):p>-at?(t=N,l=N.N):t=l=N;break}if(!N.R){t=N;break}N=N.R}(function(Ee){Ot[Ee.index]={site:Ee,halfedges:[]}})(e);var D=ka(e);if(Pn.insert(t,D),t||l){if(t===l)return Sn(t),l=ka(t.site),Pn.insert(D,l),D.edge=l.edge=Kn(t.site,D.site),Nn(t),void Nn(l);if(l){Sn(t),Sn(l);var z=t.site,U=z[0],q=z[1],H=e[0]-U,$=e[1]-q,ee=l.site,te=ee[0]-U,ie=ee[1]-q,se=2*(H*ie-$*te),he=H*H+$*$,xe=te*te+ie*ie,ge=[(ie*he-$*xe)/se+U,(H*xe-te*he)/se+q];Rr(l.edge,z,ee,ge),D.edge=Kn(z,e,null,ge),l.edge=Kn(e,ee,null,ge),Nn(t),Nn(l)}else D.edge=Kn(t.site,D.site)}}function Na(e,t){var l=e.site,h=l[0],p=l[1],w=p-t;if(!w)return h;var E=e.P;if(!E)return-1/0;var N=(l=E.site)[0],D=l[1],z=D-t;if(!z)return N;var U=N-h,q=1/w-1/z,H=U/z;return q?(-H+Math.sqrt(H*H-2*q*(U*U/(-2*z)-D+z/2+p-w/2)))/q+h:(h+N)/2}function tl(e,t){var l=e.N;if(l)return Na(l,t);var h=e.site;return h[1]===t?h[0]:1/0}var Pn,Ot,Jn,bt,at=1e-6,nl=1e-12;function rl(e,t){return t[1]-e[1]||t[0]-e[0]}function Sa(e,t){var l,h,p,w=e.sort(rl).pop();for(bt=[],Ot=new Array(e.length),Pn=new Ea,Jn=new Ea;;)if(p=Mo,w&&(!p||w[1]<p.y||w[1]===p.y&&w[0]<p.x))w[0]===l&&w[1]===h||(el(w),l=w[0],h=w[1]),w=e.pop();else{if(!p)break;Jc(p.arc)}if(function(){for(var U,q,H,$,ee=0,te=Ot.length;ee<te;++ee)if((U=Ot[ee])&&($=(q=U.halfedges).length)){var ie=new Array($),se=new Array($);for(H=0;H<$;++H)ie[H]=H,se[H]=Gc(U,bt[q[H]]);for(ie.sort(function(he,xe){return se[xe]-se[he]}),H=0;H<$;++H)se[H]=q[ie[H]];for(H=0;H<$;++H)q[H]=se[H]}}(),t){var E=+t[0][0],N=+t[0][1],D=+t[1][0],z=+t[1][1];(function(U,q,H,$){for(var ee,te=bt.length;te--;)Wc(ee=bt[te],U,q,H,$)&&Xc(ee,U,q,H,$)&&(Math.abs(ee[0][0]-ee[1][0])>at||Math.abs(ee[0][1]-ee[1][1])>at)||delete bt[te]})(E,N,D,z),function(U,q,H,$){var ee,te,ie,se,he,xe,ge,Ee,Se,Ae,Ye,qe,ve=Ot.length,Ce=!0;for(ee=0;ee<ve;++ee)if(te=Ot[ee]){for(ie=te.site,se=(he=te.halfedges).length;se--;)bt[he[se]]||he.splice(se,1);for(se=0,xe=he.length;se<xe;)Ye=(Ae=Zc(te,bt[he[se]]))[0],qe=Ae[1],Ee=(ge=Aa(te,bt[he[++se%xe]]))[0],Se=ge[1],(Math.abs(Ye-Ee)>at||Math.abs(qe-Se)>at)&&(he.splice(se,0,bt.push(Qn(ie,Ae,Math.abs(Ye-U)<at&&$-qe>at?[U,Math.abs(Ee-U)<at?Se:$]:Math.abs(qe-$)<at&&H-Ye>at?[Math.abs(Se-$)<at?Ee:H,$]:Math.abs(Ye-H)<at&&qe-q>at?[H,Math.abs(Ee-H)<at?Se:q]:Math.abs(qe-q)<at&&Ye-U>at?[Math.abs(Se-q)<at?Ee:U,q]:null))-1),++xe);xe&&(Ce=!1)}if(Ce){var fe,de,Re,ye=1/0;for(ee=0,Ce=null;ee<ve;++ee)(te=Ot[ee])&&(Re=(fe=(ie=te.site)[0]-U)*fe+(de=ie[1]-q)*de)<ye&&(ye=Re,Ce=te);if(Ce){var He=[U,q],De=[U,$],ot=[H,$],ht=[H,q];Ce.halfedges.push(bt.push(Qn(ie=Ce.site,He,De))-1,bt.push(Qn(ie,De,ot))-1,bt.push(Qn(ie,ot,ht))-1,bt.push(Qn(ie,ht,He))-1)}}for(ee=0;ee<ve;++ee)(te=Ot[ee])&&(te.halfedges.length||delete Ot[ee])}(E,N,D,z)}this.edges=bt,this.cells=Ot,Pn=Jn=bt=Ot=null}Sa.prototype={constructor:Sa,polygons:function(){var e=this.edges;return this.cells.map(function(t){var l=t.halfedges.map(function(h){return Aa(t,e[h])});return l.data=t.site.data,l})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(l,h){if(w=(p=l.halfedges).length)for(var p,w,E,N,D,z,U=l.site,q=-1,H=t[p[w-1]],$=H.left===U?H.right:H.left;++q<w;)E=$,$=(H=t[p[q]]).left===U?H.right:H.left,E&&$&&h<E.index&&h<$.index&&(D=E,z=$,((N=U)[0]-z[0])*(D[1]-N[1])-(N[0]-D[0])*(z[1]-N[1])<0)&&e.push([U.data,E.data,$.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,l){for(var h,p,w=this,E=w._found||0,N=w.cells.length;!(p=w.cells[E]);)if(++E>=N)return null;var D=e-p.site[0],z=t-p.site[1],U=D*D+z*z;do p=w.cells[h=E],E=null,p.halfedges.forEach(function(q){var H=w.edges[q],$=H.left;if($!==p.site&&$||($=H.right)){var ee=e-$[0],te=t-$[1],ie=ee*ee+te*te;ie<U&&(U=ie,E=$.index)}});while(E!==null);return w._found=h,l==null||U<=l*l?p.site:null}};var er=Math.SQRT2;function Pa(e){return((e=Math.exp(e))+1/e)/2}var ol=function(e,t){var l,h,p=e[0],w=e[1],E=e[2],N=t[0],D=t[1],z=t[2],U=N-p,q=D-w,H=U*U+q*q;if(H<1e-12)h=Math.log(z/E)/er,l=function(he){return[p+he*U,w+he*q,E*Math.exp(er*he*h)]};else{var $=Math.sqrt(H),ee=(z*z-E*E+4*H)/(2*E*2*$),te=(z*z-E*E-4*H)/(2*z*2*$),ie=Math.log(Math.sqrt(ee*ee+1)-ee),se=Math.log(Math.sqrt(te*te+1)-te);h=(se-ie)/er,l=function(he){var xe,ge=he*h,Ee=Pa(ie),Se=E/(2*$)*(Ee*(xe=er*ge+ie,((xe=Math.exp(2*xe))-1)/(xe+1))-function(Ae){return((Ae=Math.exp(Ae))-1/Ae)/2}(ie));return[p+Se*U,w+Se*q,E*Ee/Pa(er*ge+ie)]}}return l.duration=1e3*h,l},Lr=function(e){return function(){return e}};function il(e,t,l){this.target=e,this.type=t,this.transform=l}function Gt(e,t,l){this.k=e,this.x=t,this.y=l}Gt.prototype={constructor:Gt,scale:function(e){return e===1?this:new Gt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ko=new Gt(1,0,0);function No(){_e.stopImmediatePropagation()}Gt.prototype;var tr=function(){_e.preventDefault(),_e.stopImmediatePropagation()};function al(){return!_e.ctrlKey&&!_e.button}function sl(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Oa(){return this.__zoom||ko}function ul(){return-_e.deltaY*(_e.deltaMode===1?.05:_e.deltaMode?1:.002)}function cl(){return navigator.maxTouchPoints||"ontouchstart"in this}function ll(e,t,l){var h=e.invertX(t[0][0])-l[0][0],p=e.invertX(t[1][0])-l[1][0],w=e.invertY(t[0][1])-l[0][1],E=e.invertY(t[1][1])-l[1][1];return e.translate(p>h?(h+p)/2:Math.min(0,h)||Math.max(0,p),E>w?(w+E)/2:Math.min(0,w)||Math.max(0,E))}var Oe=o(0),Xe=o.n(Oe),fl=o(54),So=o.n(fl);o(61);function hl(e,t){for(var l=0;l<t.length;l++){var h=t[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}}var Ta=function(){function e(h){var p,w,E;(function(N,D){if(!(N instanceof D))throw new TypeError("Cannot call a class as a function")})(this,e),E=void 0,(w="graphViewProps")in(p=this)?Object.defineProperty(p,w,{value:E,enumerable:!0,configurable:!0,writable:!0}):p[w]=E,this.graphViewProps=h}var t,l;return t=e,(l=[{key:"calculatePosition",value:function(h){return h}},{key:"adjustNodes",value:function(h,p){for(var w=null,E=0;E<h.length;E++){w=h[E];var N=this.calculatePosition({x:w.x||0,y:w.y||0});w.x=N.x,w.y=N.y}return h}},{key:"getPositionForNode",value:function(h){return this.calculatePosition(h)}}])&&hl(t.prototype,l),e}();function ja(e){return(ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dl(e,t){for(var l=0;l<t.length;l++){var h=t[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}}function Ra(e,t){return(Ra=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l})(e,t)}function yl(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var l,h=Po(e);if(t){var p=Po(this).constructor;l=Reflect.construct(h,arguments,p)}else l=h.apply(this,arguments);return gl(this,l)}}function gl(e,t){return!t||ja(t)!=="object"&&typeof t!="function"?function(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(e):t}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var vl=function(e){(function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),E&&Ra(w,E)})(p,e);var t,l,h=yl(p);function p(){return pl(this,p),h.apply(this,arguments)}return t=p,(l=[{key:"calculatePosition",value:function(w){return w}}])&&dl(t.prototype,l),p}(Ta);function La(e){return(La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ml(e,t){for(var l=0;l<t.length;l++){var h=t[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}}function Ia(e,t){return(Ia=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l})(e,t)}function wl(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var l,h=Oo(e);if(t){var p=Oo(this).constructor;l=Reflect.construct(h,arguments,p)}else l=h.apply(this,arguments);return bl(this,l)}}function bl(e,t){return!t||La(t)!=="object"&&typeof t!="function"?function(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(e):t}function Oo(e){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var To=function(e){(function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),E&&Ia(w,E)})(p,e);var t,l,h=wl(p);function p(){return xl(this,p),h.apply(this,arguments)}return t=p,(l=[{key:"calculatePosition",value:function(w){var E=w.x,N=w.y,D=this.graphViewProps.gridSpacing,z=(D=D||10)/2,U=E||0,q=N||0;if(E&&(E-z)%D!=0){var H=1;(E-z)%D<z&&(H=-1),U=D*Math.round(E/D)+z*H}if(N&&(N-z)%D!=0){var $=1;(N-z)%D<z&&($=-1),q=D*Math.round(N/D)+z*$}return{x:U,y:q}}}])&&ml(t.prototype,l),p}(Ta),Ir=o(25);function Da(e){return(Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function El(e,t){for(var l=0;l<t.length;l++){var h=t[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}}function Ba(e,t){return(Ba=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l})(e,t)}function Al(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var l,h=jo(e);if(t){var p=jo(this).constructor;l=Reflect.construct(h,arguments,p)}else l=h.apply(this,arguments);return Ml(this,l)}}function Ml(e,t){return!t||Da(t)!=="object"&&typeof t!="function"?function(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(e):t}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function za(e){return(za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Fa(){return(Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(e[h]=l[h])}return e}).apply(this,arguments)}function Cl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kl(e,t){for(var l=0;l<t.length;l++){var h=t[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}}function Ua(e,t){return(Ua=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l})(e,t)}function Nl(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var l,h=Ro(e);if(t){var p=Ro(this).constructor;l=Reflect.construct(h,arguments,p)}else l=h.apply(this,arguments);return Sl(this,l)}}function Sl(e,t){return!t||za(t)!=="object"&&typeof t!="function"?function(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(e):t}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var nr={None:vl,SnapToGrid:To,VerticalTree:function(e){(function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),E&&Ba(w,E)})(p,e);var t,l,h=Al(p);function p(){return _l(this,p),h.apply(this,arguments)}return t=p,(l=[{key:"adjustNodes",value:function(w,E){var N=this.graphViewProps,D=N.nodeKey,z=N.nodeSize,U=N.nodeHeight,q=N.nodeWidth,H=N.nodeSpacingMultiplier,$=new Ir.graphlib.Graph;$.setGraph({}),$.setDefaultEdgeLabel(function(){return{}});var ee,te,ie=H||1.5,se=(z||1)*ie;return U&&(ee=U*ie),q&&(te=q*ie),w.forEach(function(he){if(E){var xe=he[D],ge="key-".concat(xe),Ee=E[ge];Ee.incomingEdges.length===0&&Ee.outgoingEdges.length===0||($.setNode(ge,{width:te||se,height:ee||se}),Ee.outgoingEdges.forEach(function(Se){$.setEdge(ge,"key-".concat(Se.target))}))}}),Ir.layout($),$.nodes().forEach(function(he){var xe=E[he],ge=$.node(he);xe.node.x=ge.x,xe.node.y=ge.y}),w}}])&&El(t.prototype,l),p}(To),HorizontalTree:function(e){(function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),E&&Ua(w,E)})(p,e);var t,l,h=Nl(p);function p(){return Cl(this,p),h.apply(this,arguments)}return t=p,(l=[{key:"adjustNodes",value:function(w,E){var N=this.graphViewProps,D=N.nodeKey,z=N.nodeSize,U=N.nodeHeight,q=N.nodeWidth,H=N.nodeSizeOverridesAllowed,$=N.nodeSpacingMultiplier,ee=N.nodeLocationOverrides,te=N.graphConfig,ie=$||1.5,se=(z||1)*ie,he=new Ir.graphlib.Graph,xe=U?U*ie:se,ge=q?q*ie:se;if(he.setGraph(Fa({rankdir:"LR"},te)),he.setDefaultEdgeLabel(function(){return{}}),w.forEach(function(qe){if(E){var ve=qe.sizeOverrides,Ce=(ve=ve===void 0?{}:ve).width,fe=ve.height,de=qe[D],Re="key-".concat(de),ye=E[Re];ye.incomingEdges.length===0&&ye.outgoingEdges.length===0||(he.setNode(Re,{width:H&&Ce?Ce:ge,height:H&&fe?fe:xe}),ye.outgoingEdges.forEach(function(He){he.setEdge(Re,"key-".concat(He.target))}))}}),Ir.layout(he),ee){for(var Ee in ee)if(ee.hasOwnProperty(Ee)){var Se="key-".concat(Ee),Ae=he.node(Se),Ye=ee[Ee];Ae&&Ye&&(Ae.x=Ye.x,Ae.y=Ye.y)}}return he.nodes().forEach(function(qe){var ve=E[qe],Ce=he.node(qe);ve.node.x=Ce.x,ve.node.y=Ce.y}),w}}])&&kl(t.prototype,l),p}(To)},Pl=function(e){var t=e.backgroundFillId,l=t===void 0?"#grid":t,h=e.gridSize,p=h===void 0?40960:h,w=e.renderBackground;return w!=null?w(p):Oe.createElement("rect",{className:"background",x:-(p||0)/4,y:-(p||0)/4,width:p,height:p,fill:"url(".concat(l||"",")")})},qa=.15,Ol=function(e){var t=e.edgeArrowSize,l=t===void 0?8:t;return l===0?null:Oe.createElement("marker",{id:"end-arrow",key:"end-arrow",viewBox:"0 -".concat(l/2," ").concat(l," ").concat(l),refX:"".concat(l/2),markerWidth:"".concat(l),markerHeight:"".concat(l),orient:"auto"},Oe.createElement("path",{className:"arrow",d:"M0,-".concat(l/2,"L").concat(l,",0L0,").concat(l/2),width:"".concat(l),height:"".concat(l)}))},Tl=function(e){var t=e.gridDotSize,l=t===void 0?2:t,h=e.gridSpacing,p=h===void 0?36:h;return Oe.createElement("circle",{className:"circle",cx:(p||0)/2,cy:(p||0)/2,r:l})},jl=function(e){var t=e.gridSpacing,l=e.gridDotSize;return Oe.createElement("pattern",{id:"grid",key:"grid",width:t,height:t,patternUnits:"userSpaceOnUse"},Oe.createElement(Tl,{gridSpacing:t,gridDotSize:l}))},Rl=function(){return Oe.createElement("filter",{id:"dropshadow",key:"dropshadow",height:"130%"},Oe.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"3"}),Oe.createElement("feOffset",{dx:"2",dy:"2",result:"offsetblur"}),Oe.createElement("feComponentTransfer",null,Oe.createElement("feFuncA",{type:"linear",slope:"0.1"})),Oe.createElement("feMerge",null,Oe.createElement("feMergeNode",null),Oe.createElement("feMergeNode",{in:"SourceGraphic"})))};function Lo(e){return function(t){if(Array.isArray(t))return Io(t)}(e)||function(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}(e)||Ha(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ll(e,t){return function(l){if(Array.isArray(l))return l}(e)||function(l,h){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(l)))){var p=[],w=!0,E=!1,N=void 0;try{for(var D,z=l[Symbol.iterator]();!(w=(D=z.next()).done)&&(p.push(D.value),!h||p.length!==h);w=!0);}catch(U){E=!0,N=U}finally{try{w||z.return==null||z.return()}finally{if(E)throw N}}return p}}(e,t)||Ha(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ha(e,t){if(e){if(typeof e=="string")return Io(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set"?Array.from(e):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Io(e,t):void 0}}function Io(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,h=new Array(t);l<t;l++)h[l]=e[l];return h}function Do(e){var t=[];return Object.keys(e).forEach(function(l){var h=e[l].shapeId?e[l].shapeId.replace("#",""):"graphdef";t.push(Xe.a.cloneElement(e[l].shape,{key:"".concat(h,"-").concat(t.length+1)}))}),t}var Il=function(e){var t=e.gridDotSize,l=t===void 0?2:t,h=e.edgeArrowSize,p=h===void 0?8:h,w=e.gridSpacing,E=w===void 0?36:w,N=e.nodeTypes,D=e.nodeSubtypes,z=e.edgeTypes,U=e.renderDefs,q=U===void 0?function(){return null}:U,H=Ll(Object(Oe.useState)([]),2),$=H[0],ee=H[1];return Object(Oe.useEffect)(function(){var te=[].concat(Lo(Do(N)),Lo(Do(D)),Lo(Do(z)));ee(te)},[N,D,z]),Xe.a.createElement("defs",null,$,Xe.a.createElement(Ol,{edgeArrowSize:p}),Xe.a.createElement(jl,{gridSpacing:E,gridDotSize:l}),Xe.a.createElement(Rl,null),q())},Dl=o(149),Bl=o.n(Dl);function Va(e){return(Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $a(e,t){for(var l=0;l<t.length;l++){var h=t[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}}var rt=function(){function e(){(function(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")})(this,e)}var t,l,h;return t=e,h=[{key:"getNodesMap",value:function(p,w){for(var E={},N=Object.keys(p).map(function(U){return p[U]}),D=null,z=0;z<N.length;z++)D=N[z],E["key-".concat(D[w])]={children:[],incomingEdges:[],node:D,originalArrIndex:z,outgoingEdges:[],parents:[]};return E}},{key:"getEdgesMap",value:function(p){for(var w={},E=null,N=0;N<p.length;N++)(E=p[N]).target!=null&&(w["".concat(E.source!=null?E.source:"","_").concat(E.target)]={edge:E,originalArrIndex:N});return w}},{key:"linkNodesAndEdges",value:function(p,w){for(var E=null,N=null,D=null,z=0;z<w.length;z++)(D=w[z]).target!=null&&(E=p["key-".concat(D.source!=null?D.source:"")],N=p["key-".concat(D.target)],E&&N&&(E.outgoingEdges.push(D),N.incomingEdges.push(D),E.children.push(N),N.parents.push(E)))}},{key:"removeElementFromDom",value:function(p){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,E=w.querySelector("#".concat(p));return!(!E||!E.parentNode||(E.parentNode.removeChild(E),0))}},{key:"findParent",value:function(p,w,E){var N,D;return!p||E&&p!=null&&(N=p.matches)!==null&&N!==void 0&&N.call(p,E)?null:p!=null&&(D=p.matches)!==null&&D!==void 0&&D.call(p,w)?p:p!=null&&p.parentNode?e.findParent(p.parentNode,w,E):null}},{key:"classNames",value:function(){for(var p="",w=arguments.length,E=new Array(w),N=0;N<w;N++)E[N]=arguments[N];for(var D=function(){var q=U[z];typeof q=="string"||typeof q=="number"?p+=" ".concat(q):Va(q)!=="object"||Array.isArray(q)||q===null?Array.isArray(q)&&(p+=" ".concat(q.join(" "))):Object.keys(q).forEach(function(H){q[H]&&(p+=" ".concat(H))})},z=0,U=E;z<U.length;z++)D();return p.trim()}},{key:"yieldingLoop",value:function(p,w,E,N){var D=0;(function z(){for(var U=Math.min(D+w,p);D<U;++D)E.call(null,D);D<p?setTimeout(z,0):N&&N.call(null)})()}},{key:"hasNodeShallowChanged",value:function(p,w){return!this.isEqual(p,w)}},{key:"isEqual",value:function(p,w){return Bl()(p,w)}},{key:"findNodesWithinArea",value:function(p,w,E){var N=Math.min(p.x,w.x),D=Math.min(p.y,w.y),z=Math.max(w.x,p.x),U=Math.max(w.y,p.y);return E.filter(function(q){return q.x>=N&&q.x<=z&&q.y>=D&&q.y<=U})}},{key:"findConnectedEdgesForNodes",value:function(p,w,E){for(var N=[],D=0;D<p.length;D++)for(var z=p[D],U=D;U<p.length;U++){var q=p[U],H=w["".concat(z[E],"_").concat(q[E])],$=w["".concat(q[E],"_").concat(z[E])];H!=null&&N.push(H.edge),$!=null&&N.push($.edge)}return N}}],(l=null)&&$a(t.prototype,l),h&&$a(t,h),e}();function zl(e){var t=e.handleText,l=e.edgeHandleTranslation;return Xe.a.createElement("text",{className:"edge-text edge-handle-text",textAnchor:"middle",alignmentBaseline:"central",dominantBaseline:"middle",transform:"".concat(l)},t)}function Fl(e,t){return function(l){if(Array.isArray(l))return l}(e)||function(l,h){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(l)))){var p=[],w=!0,E=!1,N=void 0;try{for(var D,z=l[Symbol.iterator]();!(w=(D=z.next()).done)&&(p.push(D.value),!h||p.length!==h);w=!0);}catch(U){E=!0,N=U}finally{try{w||z.return==null||z.return()}finally{if(E)throw N}}return p}}(e,t)||function(l,h){if(l){if(typeof l=="string")return Ya(l,h);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Ya(l,h)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ya(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,h=new Array(t);l<t;l++)h[l]=e[l];return h}function Ul(e){var t=e.data,l=e.edgeHandleRotation,h=e.edgeHandleTranslation,p=Fl(l,2),w=p[0],E=p[1]?"".concat(t.label_to||"").concat(t.label_from?" â†” ".concat(t.label_from):""):"".concat(t.label_from||"").concat(t.label_to?" â†” ".concat(t.label_to):"");return Xe.a.createElement("text",{className:"edge-text edge-label-text",textAnchor:"middle",alignmentBaseline:"central",transform:"".concat(h," ").concat(w," translate(0,-5)")},E)}var gn=o(13),rr=o(4),ql=o(150);function Hl(e,t,l,h,p){var w={xOff:0,yOff:0,intersect:{type:"none",point:{x:0,y:0}}},E=Bo(p),N=e.getBoundingClientRect(),D=e.getAttribute("width"),z=e.getAttribute("height"),U=D?parseFloat(D):N.width,q=z?parseFloat(z):N.height,H=l.x||0,$=l.y||0,ee=t.x||0,te=t.y||0,ie=$-q/2,se=$+q/2,he=H-U/2,xe=H+U/2,ge=Object(gn.shape)("line",{x1:ee,y1:te,x2:H,y2:$}),Ee={topLeft:new rr.Point2D(he,ie),bottomRight:new rr.Point2D(xe,se)},Se=[Ee.topLeft,new rr.Point2D(Ee.bottomRight.x,Ee.topLeft.y),Ee.bottomRight,new rr.Point2D(Ee.topLeft.x,Ee.bottomRight.y)],Ae=Ee.topLeft.lerp(Ee.bottomRight,.5),Ye=e.getAttribute("transform"),qe=Ye?Ye.replace(/(rotate.[0-9]*.)|[^]/g,"$1"):null,ve=0;qe&&(qe=qe.replace(/^rotate\(|\)$/g,""),ve=parseFloat(qe)*Math.PI/180);var Ce=rr.Matrix2D.rotationAt(ve,Ae),fe=Se.map(function(ot){return ot.transform(Ce)}),de=ql.Intersection.intersectLinePolygon(ge.params[0],ge.params[1],fe);if(de.points.length>0){var Re=0,ye=0,He=de.points[0].x,De=de.points[0].y;He>he&&He<xe&&De>$?ye=E.height:He>he&&He<xe&&De<$?ye=-E.height:Re=De>ie&&De<se&&He<H?-E.width:E.width,w.xOff=H-He-(h?Re/1.25:0),w.yOff=$-De-(h?ye/1.25:0),w.intersect=de.points[0]}return w}function Vl(e,t,l){var h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],p=arguments.length>4?arguments[4]:void 0,w={xOff:0,yOff:0,intersect:{type:"none",point:{x:0,y:0}}},E=Bo(p),N=e.getBoundingClientRect(),D=N.width||e.parentElement.getAttribute("width"),z=N.height||e.parentElement.getAttribute("height"),U=(l==null?void 0:l.x)||0,q=(l==null?void 0:l.y)||0,H=(t==null?void 0:t.x)||0,$=(t==null?void 0:t.y)||0,ee=q-z/2,te=q+z/2,ie=U-D/2,se=U+D/2,he=e.getAttribute("d");if(/^M/.test(he)){var xe=(he=he.replace(/^M /,"")).split(/[ ,]+/);xe=xe.map(function(fe,de){var Re=!1;return/Z$/.test(fe)&&(fe=fe.replace(/Z$/,""),Re=!0),de%2==0?parseFloat(fe)+ie+(Re?"Z":""):parseFloat(fe)+ee+(Re?"Z":"")});var ge=Object(gn.intersect)(Object(gn.shape)("path",{d:"M "+xe.join(" ")}),Object(gn.shape)("line",{x1:H,y1:$,x2:U,y2:q}));if(ge.points.length>0){var Ee=0,Se=0,Ae=ge.points[0].x,Ye=ge.points[0].y,qe=1;if(Ae>ie&&Ae<se){var ve=Ye-q;qe=Ye<q?-1:1,Se=E.height*qe,Se*=Math.min(Math.abs(ve),1)}if(Ye>ee&&Ye<te){var Ce=Ae-U;qe=Ae<U?-1:1,Ee=E.width*qe,Ee*=Math.min(Math.abs(Ce),1)}w.xOff=U-Ae-(h?Ee/1.25:0),w.yOff=q-Ye-(h?Se/1.25:0),w.intersect=ge.points[0]}return w}}function $l(e,t,l){var h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],p=arguments.length>4?arguments[4]:void 0,w={xOff:0,yOff:0,intersect:{type:"none",point:{x:0,y:0}}},E=Bo(p),N=E.width,D=E.height,z=e.getBoundingClientRect(),U=e.parentElement,q=U.getAttribute("width"),H=U.getAttribute("width");q&&(q=parseFloat(q)),H&&(H=parseFloat(H));var $=q||z.width,ee=H||z.height,te=l.x||0,ie=l.y||0,se=t.x||0,he=t.y||0,xe=1.25,ge=$/2+(h?N/xe:0),Ee=ee/2+(h?D/xe:0),Se=Object(gn.intersect)(Object(gn.shape)("ellipse",{rx:ge,ry:Ee,cx:te,cy:ie}),Object(gn.shape)("line",{x1:se,y1:he,x2:te,y2:ie}));if(Se.points.length>0){var Ae=Se.points[0].x,Ye=Se.points[0].y;w.xOff=te-Ae,w.yOff=ie-Ye,w.intersect=Se.points[0]}return w}function Xa(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);t&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),l.push.apply(l,h)}return l}function Wa(e){for(var t=1;t<arguments.length;t++){var l=arguments[t]!=null?arguments[t]:{};t%2?Xa(Object(l),!0).forEach(function(h){Yl(e,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Xa(Object(l)).forEach(function(h){Object.defineProperty(e,h,Object.getOwnPropertyDescriptor(l,h))})}return e}function Yl(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function Xl(e,t){return t.type&&e[t.type]?e[t.type].shapeId:e.emptyEdge?e.emptyEdge.shapeId:null}function Wl(e){return function(){var t=$c,l=Yc,h=Tr(!0),p=null,w=Vc,E=null;function N(D){var z,U,q,H=D.length,$=!1;for(p==null&&(E=w(q=wu())),z=0;z<=H;++z)!(z<H&&h(U=D[z],z,D))===$&&(($=!$)?E.lineStart():E.lineEnd()),$&&E.point(+t(U,z,D),+l(U,z,D));if(q)return E=null,q+""||null}return N.x=function(D){return arguments.length?(t=typeof D=="function"?D:Tr(+D),N):t},N.y=function(D){return arguments.length?(l=typeof D=="function"?D:Tr(+D),N):l},N.defined=function(D){return arguments.length?(h=typeof D=="function"?D:Tr(!!D),N):h},N.curve=function(D){return arguments.length?(w=D,p!=null&&(E=w(p)),N):w},N.context=function(D){return arguments.length?(D==null?p=E=null:E=w(p=D),N):p},N}().x(function(t){return t.x}).y(function(t){return t.y})(e)}function Dr(e,t,l,h){var p=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],w=arguments.length>5?arguments[5]:void 0,E={xOff:0,yOff:0,intersect:{type:"none",point:{x:0,y:0}}};if(l==null||l[h]==null)return E;var N=w.querySelector("[id='node-".concat(l[h],"']"));if(!N)return E;var D=N.querySelector("use.node");if(!D||D&&!D.getAttribute)return E;var z=D.getAttribute("href");if(z||(z=D.getAttributeNS("http://www.w3.org/1999/xlink","href")),!z)return E;var U=w.querySelector("defs>".concat(z," rect:not([data-intersect-ignore=true])")),q=U?null:w.querySelector("defs>".concat(z," path:not([data-intersect-ignore=true])")),H=q||q?null:w.querySelector("defs>".concat(z," circle:not([data-intersect-ignore=true]), defs>").concat(z," ellipse:not([data-intersect-ignore=true]), defs>").concat(z," polygon:not([data-intersect-ignore=true])"));return E=Wa(Wa({},E),U?Hl(U,t,l,p,w):q?Vl(q,t,l,p,w):$l(H,t,l,p,w))}function Gl(e,t){var l=((t==null?void 0:t.x)||0)-((e==null?void 0:e.x)||0),h=((t==null?void 0:t.y)||0)-((e==null?void 0:e.y)||0);return Math.atan2(h,l)}function Bo(e){var t=e.querySelector("defs>marker>.arrow"),l=t.getBoundingClientRect();return{bottom:l.bottom,top:l.top,height:l.height||t.getAttribute("height"),width:l.width||t.getAttribute("width"),left:l.left,right:l.right,y:l.y,x:l.x}}function Ga(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);t&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),l.push.apply(l,h)}return l}function zo(e){for(var t=1;t<arguments.length;t++){var l=arguments[t]!=null?arguments[t]:{};t%2?Ga(Object(l),!0).forEach(function(h){Zl(e,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Ga(Object(l)).forEach(function(h){Object.defineProperty(e,h,Object.getOwnPropertyDescriptor(l,h))})}return e}function Zl(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var Za=function(e){var t=e.data,l=e.edgeTypes,h=e.viewWrapperElem,p=e.edgeHandleSize,w=p===void 0?50:p,E=e.isSelected,N=E!==void 0&&E,D=e.rotateEdgeHandle,z=D===void 0||D,U=e.nodeSize,q=U===void 0?0:U,H=e.sourceNode,$=e.targetNode,ee=e.nodeKey,te=e.isBeingDragged,ie=te!==void 0&&te,se=Object(Oe.useRef)(),he=Object(Oe.useRef)(),xe=function(Ce){var fe=-(Ce||0)/2;return"translate(".concat(fe,", ").concat(fe,")")}(w),ge=function(){var Ce=arguments.length>0&&arguments[0]!==void 0&&arguments[0],fe=!1,de=180*Gl(arguments.length>1?arguments[1]:void 0,arguments.length>2?arguments[2]:void 0)/Math.PI;return Ce&&(de=-de),(de>90||de<-90)&&(de+=180,fe=!0),["rotate(".concat(de,")"),fe]}(!1,H,$),Ee=function(Ce,fe,de,Re,ye,He){var De=de&&de.x?de.x:0,ot=de&&de.y?de.y:0,ht=fe&&fe.x?fe.x:0,oe=fe&&fe.y?fe.y:0,we=Dr(ye||0,de,fe,Re,!1,He),Me=Dr(ye||0,fe,de,Re,!0,He);return Wl([{x:ht-we.xOff,y:oe-we.yOff},{x:De-Me.xOff,y:ot-Me.yOff}])}(0,H,$,ee,q,h),Se=function(Ce){var fe=Ce.replace(/^M/,"").replace(/L/,",").split(","),de=parseFloat(fe[2])-parseFloat(fe[0]),Re=parseFloat(fe[3])-parseFloat(fe[1]),ye=parseFloat(fe[0])+de/2,He=parseFloat(fe[1])+Re/2;return"translate(".concat(ye,", ").concat(He,")")}(Ee),Ae=function(Ce,fe,de,Re){var ye=Ce,He=Re?de[0]:"",De=fe;return"".concat(ye," ").concat(He," ").concat(De)}(Se,xe,ge,z);if(!h)return null;var Ye="".concat(t.source!=null?t.source:"","_").concat(t.target),qe=rt.classNames("edge",{selected:N}),ve={pointerEvents:ie?"none":"auto"};return Xe.a.createElement("g",{className:"edge-container","data-source":t.source,"data-target":t.target},Xe.a.createElement("g",{className:qe},Xe.a.createElement("path",{ref:se,className:"edge-path",d:Ee||void 0,style:zo({},ve)}),Xe.a.createElement("use",{href:Xl(l,t),width:w,height:w,transform:Ae,style:zo({transform:Ae},ve)}),t.handleText&&Xe.a.createElement(zl,{handleText:t.handleText,edgeHandleTranslation:Se}),t.label_from&&t.label_to&&Xe.a.createElement(Ul,{data:t,edgeHandleRotation:ge,edgeHandleTranslation:Se})),Xe.a.createElement("g",{className:"edge-mouse-handler"},Xe.a.createElement("title",null,t.handleTooltipText),Xe.a.createElement("path",{className:"edge-overlay-path",ref:he,id:Ye,"data-source":t.source,"data-target":t.target,d:Ee||void 0,style:zo({},ve)})))},Kl=o(151),Ql=o.n(Kl);function Jl(e,t,l){return 100*(e-t)/(l-t)}function Fo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qa,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1.5;return Object(Oe.useMemo)(function(){return Jl(e,t,l)},[l,t,e])}var ef=o(152),tf=o.n(ef),nf=Ql()(tf.a),rf=function(){return nf},of=function(e){var t=e.maxZoom,l=t===void 0?1.5:t,h=e.minZoom,p=h===void 0?qa:h,w=e.zoomLevel,E=e.zoomToFit,N=e.modifyZoom,D=Object(Oe.useCallback)(function(H){var $=function(ee,te,ie){return ee*(ie-te)/100+te}(H.target.value,p,l);$<=(l||0)&&$>=(p||0)&&N($-w)},[p,l,w,N]),z=Fo(p,p,l),U=Fo(l,p,l),q=Fo(w,p,l);return Xe.a.createElement("div",{className:"graph-controls"},Xe.a.createElement("div",{className:"slider-wrapper"},Xe.a.createElement("span",null,"-"),Xe.a.createElement("input",{type:"range",className:"slider",min:z,max:U,value:q,onChange:D,step:"1"}),Xe.a.createElement("span",null,"+")),Xe.a.createElement("button",{type:"button",className:"slider-button",onMouseDown:E},Xe.a.createElement(rf,null)))},af=Xe.a.forwardRef(function(e,t){var l=e.startPoint,h=e.endPoint,p=h.x-l.x,w=h.y-l.y;return Xe.a.createElement("rect",{className:"highlight-area",width:Math.abs(p),height:Math.abs(w),ref:t,x:p>0?l.x:h.x,y:w>0?l.y:h.y,style:{fill:"rgb(0, 149, 210)",fillOpacity:.15,stroke:"rgba(57, 165, 209, 0.5)",strokeWidth:2}})}),sf=function(e){var t=e.data,l=e.nodeTypes,h=e.isSelected,p=e.maxTitleChars,w=p===void 0?12:p,E=e.lineOffset,N=E===void 0?18:E,D=Object(Oe.useRef)(),z=t.title,U=Object(Oe.useMemo)(function(){return rt.classNames("node-text",{selected:h})},[h]),q=Object(Oe.useCallback)(function($){$.stopPropagation()},[]),H=Object(Oe.useMemo)(function(){return function($,ee){return $.type&&ee[$.type]?ee[$.type].typeText:ee.emptyNode?ee.emptyNode.typeText:null}(t,l)},[t,l]);return Object(Oe.useEffect)(function(){pt(D.current).on("click",function(){return q(_e)})},[q]),Xe.a.createElement("text",{ref:D,className:U,textAnchor:"middle",xmlns:"http://www.w3.org/2000/svg"},!!H&&Xe.a.createElement("tspan",{opacity:"0.5"},H),z&&Xe.a.createElement("tspan",{x:0,dy:N,fontSize:"10px",xmlns:"http://www.w3.org/2000/svg"},z.length>w?z.substr(0,w):z),z&&Xe.a.createElement("title",null,z))};function Ka(e,t){return e&&t[e]?t[e].shapeId:t.emptyNode?t.emptyNode.shapeId:null}function uf(e){var t=e.data,l=e.nodeTypes,h=e.nodeSubtypes,p=(e.nodeKey,e.nodeSize),w=e.nodeWidth,E=e.nodeHeight,N=e.selected,D=N!==void 0&&N,z=e.hovered,U=z!==void 0&&z,q=p||E||154,H=p||w||154,$=rt.classNames("shape"),ee=Object(Oe.useMemo)(function(){return rt.classNames("node",{selected:D,hovered:U})},[D,U]),te=Object(Oe.useMemo)(function(){return rt.classNames("subtype-shape",{selected:D})},[D]),ie=Ka(t.type,l)||"",se=Ka(t.subtype,h)||"",he=Object(Oe.useMemo)(function(){return ie?document.querySelector("defs>".concat(ie)):null},[ie]),xe=he?he.getAttribute("width"):0,ge=he?he.getAttribute("height"):0;return H=xe?parseInt(xe,10):H,q=ge?parseInt(ge,10):q,Xe.a.createElement("g",{className:$,width:H,height:q,xmlns:"http://www.w3.org/2000/svg"},!!t.subtype&&Xe.a.createElement("use",{className:te,x:-H/2,y:-q/2,width:H,height:q,href:se,xmlns:"http://www.w3.org/2000/svg"}),Xe.a.createElement("use",{className:ee,x:-H/2,y:-q/2,width:H,height:q,href:ie,xmlns:"http://www.w3.org/2000/svg"}))}function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(e[h]=l[h])}return e}).apply(this,arguments)}function cf(e,t){return function(l){if(Array.isArray(l))return l}(e)||function(l,h){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(l)))){var p=[],w=!0,E=!1,N=void 0;try{for(var D,z=l[Symbol.iterator]();!(w=(D=z.next()).done)&&(p.push(D.value),!h||p.length!==h);w=!0);}catch(U){E=!0,N=U}finally{try{w||z.return==null||z.return()}finally{if(E)throw N}}return p}}(e,t)||function(l,h){if(l){if(typeof l=="string")return Ja(l,h);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Ja(l,h)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ja(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,h=new Array(t);l<t;l++)h[l]=e[l];return h}var es=function(e){var t=e.data,l=e.id,h=e.nodeKey,p=e.opacity,w=e.nodeTypes,E=e.nodeSubtypes,N=e.isSelected,D=N!==void 0&&N,z=e.nodeSize,U=e.nodeHeight,q=e.nodeWidth,H=e.maxTitleChars,$=H===void 0?12:H,ee=e.centerNodeOnMove,te=ee===void 0||ee,ie=e.layoutEngine,se=e.viewWrapperElem,he=e.renderNodeText,xe=e.renderNode,ge=e.onNodeMouseEnter,Ee=ge===void 0?function(){}:ge,Se=e.onNodeMouseLeave,Ae=Se===void 0?function(){}:Se,Ye=e.onNodeMove,qe=Ye===void 0?function(){}:Ye,ve=e.onNodeSelected,Ce=ve===void 0?function(){}:ve,fe=e.onNodeUpdate,de=fe===void 0?function(){}:fe,Re=cf(Object(Oe.useState)(!1),2),ye=Re[0],He=Re[1],De=Object(Oe.useRef)(),ot=Object(Oe.useRef)(),ht=Object(Oe.useRef)();ht.current={x:t.x||0,y:t.y||0,pointerOffset:null};var oe=Object(Oe.useCallback)(function(nt){He(!0),Ee(nt,t)},[Ee,t]),we=Object(Oe.useCallback)(function(nt){var ct;(nt&&!nt.relatedTarget||nt&&((ct=nt.relatedTarget)===null||ct===void 0||!ct.matches(".edge-overlay-path"))&&!rt.findParent(nt.relatedTarget,"g.node","svg.graph"))&&(He(!1),Ae(nt,t))},[Ae,t]),Me=Object(Oe.useCallback)(function(){De.current&&(ot.current||(ot.current=De.current.parentElement.nextSibling),De.current.parentElement.parentElement.appendChild(De.current.parentElement))},[]),je=Object(Oe.useCallback)(function(nt){var ct;if(De.current){var Ge=nt.sourceEvent;ht.current.pointerOffset=null,(ct=ot.current)!==null&&ct!==void 0&&ct.parentElement&&ot.current.parentElement.insertBefore(De.current.parentElement,ot.current);var lt=Ge.shiftKey;de(ht.current,t[h],lt),Ce(t,t[h],lt,Ge)}},[de,t,h,Ce]),Pe=Object(Oe.useCallback)(function(nt){var ct=nt.sourceEvent.shiftKey,Ge={x:nt.x,y:nt.y,pointerOffset:ht.current.pointerOffset};if(te||(Ge.pointerOffset=Ge.pointerOffset||{x:nt.x-(t.x||0),y:nt.y-(t.y||0)},Ge.x-=Ge.pointerOffset.x,Ge.y-=Ge.pointerOffset.y),ct){var lt=Dr(z||154,t,Ge,h,!0,se);Ge.x+=lt.xOff,Ge.y+=lt.yOff}else ie&&Qa(Ge,ie.getPositionForNode(Ge));ht.current={x:Ge.x,y:Ge.y,pointerOffset:Ge.pointerOffset},qe(Ge,t[h],ct)},[te,t,ie,h,z,qe,se]);Object(Oe.useEffect)(function(){var nt=function(){var ct,Ge,lt,Kt,rn=_u,Br=Eu,Ho=Au,Vo=Mu,On={},zr=g("start","drag","end"),Fr=0,$o=0;function Mt(Te){Te.on("mousedown.drag",gf).filter(Vo).on("touchstart.drag",mf).on("touchmove.drag",wf).on("touchend.drag touchcancel.drag",bf).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function gf(){if(!Kt&&rn.apply(this,arguments)){var Te=ys("mouse",Br.apply(this,arguments),kt,this,arguments);Te&&(pt(_e.view).on("mousemove.drag",vf,!0).on("mouseup.drag",xf,!0),di(_e.view),Gr(),lt=!1,ct=_e.clientX,Ge=_e.clientY,Te("start"))}}function vf(){if(bn(),!lt){var Te=_e.clientX-ct,St=_e.clientY-Ge;lt=Te*Te+St*St>$o}On.mouse("drag")}function xf(){pt(_e.view).on("mousemove.drag mouseup.drag",null),yi(_e.view,lt),bn(),On.mouse("end")}function mf(){if(rn.apply(this,arguments)){var Te,St,Bt=_e.changedTouches,on=Br.apply(this,arguments),Ur=Bt.length;for(Te=0;Te<Ur;++Te)(St=ys(Bt[Te].identifier,on,no,this,arguments))&&(Gr(),St("start"))}}function wf(){var Te,St,Bt=_e.changedTouches,on=Bt.length;for(Te=0;Te<on;++Te)(St=On[Bt[Te].identifier])&&(bn(),St("drag"))}function bf(){var Te,St,Bt=_e.changedTouches,on=Bt.length;for(Kt&&clearTimeout(Kt),Kt=setTimeout(function(){Kt=null},500),Te=0;Te<on;++Te)(St=On[Bt[Te].identifier])&&(Gr(),St("end"))}function ys(Te,St,Bt,on,Ur){var or,gs,vs,qt=Bt(St,Te),qr=zr.copy();if(tn(new ho(Mt,"beforestart",or,Te,Fr,qt[0],qt[1],0,0,qr),function(){return(_e.subject=or=Ho.apply(on,Ur))!=null&&(gs=or.x-qt[0]||0,vs=or.y-qt[1]||0,!0)}))return function _f(Yo){var Xo,xs=qt;switch(Yo){case"start":On[Te]=_f,Xo=Fr++;break;case"end":delete On[Te],--Fr;case"drag":qt=Bt(St,Te),Xo=Fr}tn(new ho(Mt,Yo,or,Te,Xo,qt[0]+gs,qt[1]+vs,qt[0]-xs[0],qt[1]-xs[1],qr),qr.apply,qr,[Yo,on,Ur])}}return Mt.filter=function(Te){return arguments.length?(rn=typeof Te=="function"?Te:Cr(!!Te),Mt):rn},Mt.container=function(Te){return arguments.length?(Br=typeof Te=="function"?Te:Cr(Te),Mt):Br},Mt.subject=function(Te){return arguments.length?(Ho=typeof Te=="function"?Te:Cr(Te),Mt):Ho},Mt.touchable=function(Te){return arguments.length?(Vo=typeof Te=="function"?Te:Cr(!!Te),Mt):Vo},Mt.on=function(){var Te=zr.on.apply(zr,arguments);return Te===zr?Mt:Te},Mt.clickDistance=function(Te){return arguments.length?($o=(Te=+Te)*Te,Mt):Math.sqrt($o)},Mt}().on("drag",function(){return Pe(_e)}).on("start",Me).on("end",function(){return je(_e)});pt(De.current).call(nt)},[je,Me,Pe,oe]);var Ke=Object(Oe.useMemo)(function(){return rt.classNames("node",t.type,{hovered:ye,isSelected:D})},[t.type,ye,D]),Qe=ht.current,vt=Qe.x,Nt=Qe.y;return Xe.a.createElement("g",{className:Ke,onMouseOver:oe,onMouseOut:we,id:l,ref:De,opacity:p,transform:"translate(".concat(vt,", ").concat(Nt,")"),style:{transform:"matrix(1, 0, 0, 1, ".concat(vt,", ").concat(Nt,")")}},xe?xe(De,t,t[h],D,ye):Xe.a.createElement(uf,{data:t,nodeKey:h,nodeTypes:w,nodeSubtypes:E,nodeSize:z,nodeHeight:U,nodeWidth:q,selected:D,hovered:ye}),he?he(t,l,D):Xe.a.createElement(sf,{data:t,nodeTypes:w,isSelected:D,maxTitleChars:$}))};function ts(e){return(ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ns(){return(ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(e[h]=l[h])}return e}).apply(this,arguments)}function rs(e,t){return function(l){if(Array.isArray(l))return l}(e)||function(l,h){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(l)))){var p=[],w=!0,E=!1,N=void 0;try{for(var D,z=l[Symbol.iterator]();!(w=(D=z.next()).done)&&(p.push(D.value),!h||p.length!==h);w=!0);}catch(U){E=!0,N=U}finally{try{w||z.return==null||z.return()}finally{if(E)throw N}}return p}}(e,t)||function(l,h){if(l){if(typeof l=="string")return os(l,h);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return os(l,h)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function os(e,t){(t==null||t>e.length)&&(t=e.length);for(var l=0,h=new Array(t);l<t;l++)h[l]=e[l];return h}function is(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);t&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),l.push.apply(l,h)}return l}function Zt(e){for(var t=1;t<arguments.length;t++){var l=arguments[t]!=null?arguments[t]:{};t%2?is(Object(l),!0).forEach(function(h){Ie(e,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):is(Object(l)).forEach(function(h){Object.defineProperty(e,h,Object.getOwnPropertyDescriptor(l,h))})}return e}function as(e,t){for(var l=0;l<t.length;l++){var h=t[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}}function ss(e,t,l){return t&&as(e.prototype,t),l&&as(e,l),e}function us(e,t){return(us=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l})(e,t)}function lf(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var l,h=Uo(e);if(t){var p=Uo(this).constructor;l=Reflect.construct(h,arguments,p)}else l=h.apply(this,arguments);return ff(this,l)}}function ff(e,t){return!t||ts(t)!=="object"&&typeof t!="function"?Be(e):t}function Be(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ie(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var cs=function(e){(function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),p&&us(h,p)})(l,e);var t=lf(l);function l(h){var p;return function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}(this,l),Ie(Be(p=t.call(this,h)),"nodeTimeouts",void 0),Ie(Be(p),"edgeTimeouts",void 0),Ie(Be(p),"renderNodesTimeout",void 0),Ie(Be(p),"renderEdgesTimeout",void 0),Ie(Be(p),"zoom",void 0),Ie(Be(p),"viewWrapper",void 0),Ie(Be(p),"graphSvg",void 0),Ie(Be(p),"entities",void 0),Ie(Be(p),"graphControlsWrapper",void 0),Ie(Be(p),"highlightAreaRef",void 0),Ie(Be(p),"selectedView",void 0),Ie(Be(p),"view",void 0),Ie(Be(p),"layoutEngine",void 0),Ie(Be(p),"mousePosition",void 0),Ie(Be(p),"removeOldEdges",function(w,E){for(var N=null,D=0;D<w.length;D++)(N=w[D]).source!=null&&N.target!=null&&E["".concat(N.source,"_").concat(N.target)]||p.removeEdgeElement(N.source,N.target)}),Ie(Be(p),"handleDelete",function(w){var E=p.props,N=E.canDeleteNode,D=E.canDeleteEdge;!E.readOnly&&w&&(w.source==null&&N&&N(w)?p.deleteNode(w):w.source!=null&&D&&D(w)&&p.deleteEdge(w))}),Ie(Be(p),"handleKeyDown",function(w){var E=p.props,N=E.selected,D=E.selectedNodes,z=E.disableBackspace,U=E.onUndo,q=E.onCopySelected,H=E.onPasteSelected,$=p.state,ee=$.focused,te=$.selectedNodeObj,ie=$.mousePosition;if(ee)switch(w.key){case"Delete":case"Backspace":if(!te&&!D||w.key==="Backspace"&&z)break;te&&p.handleDelete(te.node||N),D!=null&&D.forEach(function(xe){return p.handleDelete(xe)});break;case"z":(w.metaKey||w.ctrlKey)&&U&&U();break;case"c":!w.metaKey&&!w.ctrlKey||!te.node&&D==null||q&&q();break;case"v":if(w.metaKey||w.ctrlKey){var se=ie.x,he=ie.y;H&&H(te.node,[se,he])}}}),Ie(Be(p),"handleEdgeSelected",function(w){var E=w.target.dataset,N=E.source,D=E.target,z=p.props,U=z.onSelectEdge,q=z.onSelect,H={svgClicked:!0,focused:!0};if(N!=null&&D!=null){if(p.getEdgeBySourceTarget(N,D)==null)return;var $=p.getEdgeBySourceTarget(N,D).originalArrIndex;H=Zt(Zt({},H),{},{selectedEdgeObj:{componentUpToDate:!1,edge:p.state.edges[$]}}),p.setState(H);var ee=p.state.edges[$];U&&U(ee),q&&q({nodes:new Set,edges:new Set([ee])})}else p.setState(H)}),Ie(Be(p),"handleMultipleSelected",function(w,E){var N=p.props,D=N.nodes,z=N.nodeKey,U=N.onSelect,q=N.onSelectNode,H=N.onSelectEdge,$=p.state.edgesMap,ee=rt.findNodesWithinArea(w,E,D),te=rt.findConnectedEdgesForNodes(ee,$,z);q&&q(null),H&&H(null),U&&U({nodes:new Set(ee),edges:new Set(te)})}),Ie(Be(p),"handleSvgClicked",function(w,E){var N=p.props,D=N.onBackgroundClick,z=N.onSelectNode,U=N.onSelectEdge,q=N.onSelect,H=N.readOnly,$=N.onCreateNode,ee=N.onPasteSelected,te=p.state,ie=te.selectingNode,se=te.selectedNodeObj,he=te.selectionStart,xe=te.selectionEnd;if(p.isPartOfEdge(_e.target))p.handleEdgeSelected(_e);else{if(event.shiftKey&&event.ctrlKey&&he)return p.handleMultipleSelected(he,xe),void p.setState({selectionStart:null,selectionEnd:null});if(ie)p.setState({focused:!0,selectingNode:!1,svgClicked:!0});else{if(!_e.shiftKey&&D&&_e.target.classList.contains("background")){var ge=kt(_e.target);D(ge[0],ge[1],_e)}var Ee=(se==null?void 0:se.node)||null;if(ee&&!H&&_e.ctrlKey&&Ee)ee(Ee,kt(_e.target));else if(!H&&_e.shiftKey&&$){var Se=kt(_e.target);$(Se[0],Se[1],_e)}else p.setState({selectedNodeObj:null,focused:!0,svgClicked:!0}),z&&z(null),U&&U(null),q&&q({nodes:new Set,edges:new Set}),Ee&&p.syncRenderNode(Ee)}}}),Ie(Be(p),"handleContextmenu",function(){var w=p.props.onContextMenu;if(typeof w=="function"){var E=kt(_e.target);w(E[0],E[1],_e)}}),Ie(Be(p),"handleDocumentClick",function(w){w&&w.target&&w.target.ownerSVGElement!=null&&w.target.ownerSVGElement===p.graphSvg.current||p.setState({documentClicked:!0,focused:!1,svgClicked:!1})}),Ie(Be(p),"handleDocumentMouseDown",function(){var w=p.state.selectionStart;if(p.props.allowMultiselect&&event.shiftKey&&event.ctrlKey){var E=rs(kt(p.highlightAreaRef.current||_e.target),2),N=E[0],D=E[1];w||p.setState({selectionStart:{x:N,y:D}})}}),Ie(Be(p),"handleDocumentMouseMove",function(){var w=p.props.allowMultiselect,E=rs(kt(p.highlightAreaRef.current||_e.target),2),N=E[0],D=E[1],z={mousePosition:{x:N,y:D}};w&&(z=event.shiftKey&&event.ctrlKey?Zt(Zt({},z),{},{selectionEnd:{x:N,y:D}}):Zt(Zt({},z),{},{selectionStart:null,selectionEnd:null})),p.setState(z)}),Ie(Be(p),"handleNodeMove",function(w,E,N){var D=p.props,z=D.canCreateEdge,U=D.readOnly,q=D.selectedNodes,H=D.nodeKey,$=D.onSelect,ee=p.state.draggingEdge,te=p.getNodeById(E);if(te&&!U){var ie=te.node;if(N||ee)(z&&z(ie)||ee)&&(p.syncRenderEdge({source:E,targetPosition:w}),p.setState({draggingEdge:!0}));else{var se=ie.x,he=ie.y;if(ie.x=w.x,ie.y=w.y,p.asyncRenderNode(ie),q!=null){if(!q.has(ie))return p.setState({selectedNodeObj:null}),void($&&$({nodes:new Set,edges:new Set}));q.forEach(function(xe){var ge=xe[H];if(ge!==ie[H]){var Ee=p.getNodeById(ge).node,Se=w.x+(Ee.x-se),Ae=w.y+(Ee.y-he);Ee.x=Se,Ee.y=Ae,p.asyncRenderNode(Ee)}})}}}}),Ie(Be(p),"removeCustomEdge",function(){rt.removeElementFromDom("edge-custom-container",p.viewWrapper.current)}),Ie(Be(p),"endDragEdge",function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};p.setState(Zt(Zt({},w),{},{componentUpToDate:!1,draggedEdge:null,draggingEdge:!1}),E)}),Ie(Be(p),"handleNodeUpdate",function(w,E,N){var D=p.props,z=D.onUpdateNode,U=D.readOnly,q=p.state,H=q.draggingEdge,$=q.hoveredNode,ee=q.edgeEndNode;if(!U){if(N&&$&&ee)p.createNewEdge();else{H&&(p.removeCustomEdge(),p.endDragEdge());var te=p.getNodeById(E);te&&(p.hasLayoutEngine()?p.layoutEngineAdjustNodes():(ns(te.node,w),p.renderConnectedEdgesFromNode(te,!0)),z&&z(te.node))}p.setState({componentUpToDate:!1,focused:!0,hoveredNode:!1,svgClicked:!0})}}),Ie(Be(p),"handleNodeMouseEnter",function(w,E){var N=p.state,D=N.draggingEdge,z=N.hoveredNodeData;z&&E!==z&&D?p.setState({edgeEndNode:E}):p.setState({hoveredNode:!0,hoveredNodeData:E})}),Ie(Be(p),"handleNodeMouseLeave",function(w,E){p.setState({edgeEndNode:null})}),Ie(Be(p),"handleNodeSelected",function(w,E,N,D){var z=p.props,U=z.onSelectNode,q=z.selectedNodes,H=z.onSelect,$={componentUpToDate:!1,selectedNodeObj:{nodeId:E,node:w}};p.setState($),N||((q||new Set).has(w)||H&&H({nodes:new Set([w]),edges:new Set}),U&&U(w,D))}),Ie(Be(p),"handleZoomStart",function(w){var E=w.sourceEvent;if(p.props.readOnly||!E||E&&!E.buttons||E&&!E.target.matches(".edge-overlay-path"))return!1;var N=E.target.id,D=p.state.edgesMap&&p.state.edgesMap[N]?p.state.edgesMap[N].edge:null;if(!p.isArrowClicked(D)||!D)return!1;p.removeEdgeElement(D.source,D.target),p.setState({draggingEdge:!0,draggedEdge:D}),p.dragEdge(D,kt)}),Ie(Be(p),"handleZoom",function(w){var E=p.state.draggingEdge,N=w.transform;if(E){if(E)return p.dragEdge(void 0,kt),!1}else pt(p.view).attr("transform",N),p.state.viewTransform!==N&&p.setState({viewTransform:N,draggedEdge:null,draggingEdge:!1},function(){p.renderGraphControls()})}),Ie(Be(p),"handleZoomEnd",function(){var w=p.state,E=w.draggingEdge,N=w.draggedEdge,D=w.edgeEndNode,z=p.props,U=z.nodeKey,q=z.onSwapEdge;if(E&&N){var H=Zt({},p.state.draggedEdge);p.removeCustomEdge(),p.endDragEdge(void 0,function(){var $=p.getNodeById(N.source),ee=p.getNodeById(N.target);if($&&ee){var te=$.node;D&&!p.getEdgeBySourceTarget(N.source,D[U])&&p.canSwap(te,D,N)?(H.target=D[U],p.syncRenderEdge(H),q&&q($.node,D,N)):p.syncRenderEdge(N)}})}else E&&!N&&p.endDragEdge()}),Ie(Be(p),"handleZoomToFit",function(){var w=pt(p.entities).node();if(w){var E=w.getBBox?w.getBBox():null;E&&p.handleZoomToFitImpl(E,p.props.zoomDur)}}),Ie(Be(p),"handleZoomToFitImpl",function(w){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(p.viewWrapper.current){var N=pt(p.viewWrapper.current).node(),D=N.clientWidth,z=N.clientHeight,U=p.props.minZoom||0,q=p.props.maxZoom||2,H={k:(U+q)/2,x:0,y:0};if(w.width>0&&w.height>0){var $=w.width,ee=w.height,te=w.x+w.width/2,ie=w.y+w.height/2;H.k=.9/Math.max($/D,ee/z),H.k<U?H.k=U:H.k>q&&(H.k=q),H.x=D/2-H.k*te,H.y=z/2-H.k*ie}p.setZoom(H.k,H.x,H.y,E)}}),Ie(Be(p),"modifyZoom",function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,z=pt(p.viewWrapper.current).node(),U={x:z.clientWidth/2,y:z.clientHeight/2},q=p.zoom.scaleExtent(),H=p.state.viewTransform,$={k:H.k,x:H.x,y:H.y},ee=$.k*(1+w);if($.k=ee,ee<q[0]||ee>q[1])return!1;var te={x:(U.x-$.x)/$.k,y:(U.y-$.y)/$.k},ie={x:te.x*$.k+$.x,y:te.y*$.k+$.y};return $.x+=U.x-ie.x+E,$.y+=U.y-ie.y+N,p.setZoom($.k,$.x,$.y,D),!0}),Ie(Be(p),"isNodeSelected",function(w){var E,N=p.props.selectedNodes,D=p.state.selectedNodeObj;return N!=null&&(E=N.has(w)),E||D.node===w}),Ie(Be(p),"isEdgeSelected",function(w){var E,N=p.props.selectedEdges,D=p.state.selectedEdgeObj;return N!=null&&(E=N.has(w)),E||!!D&&!!D.edge&&D.edge.source===w.source&&D.edge.target===w.target}),Ie(Be(p),"getNodeComponent",function(w,E){var N=p.props,D=N.nodeTypes,z=N.nodeSubtypes,U=N.nodeSize,q=N.nodeHeight,H=N.nodeWidth,$=N.renderNode,ee=N.renderNodeText,te=N.nodeKey,ie=N.maxTitleChars;return Oe.createElement(es,{key:w,id:w,data:E,nodeTypes:D,nodeSize:U,nodeWidth:H,nodeHeight:q,nodeKey:te,nodeSubtypes:z,onNodeMouseEnter:p.handleNodeMouseEnter,onNodeMouseLeave:p.handleNodeMouseLeave,onNodeMove:p.handleNodeMove,onNodeUpdate:p.handleNodeUpdate,onNodeSelected:p.handleNodeSelected,renderNode:$,renderNodeText:ee,isSelected:p.isNodeSelected(E),layoutEngine:p.layoutEngine,viewWrapperElem:p.viewWrapper.current,centerNodeOnMove:p.props.centerNodeOnMove,maxTitleChars:ie})}),Ie(Be(p),"renderNodes",function(){p.entities&&p.state.nodes.forEach(function(w,E){p.asyncRenderNode(w)})}),Ie(Be(p),"getEdgeComponent",function(w){var E=p.props.rotateEdgeHandle,N=p.getNodeById(w.source),D=N?N.node:null,z=p.getNodeById(w.target),U=z?z.node:null,q=w.targetPosition,H=p.props,$=H.edgeTypes,ee=H.edgeHandleSize,te=H.nodeSize,ie=H.nodeKey;return D&&(U||w.targetPosition)?Oe.createElement(Za,{data:w,edgeTypes:$,edgeHandleSize:ee,nodeSize:te,sourceNode:D,targetNode:U||q,nodeKey:ie,viewWrapperElem:p.viewWrapper.current,isSelected:p.isEdgeSelected(w),rotateEdgeHandle:E,isBeingDragged:!!q}):null}),Ie(Be(p),"renderEdge",function(w,E,N){var D=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!p.entities)return null;var z="".concat(w,"-container"),U="".concat(w,"-custom-container"),q=p.state.draggedEdge,H=p.props.afterRenderEdge,$=p.viewWrapper.current.querySelector("[id='".concat(z,"']"));if(D&&$)$.style.display="none",z="".concat(w,"-custom-container"),$=p.viewWrapper.current.querySelector("[id='".concat(z,"']"));else if($){var ee=p.viewWrapper.current.querySelector("[id='".concat(U,"']"));$.style.display="",ee&&ee.remove()}if(!$&&N!==q){var te=document.createElementNS("http://www.w3.org/2000/svg","g");te.id=z,p.entities.appendChild(te),$=te}return $&&(So.a.render(E,$),H)?H(w,E,N,$,p.isEdgeSelected(N)):void 0}),Ie(Be(p),"asyncRenderEdge",function(w){var E=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(w.source!=null&&w.target!=null){var N="edges-".concat(w.source,"-").concat(w.target);cancelAnimationFrame(p.edgeTimeouts[N]),p.edgeTimeouts[N]=requestAnimationFrame(function(){p.syncRenderEdge(w,E)})}}),Ie(Be(p),"renderEdges",function(){var w=p.state,E=w.edges,N=w.draggingEdge;if(p.entities&&!N)for(var D=0;D<E.length;D++)p.asyncRenderEdge(E[D])}),p.nodeTimeouts={},p.edgeTimeouts={},p.renderNodesTimeout=null,p.renderEdgesTimeout=null,p.viewWrapper=Oe.createRef(),p.graphSvg=Oe.createRef(),p.highlightAreaRef=Oe.createRef(),h.layoutEngineType&&(p.layoutEngine=new nr[h.layoutEngineType](h)),p.state={componentUpToDate:!1,draggedEdge:null,draggingEdge:!1,edgeEndNode:null,edges:[],edgesMap:{},hoveredNode:!1,hoveredNodeData:null,nodes:[],nodesMap:{},selectedEdgeObj:null,selectedNodeObj:null,selectingNode:!1,documentClicked:!1,svgClicked:!1,focused:!0},p}return ss(l,null,[{key:"getDerivedStateFromProps",value:function(h,p){var w=h.edges,E=h.nodeKey,N=h.nodes,D=rt.getNodesMap(N,E),z=rt.getEdgesMap(w);rt.linkNodesAndEdges(D,w);var U=h.selected&&D["key-".concat(h.selected[E])]?D["key-".concat(h.selected[E])]:null,q=h.selected&&z["".concat(h.selected.source,"_").concat(h.selected.target)]?z["".concat(h.selected.source,"_").concat(h.selected.target)]:null;return p.nodes.length===0&&h.layoutEngineType&&nr[h.layoutEngineType]&&(N=new nr[h.layoutEngineType](h).adjustNodes(N,D)),{componentUpToDate:!0,edges:w,edgesMap:z,nodes:N,nodesMap:D,readOnly:h.readOnly,selectedEdgeObj:{edge:q?q.edge:null},selectedNodeObj:{nodeId:U?h.selected[E]:null,node:U?U.node:null},selectionChanged:!1}}}]),ss(l,[{key:"componentDidMount",value:function(){var h=this,p=this.props,w=p.initialBBox,E=p.zoomDelay,N=p.minZoom,D=p.maxZoom;if(document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("mousedown",this.handleDocumentClick,{capture:!0,passive:!0}),this.zoom=function(){var z,U,q=al,H=sl,$=ll,ee=ul,te=cl,ie=[0,1/0],se=[[-1/0,-1/0],[1/0,1/0]],he=250,xe=ol,ge=g("start","zoom","end"),Ee=500,Se=0;function Ae(oe){oe.property("__zoom",Oa).on("wheel.zoom",Re).on("mousedown.zoom",ye).on("dblclick.zoom",He).filter(te).on("touchstart.zoom",De).on("touchmove.zoom",ot).on("touchend.zoom touchcancel.zoom",ht).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Ye(oe,we){return(we=Math.max(ie[0],Math.min(ie[1],we)))===oe.k?oe:new Gt(we,oe.x,oe.y)}function qe(oe,we,Me){var je=we[0]-Me[0]*oe.k,Pe=we[1]-Me[1]*oe.k;return je===oe.x&&Pe===oe.y?oe:new Gt(oe.k,je,Pe)}function ve(oe){return[(+oe[0][0]+ +oe[1][0])/2,(+oe[0][1]+ +oe[1][1])/2]}function Ce(oe,we,Me){oe.on("start.zoom",function(){fe(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){fe(this,arguments).end()}).tween("zoom",function(){var je=this,Pe=arguments,Ke=fe(je,Pe),Qe=H.apply(je,Pe),vt=Me==null?ve(Qe):typeof Me=="function"?Me.apply(je,Pe):Me,Nt=Math.max(Qe[1][0]-Qe[0][0],Qe[1][1]-Qe[0][1]),nt=je.__zoom,ct=typeof we=="function"?we.apply(je,Pe):we,Ge=xe(nt.invert(vt).concat(Nt/nt.k),ct.invert(vt).concat(Nt/ct.k));return function(lt){if(lt===1)lt=ct;else{var Kt=Ge(lt),rn=Nt/Kt[2];lt=new Gt(rn,vt[0]-Kt[0]*rn,vt[1]-Kt[1]*rn)}Ke.zoom(null,lt)}})}function fe(oe,we,Me){return!Me&&oe.__zooming||new de(oe,we)}function de(oe,we){this.that=oe,this.args=we,this.active=0,this.extent=H.apply(oe,we),this.taps=0}function Re(){if(q.apply(this,arguments)){var oe=fe(this,arguments),we=this.__zoom,Me=Math.max(ie[0],Math.min(ie[1],we.k*Math.pow(2,ee.apply(this,arguments)))),je=kt(this);if(oe.wheel)oe.mouse[0][0]===je[0]&&oe.mouse[0][1]===je[1]||(oe.mouse[1]=we.invert(oe.mouse[0]=je)),clearTimeout(oe.wheel);else{if(we.k===Me)return;oe.mouse=[je,we.invert(je)],Ar(this),oe.start()}tr(),oe.wheel=setTimeout(Pe,150),oe.zoom("mouse",$(qe(Ye(we,Me),oe.mouse[0],oe.mouse[1]),oe.extent,se))}function Pe(){oe.wheel=null,oe.end()}}function ye(){if(!U&&q.apply(this,arguments)){var oe=fe(this,arguments,!0),we=pt(_e.view).on("mousemove.zoom",Ke,!0).on("mouseup.zoom",Qe,!0),Me=kt(this),je=_e.clientX,Pe=_e.clientY;di(_e.view),No(),oe.mouse=[Me,this.__zoom.invert(Me)],Ar(this),oe.start()}function Ke(){if(tr(),!oe.moved){var vt=_e.clientX-je,Nt=_e.clientY-Pe;oe.moved=vt*vt+Nt*Nt>Se}oe.zoom("mouse",$(qe(oe.that.__zoom,oe.mouse[0]=kt(oe.that),oe.mouse[1]),oe.extent,se))}function Qe(){we.on("mousemove.zoom mouseup.zoom",null),yi(_e.view,oe.moved),tr(),oe.end()}}function He(){if(q.apply(this,arguments)){var oe=this.__zoom,we=kt(this),Me=oe.invert(we),je=oe.k*(_e.shiftKey?.5:2),Pe=$(qe(Ye(oe,je),we,Me),H.apply(this,arguments),se);tr(),he>0?pt(this).transition().duration(he).call(Ce,Pe,we):pt(this).call(Ae.transform,Pe)}}function De(){if(q.apply(this,arguments)){var oe,we,Me,je,Pe=_e.touches,Ke=Pe.length,Qe=fe(this,arguments,_e.changedTouches.length===Ke);for(No(),we=0;we<Ke;++we)Me=Pe[we],je=[je=no(this,Pe,Me.identifier),this.__zoom.invert(je),Me.identifier],Qe.touch0?Qe.touch1||Qe.touch0[2]===je[2]||(Qe.touch1=je,Qe.taps=0):(Qe.touch0=je,oe=!0,Qe.taps=1+!!z);z&&(z=clearTimeout(z)),oe&&(Qe.taps<2&&(z=setTimeout(function(){z=null},Ee)),Ar(this),Qe.start())}}function ot(){if(this.__zooming){var oe,we,Me,je,Pe=fe(this,arguments),Ke=_e.changedTouches,Qe=Ke.length;for(tr(),z&&(z=clearTimeout(z)),Pe.taps=0,oe=0;oe<Qe;++oe)we=Ke[oe],Me=no(this,Ke,we.identifier),Pe.touch0&&Pe.touch0[2]===we.identifier?Pe.touch0[0]=Me:Pe.touch1&&Pe.touch1[2]===we.identifier&&(Pe.touch1[0]=Me);if(we=Pe.that.__zoom,Pe.touch1){var vt=Pe.touch0[0],Nt=Pe.touch0[1],nt=Pe.touch1[0],ct=Pe.touch1[1],Ge=(Ge=nt[0]-vt[0])*Ge+(Ge=nt[1]-vt[1])*Ge,lt=(lt=ct[0]-Nt[0])*lt+(lt=ct[1]-Nt[1])*lt;we=Ye(we,Math.sqrt(Ge/lt)),Me=[(vt[0]+nt[0])/2,(vt[1]+nt[1])/2],je=[(Nt[0]+ct[0])/2,(Nt[1]+ct[1])/2]}else{if(!Pe.touch0)return;Me=Pe.touch0[0],je=Pe.touch0[1]}Pe.zoom("touch",$(qe(we,Me,je),Pe.extent,se))}}function ht(){if(this.__zooming){var oe,we,Me=fe(this,arguments),je=_e.changedTouches,Pe=je.length;for(No(),U&&clearTimeout(U),U=setTimeout(function(){U=null},Ee),oe=0;oe<Pe;++oe)we=je[oe],Me.touch0&&Me.touch0[2]===we.identifier?delete Me.touch0:Me.touch1&&Me.touch1[2]===we.identifier&&delete Me.touch1;if(Me.touch1&&!Me.touch0&&(Me.touch0=Me.touch1,delete Me.touch1),Me.touch0)Me.touch0[1]=this.__zoom.invert(Me.touch0[0]);else if(Me.end(),Me.taps===2){var Ke=pt(this).on("dblclick.zoom");Ke&&Ke.apply(this,arguments)}}}return Ae.transform=function(oe,we,Me){var je=oe.selection?oe.selection():oe;je.property("__zoom",Oa),oe!==je?Ce(oe,we,Me):je.interrupt().each(function(){fe(this,arguments).start().zoom(null,typeof we=="function"?we.apply(this,arguments):we).end()})},Ae.scaleBy=function(oe,we,Me){Ae.scaleTo(oe,function(){return this.__zoom.k*(typeof we=="function"?we.apply(this,arguments):we)},Me)},Ae.scaleTo=function(oe,we,Me){Ae.transform(oe,function(){var je=H.apply(this,arguments),Pe=this.__zoom,Ke=Me==null?ve(je):typeof Me=="function"?Me.apply(this,arguments):Me,Qe=Pe.invert(Ke),vt=typeof we=="function"?we.apply(this,arguments):we;return $(qe(Ye(Pe,vt),Ke,Qe),je,se)},Me)},Ae.translateBy=function(oe,we,Me){Ae.transform(oe,function(){return $(this.__zoom.translate(typeof we=="function"?we.apply(this,arguments):we,typeof Me=="function"?Me.apply(this,arguments):Me),H.apply(this,arguments),se)})},Ae.translateTo=function(oe,we,Me,je){Ae.transform(oe,function(){var Pe=H.apply(this,arguments),Ke=this.__zoom,Qe=je==null?ve(Pe):typeof je=="function"?je.apply(this,arguments):je;return $(ko.translate(Qe[0],Qe[1]).scale(Ke.k).translate(typeof we=="function"?-we.apply(this,arguments):-we,typeof Me=="function"?-Me.apply(this,arguments):-Me),Pe,se)},je)},de.prototype={start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(oe,we){return this.mouse&&oe!=="mouse"&&(this.mouse[1]=we.invert(this.mouse[0])),this.touch0&&oe!=="touch"&&(this.touch0[1]=we.invert(this.touch0[0])),this.touch1&&oe!=="touch"&&(this.touch1[1]=we.invert(this.touch1[0])),this.that.__zoom=we,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(oe){tn(new il(Ae,oe,this.that.__zoom),ge.apply,ge,[oe,this.that,this.args])}},Ae.wheelDelta=function(oe){return arguments.length?(ee=typeof oe=="function"?oe:Lr(+oe),Ae):ee},Ae.filter=function(oe){return arguments.length?(q=typeof oe=="function"?oe:Lr(!!oe),Ae):q},Ae.touchable=function(oe){return arguments.length?(te=typeof oe=="function"?oe:Lr(!!oe),Ae):te},Ae.extent=function(oe){return arguments.length?(H=typeof oe=="function"?oe:Lr([[+oe[0][0],+oe[0][1]],[+oe[1][0],+oe[1][1]]]),Ae):H},Ae.scaleExtent=function(oe){return arguments.length?(ie[0]=+oe[0],ie[1]=+oe[1],Ae):[ie[0],ie[1]]},Ae.translateExtent=function(oe){return arguments.length?(se[0][0]=+oe[0][0],se[1][0]=+oe[1][0],se[0][1]=+oe[0][1],se[1][1]=+oe[1][1],Ae):[[se[0][0],se[0][1]],[se[1][0],se[1][1]]]},Ae.constrain=function(oe){return arguments.length?($=oe,Ae):$},Ae.duration=function(oe){return arguments.length?(he=+oe,Ae):he},Ae.interpolate=function(oe){return arguments.length?(xe=oe,Ae):xe},Ae.on=function(){var oe=ge.on.apply(ge,arguments);return oe===ge?Ae:oe},Ae.clickDistance=function(oe){return arguments.length?(Se=(oe=+oe)*oe,Ae):Math.sqrt(Se)},Ae}().filter(this.zoomFilter).scaleExtent([N||0,D||0]).on("start",function(){h.handleZoomStart(_e)}).on("zoom",function(){h.handleZoom(_e)}).on("end",this.handleZoomEnd),pt(this.viewWrapper.current).on("touchstart",this.containZoom).on("touchmove",this.containZoom).on("click",this.handleSvgClicked).on("contextmenu",this.handleContextmenu).select("svg").call(this.zoom),pt(this.graphSvg.current).on("mousedown",this.handleDocumentMouseDown).on("mousemove",this.handleDocumentMouseMove),this.selectedView=pt(this.view),w)return this.handleZoomToFitImpl(w,0),void this.renderView();this.renderView(),setTimeout(function(){h.viewWrapper.current!=null&&h.handleZoomToFit()},E)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("click",this.handleDocumentClick)}},{key:"shouldComponentUpdate",value:function(h,p){var w=this.props,E=w.nodes,N=w.edges,D=w.selected,z=w.selectedNodes,U=w.selectedEdges,q=w.readOnly,H=w.layoutEngineType,$=w.allowMultiselect,ee=this.state.selectionEnd;return h.nodes!==E||h.edges!==N||!p.componentUpToDate||h.selected!==D||h.selectedNodes!==z||h.selectedEdges!==U||h.readOnly!==q||h.layoutEngineType!==H||h.allowMultiselect!==$||!rt.isEqual(p.selectionEnd,ee)}},{key:"componentDidUpdate",value:function(h,p){var w=this.state,E=w.nodesMap,N=w.edgesMap,D=w.selectedNodeObj,z=w.selectedEdgeObj,U=this.props.allowMultiselect;this.layoutEngineAdjustNodes();var q=this.hasLayoutEngine();this.removeOldEdges(p.edges,N),this.removeOldNodes(p.nodes,p.nodesMap,E),this.addNewNodes(this.state.nodes,p.nodesMap,D,p.selectedNodeObj,q),this.addNewEdges(this.state.edges,p.edgesMap,z,p.selectedEdgeObj,q),h.allowMultiselect!==U&&this.renderGraphControls(),this.setState({componentUpToDate:!0})}},{key:"hasLayoutEngine",value:function(){var h=this.props.layoutEngineType;return!(!h||!nr[h])}},{key:"layoutEngineAdjustNodes",value:function(){var h=this.props.layoutEngineType,p=this.state,w=p.nodes,E=p.nodesMap;if(w&&h&&this.hasLayoutEngine()){this.layoutEngine=new nr[h](this.props);var N=this.layoutEngine.adjustNodes(w,E);this.setState({nodes:N})}}},{key:"getNodeById",value:function(h,p){var w=p||this.state.nodesMap;return w?w["key-".concat(h??"")]:null}},{key:"getEdgeBySourceTarget",value:function(h,p){return this.state.edgesMap?this.state.edgesMap["".concat(h,"_").concat(p)]:null}},{key:"deleteEdgeBySourceTarget",value:function(h,p){this.state.edgesMap&&this.state.edgesMap["".concat(h,"_").concat(p)]&&delete this.state.edgesMap["".concat(h,"_").concat(p)]}},{key:"addNewNodes",value:function(h,p,w,E){var N=this,D=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(!this.state.draggingEdge){var z=this.props.nodeKey,U=null,q=null;rt.yieldingLoop(h.length,50,function(H){U=h[H],(q=N.getNodeById(U[z],p))!=null&&(!rt.isEqual(q.node,U)||w.node!==E.node&&(w.node&&U[z]===w.node[z]||E.node&&U[z]===E.node[z]))?N.asyncRenderNode(U):!D&&q||N.asyncRenderNode(U)})}}},{key:"removeOldNodes",value:function(h,p,w){for(var E=this,N=this.props.nodeKey,D=0;D<h.length;D++){var z=h[D][N];if(!this.getNodeById(z,w)){var U=this.getNodeById(z,p);U&&(U.outgoingEdges.forEach(function(H){E.removeEdgeElement(H.source,H.target)}),U.incomingEdges.forEach(function(H){E.removeEdgeElement(H.source,H.target)}));var q="nodes-".concat(z);cancelAnimationFrame(this.nodeTimeouts[q]),rt.removeElementFromDom("node-".concat(z,"-container"),this.viewWrapper.current)}}}},{key:"addNewEdges",value:function(h,p,w,E){var N=this,D=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(!this.state.draggingEdge){var z=null;rt.yieldingLoop(h.length,50,function(U){if((z=h[U]).source!=null&&!z.target!=null){var q=p["".concat(z.source,"_").concat(z.target)];(D||!q||!rt.isEqual(q.edge,z)||w.edge&&z===w.edge||E.edge&&E.edge)&&N.asyncRenderEdge(z)}})}}},{key:"removeEdgeElement",value:function(h,p){var w="".concat(h,"-").concat(p);rt.removeElementFromDom("edge-".concat(w,"-container"),this.viewWrapper.current)}},{key:"canSwap",value:function(h,p,w){var E=this.props.canSwapEdge;return p&&h!==p&&(w.source!==h[this.props.nodeKey]||w.target!==p[this.props.nodeKey])&&E&&E(h,p,w)}},{key:"deleteNode",value:function(h){var p=this,w=this.props,E=w.nodeKey,N=w.onSelectNode,D=w.onSelectEdge,z=w.onSelect,U=w.onDeleteNode,q=this.state.nodes,H=h[E],$=this.getNodeById(H),ee=q.filter(function(te){return te[E]!==H});this.setState({componentUpToDate:!1,hoveredNode:!1}),rt.removeElementFromDom("node-".concat(H,"-container"),this.viewWrapper.current),$.incomingEdges.forEach(function(te){p.deleteEdge(te)}),$.outgoingEdges.forEach(function(te){p.deleteEdge(te)}),U&&U(h,H,ee),N&&N(null),D&&D(null),z&&z({nodes:new Set,edges:new Set})}},{key:"deleteEdge",value:function(h){var p=this.state.edges,w=this.props.onDeleteEdge;if(h.source!=null&&h.target!=null){var E=p.filter(function(N){return!(N.source===h.source&&N.target===h.target)});h.source!=null&&h.target!=null&&this.deleteEdgeBySourceTarget(h.source,h.target),this.setState({componentUpToDate:!1,edges:E}),h.source!=null&&h.target!=null&&(rt.removeElementFromDom("edge-".concat(h.source,"-").concat(h.target,"-custom-container"),this.viewWrapper.current),rt.removeElementFromDom("edge-".concat(h.source,"-").concat(h.target,"-container"),this.viewWrapper.current)),w&&w(h,E)}}},{key:"isPartOfEdge",value:function(h){return!!rt.findParent(h,".edge-container","svg.graph")}},{key:"createNewEdge",value:function(){var h=this.props,p=h.canCreateEdge,w=h.nodeKey,E=h.onCreateEdge,N=this.state,D=N.edgesMap,z=N.edgeEndNode,U=N.hoveredNodeData;if(U&&(this.removeCustomEdge(),z)){var q="".concat(U[w],"_").concat(z[w]),H="".concat(z[w],"_").concat(U[w]);D&&U!==z&&p&&p(U,z)&&!D[q]&&!D[H]?(this.endDragEdge(),E&&E(U,z)):this.endDragEdge({edgeEndNode:null})}}},{key:"isArrowClicked",value:function(h){var p=this.props,w=p.edgeArrowSize,E=p.onArrowClicked,N=_e.sourceEvent.target,D=w||0;if(!h||N.tagName!=="path")return!1;var z=kt(N);if(h.target==null)return!1;var U=z[0],q=z[1],H=function($){var ee={source:{x:0,y:0},target:{x:0,y:0}};if($){var te=$.getAttribute("d"),ie=(te=(te=te&&te.replace(/^M/,""))&&te.replace(/L/,","))&&te.split(",")||[];(ie=ie.map(function(se){return parseFloat(se)})).length===4&&(ee.source.x=ie[0],ee.source.y=ie[1],ee.target.x=ie[2],ee.target.y=ie[3])}return ee}(function($,ee){return ee.querySelector("[id='edge-".concat($.source,"-").concat($.target,"-container']>.edge-container>.edge>.edge-path"))}(h,this.viewWrapper.current));return E&&U<H.target.x+D&&U>H.target.x-D&&q<H.target.y+D&&q>H.target.y-D&&E(h),U<H.target.x+D&&U>H.target.x-D&&q<H.target.y+D&&q>H.target.y-D}},{key:"zoomFilter",value:function(){return!_e.button&&!_e.ctrlKey}},{key:"containZoom",value:function(){(_e.button||_e.ctrlKey)&&_e.stopImmediatePropagation()}},{key:"getMouseCoordinates",value:function(h){var p=[0,0];return this.selectedView&&h&&(p=h(this.selectedView.node())),p}},{key:"dragEdge",value:function(h,p){var w=this.props,E=w.nodeSize,N=w.nodeKey;if(h=h||this.state.draggedEdge){var D=this.getMouseCoordinates(p),z={x:D[0],y:D[1]},U=Dr(E,this.getNodeById(h.source).node,z,N);z.x+=U.xOff,z.y+=U.yOff,this.syncRenderEdge({source:h.source,targetPosition:z}),this.setState({draggedEdge:h,draggingEdge:!0})}}},{key:"setZoom",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,N=ko.translate(p,w).scale(h);pt(this.viewWrapper.current).select("svg").transition().duration(E).call(this.zoom.transform,N)}},{key:"renderView",value:function(){this.selectedView.attr("transform",this.state.viewTransform),clearTimeout(this.renderNodesTimeout),this.renderNodesTimeout=setTimeout(this.renderNodes)}},{key:"asyncRenderNode",value:function(h){var p=this,w=this.props.nodeKey,E="nodes-".concat(h[w]);cancelAnimationFrame(this.nodeTimeouts[E]),this.nodeTimeouts[E]=requestAnimationFrame(function(){p.syncRenderNode(h)})}},{key:"syncRenderNode",value:function(h){var p=this.props.nodeKey,w="node-".concat(h[p]),E=this.getNodeComponent(w,h),N=this.getNodeById(h[p]);this.renderNode(w,E),N&&this.renderConnectedEdgesFromNode(N)}},{key:"renderNode",value:function(h,p){if(!this.entities)return null;var w="".concat(h,"-container"),E=this.viewWrapper.current.querySelector("[id='".concat(w,"']"));E||((E=document.createElementNS("http://www.w3.org/2000/svg","g")).id=w,this.entities.appendChild(E));var N=p;So.a.render(N,E)}},{key:"renderConnectedEdgesFromNode",value:function(h){var p=this,w=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.state.draggingEdge||(h.incomingEdges.forEach(function(E){p.asyncRenderEdge(E,w)}),h.outgoingEdges.forEach(function(E){p.asyncRenderEdge(E,w)}))}},{key:"syncRenderEdge",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(h.source!=null){var w=h.target!=null?"".concat(h.source,"-").concat(h.target):"custom",E="edge-".concat(w),N=this.getEdgeComponent(h);this.renderEdge(E,N,h,p)}}},{key:"renderGraphControls",value:function(){var h=this.props,p=h.showGraphControls,w=h.minZoom,E=h.maxZoom,N=h.allowMultiselect,D=this.state.viewTransform;p&&this.graphControlsWrapper&&So.a.render(Oe.createElement(of,{minZoom:w,maxZoom:E,zoomLevel:D?D.k:1,zoomToFit:this.handleZoomToFit,modifyZoom:this.modifyZoom,allowMultiselect:N}),this.graphControlsWrapper)}},{key:"render",value:function(){var h=this,p=this.props,w=p.edgeArrowSize,E=p.gridSpacing,N=p.gridDotSize,D=p.nodeTypes,z=p.nodeSubtypes,U=p.edgeTypes,q=p.showGraphControls,H=p.renderDefs,$=p.gridSize,ee=p.backgroundFillId,te=p.renderBackground,ie=this.state,se=ie.selectionStart,he=ie.selectionEnd;return Oe.createElement("div",{className:"view-wrapper",ref:this.viewWrapper},Oe.createElement("svg",{className:"graph",ref:this.graphSvg,xmlns:"http://www.w3.org/2000/svg"},Oe.createElement(Il,{edgeArrowSize:w,gridSpacing:E,gridDotSize:N,nodeTypes:D,nodeSubtypes:z,edgeTypes:U,renderDefs:H}),Oe.createElement("g",{className:"view",ref:function(xe){return h.view=xe}},Oe.createElement(Pl,{gridSize:$,backgroundFillId:ee,renderBackground:te}),Oe.createElement("g",{className:"entities",ref:function(xe){return h.entities=xe}}),se&&Oe.createElement(af,{ref:this.highlightAreaRef,startPoint:se,endPoint:he}))),q&&Oe.createElement("div",{id:"react-digraph-graph-controls-wrapper",ref:function(xe){return h.graphControlsWrapper=xe},className:"graph-controls-wrapper"}))}},{key:"panToEntity",value:function(h,p){var w=this.state.viewTransform,E=this.viewWrapper.current,N=h?h.getBBox():null,D=this.props.maxZoom||2;if(E&&N){var z=E.clientWidth,U=E.clientHeight,q={k:w?w.k:0,x:0,y:0},H=N.x+N.width/2,$=N.y+N.height/2;p&&(q.k=.9/Math.max(N.width/z,N.height/U),q.k>D&&(q.k=D)),q.x=z/2-q.k*H,q.y=U/2-q.k*$,this.setZoom(q.k,q.x,q.y,this.props.zoomDur)}}},{key:"panToNode",value:function(h){var p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.entities){var w=this.entities.querySelector("[id='node-".concat(h,"-container']"));this.panToEntity(w,p)}}},{key:"panToEdge",value:function(h,p){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this.entities){var E=this.entities.querySelector("[id='edge-".concat(h,"-").concat(p,"-container']"));this.panToEntity(E,w)}}}]),l}(Oe.Component);Ie(cs,"defaultProps",{canCreateEdge:function(e,t){return!0},canSwapEdge:function(){return!0},canDeleteEdge:function(){return!0},canDeleteNode:function(){return!0},allowMultiselect:!1,edgeArrowSize:8,gridSpacing:36,layoutEngineType:"None",maxZoom:1.5,minZoom:.15,nodeSize:154,nodeWidth:154,nodeHeight:154,readOnly:!1,showGraphControls:!0,zoomDelay:1e3,zoomDur:750,rotateEdgeHandle:!0,centerNodeOnMove:!0});var ls=cs;function fs(e,t){for(var l=0;l<t.length;l++){var h=t[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}}function hs(e){return(hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ps(e,t){for(var l=0;l<t.length;l++){var h=t[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}}function ds(e,t){return(ds=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l})(e,t)}function pf(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var l,h=qo(e);if(t){var p=qo(this).constructor;l=Reflect.construct(h,arguments,p)}else l=h.apply(this,arguments);return df(this,l)}}function df(e,t){return!t||hs(t)!=="object"&&typeof t!="function"?function(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(e):t}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yf=function(e){(function(E,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),N&&ds(E,N)})(w,e);var t,l,h,p=pf(w);function w(){return hf(this,w),p.apply(this,arguments)}return t=w,h=[{key:"transform",value:function(E){if(!E.States)return{edges:[],nodes:[]};var N=Object.keys(E.States),D=[],z=[];return N.forEach(function(U){var q=E.States[U];if(q){var H={title:U,type:q.Type,x:q.x||0,y:q.y||0};U===E.StartAt?D.unshift(H):D.push(H),q.Type==="Choice"?(q.Choices.forEach(function($){E.States[$.Next]&&z.push({source:U,target:$.Next})}),q.Default&&z.push({source:U,target:q.Default})):q.Next&&E.States[q.Next]&&z.push({source:U,target:q.Next})}}),{edges:z,nodes:D}}},{key:"revert",value:function(E){return E}}],(l=null)&&ps(t.prototype,l),h&&ps(t,h),w}(function(){function e(){(function(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")})(this,e)}var t,l,h;return t=e,h=[{key:"transform",value:function(p){return{edges:[],nodes:[]}}},{key:"revert",value:function(p){return p}}],(l=null)&&fs(t.prototype,l),h&&fs(t,h),e}());L.default=ls}]);const ti={NodeTypes:{empty:{typeText:"Process Element",shapeId:"#empty",shape:ce("symbol",{viewBox:"0 0 100 100",id:"empty",children:ce("circle",{cx:"50",cy:"50",r:"45"})},"0")},start:{typeText:"START",shapeId:"#start",shape:ce("symbol",{viewBox:"0 0 100 100",id:"start",children:ce("circle",{strokeWidth:"3px",stroke:"blue",cx:"50",cy:"50",r:"45"})},"0")},end:{typeText:"END",shapeId:"#end",shape:ce("symbol",{viewBox:"0 0 100 100",id:"end",children:ce("circle",{strokeWidth:"3px",stroke:"green",cx:"50",cy:"50",r:"45"})},"0")},is_reminder:{typeText:"CRON",shapeId:"#is_reminder",shape:ce("symbol",{viewBox:"0 0 100 100",id:"is_reminder",children:ce("circle",{strokeWidth:"3px",stroke:"purple",cx:"50",cy:"50",r:"30"})},"0")},custom:{typeText:"Custom",shapeId:"#custom",shape:ce("symbol",{viewBox:"0 0 50 25",id:"custom",children:ce("ellipse",{cx:"50",cy:"25",rx:"50",ry:"25"})},"0")},func:{typeText:"Function",shapeId:"#func",shape:ce("symbol",{viewBox:"0 0 100 100",id:"func",children:ce("circle",{strokeWidth:"3px",fill:"yellow",stroke:"yellow",cx:"50",cy:"50",r:"30"})},"0")}},NodeSubtypes:{},EdgeTypes:{rejectEdge:{shapeId:"#rejectEdge",shape:ce("symbol",{viewBox:"0 0 50 50",id:"rejectEdge",children:ce("circle",{cx:"25",cy:"25",r:"8",fill:"red",children:" "})},"0")},acceptEdge:{shapeId:"#acceptEdge",shape:ce("symbol",{viewBox:"0 0 50 50",id:"acceptEdge",children:ce("circle",{cx:"25",cy:"25",r:"8",fill:"green",children:" "})},"0")},autoRunEdge:{shapeId:"#autoRunEdge",shape:ce("symbol",{viewBox:"0 0 50 50",id:"autoRunEdge",children:ce("circle",{cx:"25",cy:"25",r:"8",fill:"blue",children:" "})},"0")},reminderEdgeAccept:{shapeId:"#reminderEdgeAccept",shape:ce("symbol",{viewBox:"0 0 50 50",id:"reminderEdgeAccept",children:ce("circle",{cx:"25",cy:"25",r:"8",fill:"#0f0",children:" "})},"0")},reminderEdgeEmpty:{shapeId:"#reminderEdgeEmpty",shape:ce("symbol",{viewBox:"0 0 50 50",id:"reminderEdgeEmpty",children:ce("circle",{cx:"25",cy:"25",r:"8",fill:"#fff",children:" "})},"0")},reminderEdgeReject:{shapeId:"#reminderEdgeReject",shape:ce("symbol",{viewBox:"0 0 50 50",id:"reminderEdgeReject",children:ce("circle",{cx:"25",cy:"25",r:"8",fill:"#f00",children:" "})},"0")},emptyEdge:{shapeId:"#emptyEdge",shape:ce("symbol",{viewBox:"0 0 50 50",id:"emptyEdge",children:ce("circle",{cx:"25",cy:"25",r:"8",fill:"white",children:"DUPAAA"})},"0")},hasReminderEdge:{shapeId:"#hasReminderEdge",shape:ce("symbol",{viewBox:"0 0 50 50",id:"hasReminderEdge",children:ce("circle",{cx:"25",cy:"25",r:"8",fill:"purple",children:" "})},"0")}}};function vh({currentEdge:x}){const{actions:{deleteEdge:L,upsertNodeState:o}}=Jt();Tn();const n=()=>{L({id:x.id})},a=()=>{o({...x,is_accept:!0})},r=()=>{o({...x,is_accept:!1})},u=()=>{o({...x,is_accept:null})};return ft(Ss,{id:"edge_id",ref:s=>s=s,children:[ce(vn,{onClick:n,children:"DELETE"}),x.is_accept!=null&&ce(vn,{onClick:u,children:"CHANGE TO UNDEFINED"}),x.is_accept!=!0&&ce(vn,{onClick:a,children:"CHANGE TO ACCEPT"}),x.is_accept!=!1&&ce(vn,{onClick:r,children:"CHANGE TO REJECT"})]})}const xh=({})=>({columns:[{titleToken:"ORDER",field:"sort_order"},{titleToken:"ACTION",field:"action_name",isActive:!0},{titleToken:"TYPE",field:"action_type",isActive:!0},{titleToken:"GROUP",field:"action_group",isActive:!0},{titleToken:"REF KEY",field:"ref_key",isActive:!0},{titleToken:"ON NEXT",type:"checkbox",field:"show_on_next",isActive:!0},{titleToken:"ON CURRENT",type:"checkbox",field:"show_on_current",isActive:!0},{titleToken:"USE PRIVS",field:"privilege",isActive:!0},{titleToken:"USE PRIV FUNCTION",type:"checkbox",field:"func",isActive:!0}],enableGrouping:!0,detailPanelPlugin:"mapps-process-action-details-preview"}),mh=({})=>({columns:[{titleToken:"ORDER",field:"sort_order"},{titleToken:"PROCESS",field:"process",isActive:!0},{titleToken:"PROCESS STEP",field:"process_step",isActive:!0},{titleToken:"BEFORE HOOK",type:"checkbox",field:"on_before_hook",isActive:!0},{titleToken:"AFTER HOOK",type:"checkbox",field:"on_after_hook",isActive:!0}]});function wh({processChain:x}){const L=Le.useMemo(st().Layouts.Sections.V1),o=Le.useMemo(st().FormComponents.DropDownList),n=Le.useMemo(st().ButtonLoader),{translate:a,getLabel:r}=mn(),{actions:{closeDialog:u}}=xn(),[s,c]=Le.useState(""),[f,d]=Le.useState({id:lr(),process_chain_id:x.id,process_id:x.process_id}),[g,m]=Le.useState(!1),{selectors:{actionsSelector:_}}=sn(),{actions:{upsertAction:R}}=Jt();function C(){return[{id:"",value:" "},..._.filter(I=>I.type==s)].map(I=>({id:I.id,value:I.action}))}function k(){const I={};return _.forEach(S=>{I[S.type]=S.type}),["",...Object.values(I)].map(S=>({id:S,value:S}))}function M(){f.action_id&&(m(!0),R(f).then(I=>{m(!1),u()}))}return ft(it,{container:!0,style:{width:"400px"},children:[ft(L,{container:!0,style:{justifyContent:"center"},title:"Add new action",children:[ce(o,{label:a(r,"Select Action Type"),valueOptions:k(),onChange:I=>c(I.target.value),field:"type",validation:[],value:s}),ce(o,{label:a(r,"Select Action"),disabled:!s,valueOptions:C(),onChange:I=>d({...f,action_id:I.target.value,action_privileges:[],action_type:_.find(S=>S.id==I.target.value).type,show_on_current:!1,show_on_next:!0}),field:"type",validation:[],value:f.action_id})]}),ce(it,{style:{marginLeft:"1rem",marginBottom:"1rem"},children:ce(n,{color:"primary",onClick:M,value:a(r,"Save"),variant:"outlined",isLoading:g})})]})}function bh({processChainActionId:x}){const L=Le.useMemo(st().Layouts.Sections.V1),o=Le.useMemo(st().FormComponents.DropDownList),n=Le.useMemo(st().ButtonLoader),a=Le.useMemo(st().FormComponents.TextBox),r=Le.useMemo(st().FormComponents.Checkbox),{translate:u,getLabel:s}=mn(),{actions:{closeDialog:c}}=xn();Le.useState("");const[f,d]=Le.useState(),[g,m]=Le.useState(!1),{selectors:{getProcessChainActionReducer:_},hooks:{setProcessChainActionId:R}}=Jt(),{selectors:{actionsSelector:C}}=sn();Le.useEffect(()=>{R(x)},[]),Le.useEffect(()=>{_&&(m(!0),d({..._}),setTimeout(S=>{m(!1)},100))},[_]);function k(){return[{id:"",value:" "},...C.filter(S=>S.type==f.action_type)].map(S=>({id:S.id,value:S.action}))}function M(){const S={};return C.forEach(P=>{S[P.type]=P.type}),["",...Object.values(S)].map(P=>({id:P,value:P}))}function I(){f.action_id&&(m(!0),upsertAction(f).then(S=>{m(!1),c()}))}return f&&ft(it,{container:!0,style:{width:"600px"},children:[ft(L,{container:!0,style:{justifyContent:"center"},title:"Edit action",children:[ce(o,{label:u(s,"Select Action Type"),valueOptions:M(),onChange:S=>d({...f,action_type:S.target.value}),field:"type",validation:[],disabled:!0,value:f.action_type}),ce(o,{label:u(s,"Select Action"),disabled:!f.action_type,valueOptions:k(),onChange:S=>d({...f,action_id:S.target.value}),field:"type",validation:[],value:f.action_id})]}),f.action_type=="VIEW"&&ft(L,{container:!0,style:{justifyContent:"center"},title:"References Keys/Group",children:[ce(a,{label:u(s,"Sort Ordering"),onChange:S=>d({...f,sort_order:S.target.value}),field:"sort_order",validation:[],value:f.sort_order}),ce(a,{label:u(s,"Reference Group Key"),onChange:S=>d({...f,action_group:S.target.value}),field:"action_group",validation:[],value:f.action_group}),ce(a,{label:u(s,"Reference Key"),onChange:S=>d({...f,ref_key:S.target.value}),field:"ref_key",validation:[],value:f.ref_key})]}),f.action_type=="VIEW"&&ft(L,{container:!0,style:{justifyContent:"center",display:"flex",flexDirection:"column"},title:"Trigger Flags",children:[ce(r,{label:u(s,"Show on current"),onChange:S=>d({...f,show_on_current:S.currentTarget.checked}),field:"show_on_current",validation:[],value:f.show_on_current}),ce(r,{label:u(s,"Show on next"),onChange:S=>d({...f,show_on_next:S.currentTarget.checked}),field:"show_on_next",validation:[],value:f.show_on_next})]}),ce(it,{style:{marginLeft:"1rem",marginBottom:"1rem"},children:ce(n,{color:"primary",onClick:I,value:u(s,"Save"),variant:"outlined",isLoading:g})})]})}function _h({chainModel:x,setProcessChain:L}){const o=Le.useMemo(st().Layouts.Table.V2),n=Le.useMemo(st().ButtonLoader),a=xn(),{translate:r,getLabel:u}=mn(),s=Le.useMemo(st().ConfirmationDialog),{actions:{removeAction:c}}=Jt(),{actions:{openDialog:f}}=xn(),{selectors:{actionsSelector:d,privsSelector:g}}=sn(),m=Le.useMemo(()=>x.process_chain_actions.filter(k=>k.action_id).map(k=>({...k,action_name:d.find(M=>M.id==k.action_id).action,privilege:k.action_privileges.map(M=>{const I=g.find(S=>S.id==M.privilege_id);return String(I.privilege).trim()}).join(", ")})),[x]);function _(){f(!0,ce(wh,{processChain:x}))}function R(k,M){f(!0,ce(bh,{processChainActionId:M.id}))}function C(k,M){a.actions.openDialog(!0,ce(s,{title:"Delete Action",description:"Do you want to delete this action?",onConfirm:async()=>{await c({id:M.id,process_id:x.process_id}),a.actions.closeDialog()}}))}return ce(it,{container:!0,style:{justifyContent:"center"},children:ce(o,{isLoading:!1,title:"Manage Process Actions",freeActions:[ce(n,{size:"small",value:r(u,"Add Process Action"),variant:"outlined",onClick:_,startIcon:ce(As,{})},1)],...xh({}),pageSize:20,data:m||[],actions:[k=>({icon:ni.Edit,label:"Edit Action",onClick:R,hidden:k.action_type=="MAIN_ACTION"}),k=>({icon:ni.Delete,label:"Delete Action",onClick:C,hidden:k.action_type=="MAIN_ACTION"})]})})}function Eh({chainModel:x,setProcessChain:L}){const[o,n]=Le.useState({...x});return Le.useEffect(()=>{L({...o})},[o]),ce(it,{container:!0,children:ce(Ef,{mode:"json",theme:"monokai",value:o.params,onChange:a=>{n({...o,params:a})},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12,width:"100%",height:"80vh"},showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:2}},1)})}function Ah({chainModel:x,setProcessChain:L}){const{translate:o,getLabel:n}=mn(),{lang:a}=Tn(),{selectors:{actionsSelector:r,statusesSelector:u}}=sn(),s=Le.useMemo(st().Layouts.Sections.V1),c=Le.useMemo(st().FormComponents.DropDownList),f=Le.useMemo(st().FormComponents.TextBox),d=Le.useMemo(st().FormComponents.Checkbox),[g,m]=Le.useState({...x});Le.useEffect(()=>{L({...g})},[g]);function _(){const C=r.filter(k=>g.is_start==!0?k.is_process_start:g.is_reminder?k.action.indexOf("cron")>0:k.type=="PROCESS"||k.as_process==1).sort((k,M)=>k.action>M.action?1:-1);return[{id:"",value:""},...C].map(k=>({id:k.id,value:k.action?k.action:k.id}))}function R(){const C=u.sort((k,M)=>k.translation&&M.translation&&k.translation[a]>M.translation[a]?1:-1);return[{id:"",value:""},...C].map(k=>({id:k.id,value:k.translation?k.translation[a]:k.id}))}return ft(ur,{children:[ce(s,{title:o(n,"Set Process Chain Main Action"),children:ce(c,{label:"Action",valueOptions:_(),value:g.action_id,onChange:C=>{m({...g,action_id:C.target.value})},field:"type"})}),ft(s,{title:o(n,"Process DB Persistent Flags"),children:[ce(it,{item:!0,xs:"6",children:ce(d,{label:o(n,"Invoke state only"),value:g.invoke_only,onChange:C=>m({...g,invoke_only:C.target.checked,change_status:C.target.checked?!1:g.change_status,is_start:C.target.checked?!1:g.is_start,is_last:C.target.checked?!1:g.is_last,is_autoclose_state:C.target.checked?!1:g.is_autoclose_state}),field:"invoke_only"})}),ce(it,{item:!0,xs:"6",children:ce(d,{label:o(n,"Use ElasticSearch, to improve performance"),value:g.use_es,onChange:C=>m({...g,use_es:C.target.checked}),field:"use_es"})})]}),ft(s,{title:o(n,"Process State Type"),children:[ce(it,{item:!0,xs:"3",children:ce(d,{renderType:"radio",label:o(n,"Status"),value:g.change_status,disabled:g.invoke_only,onChange:C=>m({...g,change_status:C.target.checked,is_reminder:C.target.checked?!1:g.is_reminder,is_condition:C.target.checked?!1:g.is_condition}),field:"change_status"})}),ce(it,{item:!0,xs:"3",children:ce(d,{renderType:"radio",label:o(n,"Function"),value:!g.is_reminder&&!g.is_condition&&!g.change_status,onChange:C=>m({...g,is_reminder:C.target.checked?!1:g.is_reminder,is_condition:C.target.checked?!1:g.is_condition,change_status:C.target.checked?!1:g.change_status,is_autoclose_state:C.target.checked?!1:g.is_autoclose_state,is_start:C.target.checked?!1:g.is_start,is_last:C.target.checked?!1:g.is_last,autorun:C.target.checked?!1:g.autorun,has_reminder:C.target.checked?!1:g.has_reminder,status_id:C.target.checked?"":g.status_id}),field:"function"})}),ce(it,{item:!0,xs:"3",children:ce(d,{renderType:"radio",label:o(n,"Reminder"),value:g.is_reminder,onChange:C=>m({...g,is_reminder:C.target.checked,is_condition:C.target.checked?!1:g.is_condition,change_status:C.target.checked?!1:g.change_status,is_autoclose_state:C.target.checked?!1:g.is_autoclose_state,is_start:C.target.checked?!1:g.is_start,is_last:C.target.checked?!1:g.is_last,autorun:C.target.checked?!1:g.autorun,has_reminder:C.target.checked?!1:g.has_reminder,status_id:C.target.checked?"":g.status_id}),field:"is_reminder"})}),ce(it,{item:!0,xs:"3",children:ce(d,{renderType:"radio",label:o(n,"Condition"),value:g.is_condition,onChange:C=>m({...g,is_condition:C.target.checked,is_reminder:C.target.checked?!1:g.is_reminder,change_status:C.target.checked?!1:g.change_status,is_autoclose_state:C.target.checked?!1:g.is_autoclose_state,is_start:C.target.checked?!1:g.is_start,is_last:C.target.checked?!1:g.is_last,status_id:C.target.checked?"":g.status_id}),field:"is_condition"})})]}),!g.is_reminder&&ft(s,{title:o(n,"Process Trigger Handle Flags"),children:[ce(it,{item:!0,xs:"6",children:ce(d,{label:o(n,"Autorun"),value:g.autorun,onChange:C=>m({...g,autorun:C.target.checked}),field:"autorun"})}),ce(it,{item:!0,xs:"6",children:ce(d,{label:o(n,"Has reminder"),value:g.has_reminder,onChange:C=>m({...g,has_reminder:C.target.checked}),field:"has_reminder"})})]}),g.change_status&&ft(s,{title:o(n,"Process State Status Settings"),children:[ce(it,{item:!0,xs:"12",children:ce(c,{label:"Status",valueOptions:R(),value:g.status_id,onChange:C=>{m({...g,status_id:C.target.value})},field:"type"})}),ce(it,{item:!0,xs:"4",children:ce(d,{label:o(n,"Is start state"),value:g.is_start,onChange:C=>m({...g,is_start:C.target.checked}),field:"is_start"})}),ce(it,{item:!0,xs:"4",children:ce(d,{label:o(n,"Is last state"),value:g.is_last,onChange:C=>m({...g,is_last:C.target.checked,is_autoclose_state:C.target.checked?!1:g.is_autoclose_state}),field:"is_last"})}),ce(it,{item:!0,xs:"4",children:g.is_last&&ce(d,{label:o(n,"Auto close state"),value:g.is_autoclose_state,onChange:C=>m({...g,is_autoclose_state:C.target.checked}),field:"is_autoclose_state"})})]}),g.is_reminder&&ft(s,{title:o(n,"Reminder Settings"),children:[ce(f,{label:"Start trigger reminder before (x) days or count (x) days",value:g.in_days,onChange:C=>{m({...g,in_days:C.target.value})}}),ce(f,{label:"Reminder Cron",value:g.reminder_cron,onChange:C=>{m({...g,reminder_cron:C.target.value})}})]})]})}function Mh({processChain:x}){const L=Le.useMemo(st().Layouts.Sections.V1),o=Le.useMemo(st().FormComponents.DropDownList),n=Le.useMemo(st().ButtonLoader),{translate:a,getLabel:r}=mn(),{actions:{closeDialog:u}}=xn(),[s,c]=Le.useState({id:lr(),action_type:"PROCESS",action_id:void 0,show_on_current:!1,show_on_next:!0,process_chain_id:x.id,process_id:x.process_id,external_process_id:void 0,external_process_chain_id:void 0,on_before_hook:!1,on_after_hook:!0,action_privileges:[]}),{lang:f}=Tn(),[d,g]=Le.useState(!1),{selectors:{statusesSelector:m,processesSelector:_}}=sn(),{actions:{upsertAction:R}}=Jt();function C(){const I=_.find(S=>S.id==s.external_process_id);return I?[...I.process_chain.filter(S=>S.is_start)].map(S=>{const P=m.find(v=>v.id==S.status_id);return{id:S.id,value:`[${S.id.split("-")[0]}] - `+(P&&P.translation[f])}}):[]}function k(){return["",..._].map(I=>({id:I.id,value:I.token}))}function M(){s.external_process_chain_id&&(g(!0),R(s).then(I=>{g(!1),u()}))}return ft(it,{container:!0,style:{width:"400px"},children:[ft(L,{container:!0,style:{justifyContent:"center"},title:"Add new action",children:[ce(o,{label:a(r,"Select External Process"),valueOptions:k(),onChange:I=>{const P=_.find(v=>v.id==I.target.value).process_chain.find(v=>v.is_start);c({...s,external_process_id:I.target.value,external_process_chain_id:P&&P.id})},field:"type",validation:[],value:s.external_process_id}),s.external_process_id&&ce(o,{label:a(r,"Select External Chain Action"),valueOptions:C(),onChange:I=>c({...s,external_process_chain_id:I.target.value}),field:"type",validation:[],value:s.external_process_chain_id})]}),ce(it,{style:{marginLeft:"1rem",marginBottom:"1rem"},children:ce(n,{color:"primary",onClick:M,value:a(r,"Save"),variant:"outlined",isLoading:d})})]})}function Ch({chainModel:x,setProcessChain:L}){const o=Le.useMemo(st().Layouts.Table.V2),n=Le.useMemo(st().ButtonLoader),a=xn(),{translate:r,getLabel:u}=mn(),s=Le.useMemo(st().ConfirmationDialog),{lang:c}=Tn(),{selectors:{processesSelector:f},actions:{removeAction:d}}=Jt(),{actions:{openDialog:g}}=xn(),{selectors:{statusesSelector:m}}=sn(),_=Le.useMemo(()=>x.process_chain_actions.filter(k=>!k.action_id).map(k=>{const M=f.find(I=>I.id==k.external_process_id);if(M){const I=M.process_chain.find(P=>P.id==k.external_process_chain_id),S=m.find(P=>P.id==I.status_id);return{...k,process:M.token,process_step:`[${k.external_process_chain_id.split("-")[0]}] - `+(S&&S.translation[c])}}}).filter(k=>k),[x]);function R(){g(!0,ce(Mh,{processChain:x}))}function C(k,M){a.actions.openDialog(!0,ce(s,{title:"Delete Relation To Process",description:"Do you want to delete relation?",onConfirm:async()=>{await d({id:M.id,process_id:x.process_id}),a.actions.closeDialog()}}))}return ce(it,{container:!0,style:{justifyContent:"center"},children:ce(o,{isLoading:!1,title:"Manage External Process Triggers",freeActions:[ce(n,{size:"small",value:r(u,"Add External Process"),variant:"outlined",onClick:R,startIcon:ce(As,{})},1)],...mh({}),pageSize:20,data:_||[],actions:[k=>({icon:ni.Delete,label:"Delete Relation",onClick:C})]})})}const kh=({process_chain_id:x,readOnly:L})=>{const[o,n]=Le.useState(),[a,r]=Le.useState(!0),u=Le.useMemo(st().Layouts.Tab.V1),s=Le.useMemo(st().ButtonLoader),c=Le.useMemo(st().BodyLoader),{translate:f,getLabel:d}=mn(),{selectors:{getProcessChainReducer:g},actions:{upsertNode:m},hooks:{setProcessChainId:_}}=Jt();Le.useEffect(()=>{_(x)},[x]),Le.useEffect(()=>{g&&(n(g),r(!1))},[g]);function R(){m(o)}return!L&&a&&!o?ce(it,{style:{height:"400px",display:"flex"},children:ce(c,{text:" ",size:"25px"})}):ce(it,{container:!0,children:ce(u,{defaultTab:0,memoRefresh:[o],tabConfig:[{label:"Core",render:()=>ft(ur,{children:[ce(Ah,{chainModel:o,setProcessChain:n}),!L&&ce(s,{color:"primary",onClick:R,value:f(d,"Save"),variant:"outlined"})]})},{label:"CMS",render:()=>ft(ur,{children:[ce(Eh,{chainModel:o,setProcessChain:n}),!L&&ce(s,{color:"primary",onClick:R,value:f(d,"Save"),variant:"outlined"})]})},{label:"Actions",render:()=>ce(ur,{children:ce(_h,{chainModel:o,setProcessChain:n})})},{label:"External Process",render:()=>ce(ur,{children:ce(Ch,{chainModel:o,setProcessChain:n})})}]})})};function Nh({processId:x,currentProcessChainId:L}){const[o,n]=Ct.useState({process_chain:[]}),{selectors:{getProcessReducer:a},actions:{deleteNode:r,upsertNodeState:u},hooks:{setProcessId:s}}=Jt(),{lang:c}=Tn(),{selectors:{statusesSelector:f}}=sn(),{actions:{openDrawer:d}}=Af();Le.useEffect(()=>{s(x)},[L]),Le.useEffect(()=>{a&&n(a)},[a]);const g=()=>{r({id:L})},m=R=>{const C={id:lr(),process_chain_id:L,next_process_chain_id:R};u(C)};return ft(Ss,{id:"menu_id",children:[ce(vn,{onClick:()=>{const R=o.process_chain.find(C=>C.id==L);d(!0,ce(it,{style:{width:"70vw",display:"flex"},children:ce(kh,{chainModel:R,process_chain_id:L})}),"right")},children:"EDIT"}),ce(vn,{onClick:g,children:"DELETE"}),ce(lh,{}),ce(ph,{label:"EDGE",children:o.process_chain&&o.process_chain.filter(R=>R.id!=L).map(R=>{const C=f.find(k=>k.id==R.status_id);return ft(vn,{"data-key":R.id,onClick:()=>{m(R.id)},children:[C&&C.translation[c],":",R.id.split("-")[0]]},lr())})})]})}const Sh="id";function Oh({processId:x}){const[L,o]=Ct.useState({process_chain:[]}),[n,a]=Ct.useState({}),[r,u]=Ct.useState({}),{selectors:{statusesSelector:s,actionsSelector:c}}=sn(),{lang:f}=Tn(),{selectors:{getProcessReducer:d,processAdminReducer:g},actions:{upsertNodeNoFetch:m,upsertNode:_},hooks:{setProcessId:R}}=Jt();Ct.useEffect(()=>{Mf(x)&&R(x)},[x]),Ct.useEffect(()=>{d&&o({...d})},[d]);const C=b=>{const A=L.process_chain.filter(O=>O.id==b.id)[0];(A.x!=b.x||A.y!=b.y)&&(A.x=b.x,A.y=b.y,m(A))},k=async(b,A,O)=>{O.preventDefault();const T=O.srcElement.parentElement.parentElement;if(T.getAttribute("data-source")&&T.getAttribute("data-target")){let B=L.process_chain.find(j=>j.id==T.getAttribute("data-source")),F=B.process_chain_state.find(j=>j.next_process_chain_id==T.getAttribute("data-target"));F||(B=L.process_chain.find(j=>j.id==O.path[2].getAttribute("data-target")),F=B.process_chain_state.find(j=>j.next_process_chain_id==T.getAttribute("data-source"))),u(F),_s.show({id:"edge_id",event:O})}else if(T.getAttribute("id")&&T.getAttribute("id").replace("node-",""))a(T.getAttribute("id").replace("node-","")),_s.show({id:"menu_id",event:O});else{const B={id:lr(),process_id:L.id,x:b,y:A,process_chain_state:[],is_reminder:!1,process_chain_actions:[]};_(B)}O.preventDefault()},M=Le.useMemo(()=>L.process_chain?L.process_chain.map(A=>{const O=s.find(B=>B.id==A.status_id),T=c.find(B=>B.id==A.action_id);return{id:A.id,x:A.x,y:A.y,title:ft("tspan",{x:"0",dy:"1.2em",children:[ce("tspan",{x:"0",dy:"1.2em",children:T&&T.action}),ce("tspan",{x:"0",dy:"1.2em",children:A.change_status&&O&&O.translation[f]}),ce("tspan",{x:"0",dy:"1.2em",children:A.id.split("-")[0]})]}),type:A.is_start==!0?"start":A.is_last==!0?"end":A.is_reminder==!0?"is_reminder":A.change_status==!0?"empty":"func"}}):[],[L]),I=Le.useMemo(()=>{const b=[];return L.process_chain&&L.process_chain.forEach(A=>{A.process_chain_state.forEach(O=>{let T=L.process_chain.filter(B=>B.id==O.next_process_chain_id)[0];T=T||{},b.push({id:O.id,source:O.process_chain_id,target:O.next_process_chain_id,type:A.is_reminder==!0&&T.has_reminder==!0?O.is_accept==!0?"reminderEdgeAccept":O.is_accept==!1?"reminderEdgeReject":"reminderEdgeEmpty":A.autorun==!0&&O.is_accept==!0?"autoRunEdge":O.is_accept==!0?"acceptEdge":O.is_accept==!1?"rejectEdge":"emptyEdge",handleText:A.is_reminder==!0&&T.has_reminder?A.in_days:""})})}),b},[L]),S=ti.NodeTypes,P=ti.NodeSubtypes,v=ti.EdgeTypes;return ft(it,{id:"graph",style:{height:"85vh"},children:[ce(Nh,{processId:x,currentProcessChainId:n}),ce(vh,{processId:x,currentEdge:r}),!g.isLoading&&ce(gh.GraphView,{nodeKey:Sh,nodes:M||[],selected:{},edges:[...I],nodeTypes:S,nodeSubtypes:P,edgeTypes:v,onContextMenu:k,onUpdateNode:C,allowMultiselect:!1})]})}export{Oh as P};
