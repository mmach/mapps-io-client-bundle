import{aa as ve,a,ab as Z,ac as lt,ad as re,_ as b,ae as ct,af as Le,a9 as ae,n as G,aE as we,br as ke,bs as se,bt as Ze,aF as $e,bu as At,aG as De,bv as Lt,bw as zt,bx as Nt,by as Pe,bz as Wt,aH as Y,aq as ue,bA as dt,ap as jt,bB as Vt,i as ie,r as Ht,j as F,L as Gt,N as Ut,O as be,S as et,Q as Fe,bC as qt,$ as le,a0 as ce,G as J,a2 as Kt,ar as Be,aI as ze,aJ as Ne,aK as We,bD as Yt,bE as fe,bF as X,R as K,M as me,m as Xt,U as ut,l as pe,W as Ee,X as tt}from"./index-1a5b9518.js";import{r as Jt}from"./createSvgIcon-51564d9c.js";import{d as Qt}from"./CloudUpload-00a7e0f4.js";import{d as Zt}from"./Close-08bde041.js";import{I as en}from"./IconButton-dbe13826.js";import{r as ft,g as Te}from"./utils-15a7aa19.js";import{D as tn,a as nn,b as rn,B as nt}from"./DialogTitle-28621663.js";var an={entering:{opacity:1},entered:{opacity:1}},on={enter:ve.enteringScreen,exit:ve.leavingScreen},sn=a.forwardRef(function(e,i){var r=e.children,n=e.disableStrictModeCompat,o=n===void 0?!1:n,d=e.in,s=e.onEnter,l=e.onEntered,c=e.onEntering,u=e.onExit,f=e.onExited,p=e.onExiting,v=e.style,E=e.TransitionComponent,m=E===void 0?ct:E,w=e.timeout,k=w===void 0?on:w,h=Z(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),g=lt(),C=g.unstable_strictMode&&!o,y=a.useRef(null),S=re(r.ref,i),x=re(C?y:void 0,S),R=function(B){return function(z,P){if(B){var M=C?[y.current,z]:[z,P],$=Le(M,2),O=$[0],I=$[1];I===void 0?B(O):B(O,I)}}},N=R(c),D=R(function(T,B){ft(T);var z=Te({style:v,timeout:k},{mode:"enter"});T.style.webkitTransition=g.transitions.create("opacity",z),T.style.transition=g.transitions.create("opacity",z),s&&s(T,B)}),_=R(l),L=R(p),j=R(function(T){var B=Te({style:v,timeout:k},{mode:"exit"});T.style.webkitTransition=g.transitions.create("opacity",B),T.style.transition=g.transitions.create("opacity",B),u&&u(T)}),V=R(f);return a.createElement(m,b({appear:!0,in:d,nodeRef:C?y:void 0,onEnter:D,onEntered:_,onEntering:N,onExit:j,onExited:V,onExiting:L,timeout:k},h),function(T,B){return a.cloneElement(r,b({style:b({opacity:0,visibility:T==="exited"&&!d?"hidden":void 0},an[T],v,r.props.style),ref:x},B))})});const pt=sn;var ln={root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},cn=a.forwardRef(function(e,i){var r=e.children,n=e.classes,o=e.className,d=e.invisible,s=d===void 0?!1:d,l=e.open,c=e.transitionDuration,u=e.TransitionComponent,f=u===void 0?pt:u,p=Z(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return a.createElement(f,b({in:l,timeout:c},p),a.createElement("div",{className:G(n.root,o,s&&n.invisible),"aria-hidden":!0,ref:i},r))});const dn=ae(ln,{name:"MuiBackdrop"})(cn);function rt(t){return t.substring(2).toLowerCase()}function un(t){return document.documentElement.clientWidth<t.clientX||document.documentElement.clientHeight<t.clientY}function fn(t){var e=t.children,i=t.disableReactTree,r=i===void 0?!1:i,n=t.mouseEvent,o=n===void 0?"onClick":n,d=t.onClickAway,s=t.touchEvent,l=s===void 0?"onTouchEnd":s,c=a.useRef(!1),u=a.useRef(null),f=a.useRef(!1),p=a.useRef(!1);a.useEffect(function(){return setTimeout(function(){f.current=!0},0),function(){f.current=!1}},[]);var v=a.useCallback(function(h){u.current=we.findDOMNode(h)},[]),E=re(e.ref,v),m=ke(function(h){var g=p.current;if(p.current=!1,!(!f.current||!u.current||un(h))){if(c.current){c.current=!1;return}var C;if(h.composedPath)C=h.composedPath().indexOf(u.current)>-1;else{var y=se(u.current);C=!y.documentElement.contains(h.target)||u.current.contains(h.target)}!C&&(r||!g)&&d(h)}}),w=function(g){return function(C){p.current=!0;var y=e.props[g];y&&y(C)}},k={ref:E};return l!==!1&&(k[l]=w(l)),a.useEffect(function(){if(l!==!1){var h=rt(l),g=se(u.current),C=function(){c.current=!0};return g.addEventListener(h,m),g.addEventListener("touchmove",C),function(){g.removeEventListener(h,m),g.removeEventListener("touchmove",C)}}},[m,l]),o!==!1&&(k[o]=w(o)),a.useEffect(function(){if(o!==!1){var h=rt(o),g=se(u.current);return g.addEventListener(h,m),function(){g.removeEventListener(h,m)}}},[m,o]),a.createElement(a.Fragment,null,a.cloneElement(e,k))}function pn(t){return t=typeof t=="function"?t():t,we.findDOMNode(t)}var _e=typeof window<"u"?a.useLayoutEffect:a.useEffect,vn=a.forwardRef(function(e,i){var r=e.children,n=e.container,o=e.disablePortal,d=o===void 0?!1:o,s=e.onRendered,l=a.useState(null),c=l[0],u=l[1],f=re(a.isValidElement(r)?r.ref:null,i);return _e(function(){d||u(pn(n)||document.body)},[n,d]),_e(function(){if(c&&!d)return Ze(i,c),function(){Ze(i,null)}},[i,c,d]),_e(function(){s&&(c||d)&&s()},[s,c,d]),d?a.isValidElement(r)?a.cloneElement(r,{ref:f}):r:c&&we.createPortal(r,c)});const mn=vn;function hn(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function gn(t){var e=se(t);return e.body===t?Lt(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function ye(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function at(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function it(t,e,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],n=arguments.length>4?arguments[4]:void 0,o=[e,i].concat(At(r)),d=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,function(s){s.nodeType===1&&o.indexOf(s)===-1&&d.indexOf(s.tagName)===-1&&ye(s,n)})}function Oe(t,e){var i=-1;return t.some(function(r,n){return e(r)?(i=n,!0):!1}),i}function bn(t,e){var i=[],r=[],n=t.container,o;if(!e.disableScrollLock){if(gn(n)){var d=hn();i.push({value:n.style.paddingRight,key:"padding-right",el:n}),n.style["padding-right"]="".concat(at(n)+d,"px"),o=se(n).querySelectorAll(".mui-fixed"),[].forEach.call(o,function(u){r.push(u.style.paddingRight),u.style.paddingRight="".concat(at(u)+d,"px")})}var s=n.parentElement,l=s.nodeName==="HTML"&&window.getComputedStyle(s)["overflow-y"]==="scroll"?s:n;i.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}var c=function(){o&&[].forEach.call(o,function(f,p){r[p]?f.style.paddingRight=r[p]:f.style.removeProperty("padding-right")}),i.forEach(function(f){var p=f.value,v=f.el,E=f.key;p?v.style.setProperty(E,p):v.style.removeProperty(E)})};return c}function En(t){var e=[];return[].forEach.call(t.children,function(i){i.getAttribute&&i.getAttribute("aria-hidden")==="true"&&e.push(i)}),e}var yn=function(){function t(){De(this,t),this.modals=[],this.containers=[]}return $e(t,[{key:"add",value:function(i,r){var n=this.modals.indexOf(i);if(n!==-1)return n;n=this.modals.length,this.modals.push(i),i.modalRef&&ye(i.modalRef,!1);var o=En(r);it(r,i.mountNode,i.modalRef,o,!0);var d=Oe(this.containers,function(s){return s.container===r});return d!==-1?(this.containers[d].modals.push(i),n):(this.containers.push({modals:[i],container:r,restore:null,hiddenSiblingNodes:o}),n)}},{key:"mount",value:function(i,r){var n=Oe(this.containers,function(d){return d.modals.indexOf(i)!==-1}),o=this.containers[n];o.restore||(o.restore=bn(o,r))}},{key:"remove",value:function(i){var r=this.modals.indexOf(i);if(r===-1)return r;var n=Oe(this.containers,function(s){return s.modals.indexOf(i)!==-1}),o=this.containers[n];if(o.modals.splice(o.modals.indexOf(i),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),i.modalRef&&ye(i.modalRef,!0),it(o.container,i.mountNode,i.modalRef,o.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var d=o.modals[o.modals.length-1];d.modalRef&&ye(d.modalRef,!1)}return r}},{key:"isTopModal",value:function(i){return this.modals.length>0&&this.modals[this.modals.length-1]===i}}]),t}();function Cn(t){var e=t.children,i=t.disableAutoFocus,r=i===void 0?!1:i,n=t.disableEnforceFocus,o=n===void 0?!1:n,d=t.disableRestoreFocus,s=d===void 0?!1:d,l=t.getDoc,c=t.isEnabled,u=t.open,f=a.useRef(),p=a.useRef(null),v=a.useRef(null),E=a.useRef(),m=a.useRef(null),w=a.useCallback(function(g){m.current=we.findDOMNode(g)},[]),k=re(e.ref,w),h=a.useRef();return a.useEffect(function(){h.current=u},[u]),!h.current&&u&&typeof window<"u"&&(E.current=l().activeElement),a.useEffect(function(){if(u){var g=se(m.current);!r&&m.current&&!m.current.contains(g.activeElement)&&(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var C=function(){var R=m.current;if(R!==null){if(!g.hasFocus()||o||!c()||f.current){f.current=!1;return}m.current&&!m.current.contains(g.activeElement)&&m.current.focus()}},y=function(R){o||!c()||R.keyCode!==9||g.activeElement===m.current&&(f.current=!0,R.shiftKey?v.current.focus():p.current.focus())};g.addEventListener("focus",C,!0),g.addEventListener("keydown",y,!0);var S=setInterval(function(){C()},50);return function(){clearInterval(S),g.removeEventListener("focus",C,!0),g.removeEventListener("keydown",y,!0),s||(E.current&&E.current.focus&&E.current.focus(),E.current=null)}}},[r,o,s,c,u]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),a.cloneElement(e,{ref:k}),a.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))}var ot={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},kn=a.forwardRef(function(e,i){var r=e.invisible,n=r===void 0?!1:r,o=e.open,d=Z(e,["invisible","open"]);return o?a.createElement("div",b({"aria-hidden":!0,ref:i},d,{style:b({},ot.root,n?ot.invisible:{},d.style)})):null});const wn=kn;function xn(t){return t=typeof t=="function"?t():t,we.findDOMNode(t)}function Rn(t){return t.children?t.children.props.hasOwnProperty("in"):!1}var Sn=new yn,Pn=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},Tn=a.forwardRef(function(e,i){var r=zt(),n=Nt({name:"MuiModal",props:b({},e),theme:r}),o=n.BackdropComponent,d=o===void 0?wn:o,s=n.BackdropProps,l=n.children,c=n.closeAfterTransition,u=c===void 0?!1:c,f=n.container,p=n.disableAutoFocus,v=p===void 0?!1:p,E=n.disableBackdropClick,m=E===void 0?!1:E,w=n.disableEnforceFocus,k=w===void 0?!1:w,h=n.disableEscapeKeyDown,g=h===void 0?!1:h,C=n.disablePortal,y=C===void 0?!1:C,S=n.disableRestoreFocus,x=S===void 0?!1:S,R=n.disableScrollLock,N=R===void 0?!1:R,D=n.hideBackdrop,_=D===void 0?!1:D,L=n.keepMounted,j=L===void 0?!1:L,V=n.manager,T=V===void 0?Sn:V,B=n.onBackdropClick,z=n.onClose,P=n.onEscapeKeyDown,M=n.onRendered,$=n.open,O=Z(n,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),I=a.useState(!0),A=I[0],U=I[1],W=a.useRef({}),oe=a.useRef(null),ee=a.useRef(null),he=re(ee,i),H=Rn(n),xe=function(){return se(oe.current)},q=function(){return W.current.modalRef=ee.current,W.current.mountNode=oe.current,W.current},ne=function(){T.mount(q(),{disableScrollLock:N}),ee.current.scrollTop=0},Je=ke(function(){var Q=xn(f)||xe().body;T.add(q(),Q),ee.current&&ne()}),Me=a.useCallback(function(){return T.isTopModal(q())},[T]),Ft=ke(function(Q){oe.current=Q,Q&&(M&&M(),$&&Me()?ne():ye(ee.current,!0))}),ge=a.useCallback(function(){T.remove(q())},[T]);if(a.useEffect(function(){return function(){ge()}},[ge]),a.useEffect(function(){$?Je():(!H||!u)&&ge()},[$,ge,H,u,Je]),!j&&!$&&(!H||A))return null;var _t=function(){U(!1)},Ot=function(){U(!0),u&&ge()},Bt=function(te){te.target===te.currentTarget&&(B&&B(te),!m&&z&&z(te,"backdropClick"))},It=function(te){te.key!=="Escape"||!Me()||(P&&P(te),g||(te.stopPropagation(),z&&z(te,"escapeKeyDown")))},Qe=Pn(r||{zIndex:Wt}),Re={};return l.props.tabIndex===void 0&&(Re.tabIndex=l.props.tabIndex||"-1"),H&&(Re.onEnter=Pe(_t,l.props.onEnter),Re.onExited=Pe(Ot,l.props.onExited)),a.createElement(mn,{ref:Ft,container:f,disablePortal:y},a.createElement("div",b({ref:he,onKeyDown:It,role:"presentation"},O,{style:b({},Qe.root,!$&&A?Qe.hidden:{},O.style)}),_?null:a.createElement(d,b({open:$,onClick:Bt},s)),a.createElement(Cn,{disableEnforceFocus:k,disableAutoFocus:v,disableRestoreFocus:x,getDoc:xe,isEnabled:Me,open:$},a.cloneElement(l,Re))))});const $n=Tn;var Dn=function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Y({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Y({},e.breakpoints.down(e.breakpoints.values.sm+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Y({},e.breakpoints.down(e.breakpoints.values.md+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Y({},e.breakpoints.down(e.breakpoints.values.lg+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Y({},e.breakpoints.down(e.breakpoints.values.xl+32*2),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},Mn={enter:ve.enteringScreen,exit:ve.leavingScreen},Fn=a.forwardRef(function(e,i){var r=e.BackdropProps,n=e.children,o=e.classes,d=e.className,s=e.disableBackdropClick,l=s===void 0?!1:s,c=e.disableEscapeKeyDown,u=c===void 0?!1:c,f=e.fullScreen,p=f===void 0?!1:f,v=e.fullWidth,E=v===void 0?!1:v,m=e.maxWidth,w=m===void 0?"sm":m,k=e.onBackdropClick,h=e.onClose,g=e.onEnter,C=e.onEntered,y=e.onEntering,S=e.onEscapeKeyDown,x=e.onExit,R=e.onExited,N=e.onExiting,D=e.open,_=e.PaperComponent,L=_===void 0?dt:_,j=e.PaperProps,V=j===void 0?{}:j,T=e.scroll,B=T===void 0?"paper":T,z=e.TransitionComponent,P=z===void 0?pt:z,M=e.transitionDuration,$=M===void 0?Mn:M,O=e.TransitionProps,I=e["aria-describedby"],A=e["aria-labelledby"],U=Z(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),W=a.useRef(),oe=function(H){W.current=H.target},ee=function(H){H.target===H.currentTarget&&H.target===W.current&&(W.current=null,k&&k(H),!l&&h&&h(H,"backdropClick"))};return a.createElement($n,b({className:G(o.root,d),BackdropComponent:dn,BackdropProps:b({transitionDuration:$},r),closeAfterTransition:!0},l?{disableBackdropClick:l}:{},{disableEscapeKeyDown:u,onEscapeKeyDown:S,onClose:h,open:D,ref:i},U),a.createElement(P,b({appear:!0,in:D,timeout:$,onEnter:g,onEntering:y,onEntered:C,onExit:x,onExiting:N,onExited:R,role:"none presentation"},O),a.createElement("div",{className:G(o.container,o["scroll".concat(ue(B))]),onMouseUp:ee,onMouseDown:oe},a.createElement(L,b({elevation:24,role:"dialog","aria-describedby":I,"aria-labelledby":A},V,{className:G(o.paper,o["paperScroll".concat(ue(B))],o["paperWidth".concat(ue(String(w)))],V.className,p&&o.paperFullScreen,E&&o.paperFullWidth)}),n))))});const _n=ae(Dn,{name:"MuiDialog"})(Fn);var On=function(e){return{root:b({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}},Bn=a.forwardRef(function(e,i){var r=e.children,n=e.classes,o=e.className,d=e.color,s=d===void 0?"default":d,l=e.component,c=l===void 0?"button":l,u=e.disabled,f=u===void 0?!1:u,p=e.disableFocusRipple,v=p===void 0?!1:p,E=e.focusVisibleClassName,m=e.size,w=m===void 0?"large":m,k=e.variant,h=k===void 0?"circular":k,g=Z(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return a.createElement(jt,b({className:G(n.root,o,w!=="large"&&n["size".concat(ue(w))],f&&n.disabled,h==="extended"&&n.extended,{primary:n.primary,secondary:n.secondary,inherit:n.colorInherit}[s]),component:c,disabled:f,focusRipple:!v,focusVisibleClassName:G(n.focusVisible,E),ref:i},g),a.createElement("span",{className:n.label},r))});const In=ae(On,{name:"MuiFab"})(Bn);function Ie(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var An={entering:{opacity:1,transform:Ie(1)},entered:{opacity:1,transform:"none"}},vt=a.forwardRef(function(e,i){var r=e.children,n=e.disableStrictModeCompat,o=n===void 0?!1:n,d=e.in,s=e.onEnter,l=e.onEntered,c=e.onEntering,u=e.onExit,f=e.onExited,p=e.onExiting,v=e.style,E=e.timeout,m=E===void 0?"auto":E,w=e.TransitionComponent,k=w===void 0?ct:w,h=Z(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),g=a.useRef(),C=a.useRef(),y=lt(),S=y.unstable_strictMode&&!o,x=a.useRef(null),R=re(r.ref,i),N=re(S?x:void 0,R),D=function(M){return function($,O){if(M){var I=S?[x.current,$]:[$,O],A=Le(I,2),U=A[0],W=A[1];W===void 0?M(U):M(U,W)}}},_=D(c),L=D(function(P,M){ft(P);var $=Te({style:v,timeout:m},{mode:"enter"}),O=$.duration,I=$.delay,A;m==="auto"?(A=y.transitions.getAutoHeightDuration(P.clientHeight),C.current=A):A=O,P.style.transition=[y.transitions.create("opacity",{duration:A,delay:I}),y.transitions.create("transform",{duration:A*.666,delay:I})].join(","),s&&s(P,M)}),j=D(l),V=D(p),T=D(function(P){var M=Te({style:v,timeout:m},{mode:"exit"}),$=M.duration,O=M.delay,I;m==="auto"?(I=y.transitions.getAutoHeightDuration(P.clientHeight),C.current=I):I=$,P.style.transition=[y.transitions.create("opacity",{duration:I,delay:O}),y.transitions.create("transform",{duration:I*.666,delay:O||I*.333})].join(","),P.style.opacity="0",P.style.transform=Ie(.75),u&&u(P)}),B=D(f),z=function(M,$){var O=S?M:$;m==="auto"&&(g.current=setTimeout(O,C.current||0))};return a.useEffect(function(){return function(){clearTimeout(g.current)}},[]),a.createElement(k,b({appear:!0,in:d,nodeRef:S?x:void 0,onEnter:L,onEntered:j,onEntering:_,onExit:T,onExited:B,onExiting:V,addEndListener:z,timeout:m==="auto"?null:m},h),function(P,M){return a.cloneElement(r,b({style:b({opacity:0,transform:Ie(.75),visibility:P==="exited"&&!d?"hidden":void 0},An[P],v,r.props.style),ref:N},M))})});vt.muiSupportAuto=!0;const Ln=vt;var zn=function(e){var i=e.palette.type==="light"?.8:.98,r=Vt(e.palette.background.default,i);return{root:b({},e.typography.body2,Y({color:e.palette.getContrastText(r),backgroundColor:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},Nn=a.forwardRef(function(e,i){var r=e.action,n=e.classes,o=e.className,d=e.message,s=e.role,l=s===void 0?"alert":s,c=Z(e,["action","classes","className","message","role"]);return a.createElement(dt,b({role:l,square:!0,elevation:6,className:G(n.root,o),ref:i},c),a.createElement("div",{className:n.message},d),r?a.createElement("div",{className:n.action},r):null)});const mt=ae(zn,{name:"MuiSnackbarContent"})(Nn);var Wn=function(e){var i={top:8},r={bottom:8},n={justifyContent:"flex-end"},o={justifyContent:"flex-start"},d={top:24},s={bottom:24},l={right:24},c={left:24},u={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:b({},i,Y({},e.breakpoints.up("sm"),b({},d,u))),anchorOriginBottomCenter:b({},r,Y({},e.breakpoints.up("sm"),b({},s,u))),anchorOriginTopRight:b({},i,n,Y({},e.breakpoints.up("sm"),b({left:"auto"},d,l))),anchorOriginBottomRight:b({},r,n,Y({},e.breakpoints.up("sm"),b({left:"auto"},s,l))),anchorOriginTopLeft:b({},i,o,Y({},e.breakpoints.up("sm"),b({right:"auto"},d,c))),anchorOriginBottomLeft:b({},r,o,Y({},e.breakpoints.up("sm"),b({right:"auto"},s,c)))}},jn=a.forwardRef(function(e,i){var r=e.action,n=e.anchorOrigin;n=n===void 0?{vertical:"bottom",horizontal:"center"}:n;var o=n.vertical,d=n.horizontal,s=e.autoHideDuration,l=s===void 0?null:s,c=e.children,u=e.classes,f=e.className,p=e.ClickAwayListenerProps,v=e.ContentProps,E=e.disableWindowBlurListener,m=E===void 0?!1:E,w=e.message,k=e.onClose,h=e.onEnter,g=e.onEntered,C=e.onEntering,y=e.onExit,S=e.onExited,x=e.onExiting,R=e.onMouseEnter,N=e.onMouseLeave,D=e.open,_=e.resumeHideDuration,L=e.TransitionComponent,j=L===void 0?Ln:L,V=e.transitionDuration,T=V===void 0?{enter:ve.enteringScreen,exit:ve.leavingScreen}:V,B=e.TransitionProps,z=Z(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),P=a.useRef(),M=a.useState(!0),$=M[0],O=M[1],I=ke(function(){k&&k.apply(void 0,arguments)}),A=ke(function(q){!k||q==null||(clearTimeout(P.current),P.current=setTimeout(function(){I(null,"timeout")},q))});a.useEffect(function(){return D&&A(l),function(){clearTimeout(P.current)}},[D,l,A]);var U=function(){clearTimeout(P.current)},W=a.useCallback(function(){l!=null&&A(_??l*.5)},[l,_,A]),oe=function(ne){R&&R(ne),U()},ee=function(ne){N&&N(ne),W()},he=function(ne){k&&k(ne,"clickaway")},H=function(){O(!0)},xe=function(){O(!1)};return a.useEffect(function(){if(!m&&D)return window.addEventListener("focus",W),window.addEventListener("blur",U),function(){window.removeEventListener("focus",W),window.removeEventListener("blur",U)}},[m,W,D]),!D&&$?null:a.createElement(fn,b({onClickAway:he},p),a.createElement("div",b({className:G(u.root,u["anchorOrigin".concat(ue(o)).concat(ue(d))],f),onMouseEnter:oe,onMouseLeave:ee,ref:i},z),a.createElement(j,b({appear:!0,in:D,onEnter:Pe(xe,h),onEntered:g,onEntering:C,onExit:y,onExited:Pe(H,S),onExiting:x,timeout:T,direction:o==="top"?"down":"up"},B),c||a.createElement(mt,b({message:w,action:r},v)))))});const Vn=ae(Wn,{flip:!1,name:"MuiSnackbar"})(jn);var je={},Hn=ie;Object.defineProperty(je,"__esModule",{value:!0});var ht=je.default=void 0,Gn=Hn(Jt()),Un=Ht,qn=(0,Gn.default)((0,Un.jsx)("path",{d:"M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"}),"PermMedia");ht=je.default=qn;function Ve({blob:t,row:e,params:i={}}){return(e||t).id&&F("img",{className:"img-preview-admin",src:`${window.env.BLOB_URL}/blob/${(t||e)[i.size]}`})}const gt=({type:t})=>({columns:[{titleToken:"CREATED AT",field:"createdAt",type:"date",isActive:!0},{titleToken:"ID",field:"blob_id",isActive:!0},{titleToken:"ITEM",field:"item_id",isActive:t=="ITEMS"},{titleToken:"USER",field:"user_id",isActive:t=="USERS"},{titleToken:"CATEGORY",field:"category_id",isActive:t=="CATEGORIES"},{titleToken:"PREVIEW",type:"component",field:"title",isActive:!0,enableColumnFilter:!1,enableSorting:!1,component:{Component:Ve,params:{size:"blob_thumbmail_id"}}}],enableMultiRowSelection:!1,enableRowSelection:!0}),de=t=>({...{getUnverifiedImages:()=>t(new be().queryThunt(et.Blob.GET_UNVERIFIED,{})),removeImage:i=>t(new be().commandThunt(Fe.Blob.REMOVE_BLOB,i)),verifyFile:({id:i})=>t(new be().commandThunt(Fe.Blob.VERIFY_IMAGE,{id:i})),getProjectStorage:i=>t(new be().queryThunt(et.Blob.GET_PROJECT_STORAGE,i)),uploadBlob:i=>t(new be().commandThunt(Fe.Blob.UPLOAD_BLOB_TO_PROJECT,i)),clean:()=>t({type:qt.CLEAN,dto:{}})}});function bt(){const t=Gt(),{storageAdminReducer:e}=Ut(l=>({storageAdminReducer:l.StorageAdminReducer})),i=a.useCallback(de(t).getUnverifiedImages,[t]),r=a.useCallback(de(t).removeImage,[t]),n=a.useCallback(de(t).verifyFile,[t]),o=a.useCallback(de(t).getProjectStorage,[t]),d=a.useCallback(de(t).uploadBlob,[t]),s=a.useCallback(de(t).clean,[t]);return{selectors:{storageAdminReducer:e},actions:{getUnverifiedImages:i,removeImage:r,verifyFile:n,getProjectStorage:o,uploadBlob:d,clean:s},state:{},hooks:{},functions:{}}}var Ce={},Kn={get exports(){return Ce},set exports(t){Ce=t}},Yn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xn=Yn,Jn=Xn;function Et(){}function yt(){}yt.resetWarningCache=Et;var Qn=function(){function t(r,n,o,d,s,l){if(l!==Jn){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yt,resetWarningCache:Et};return i.PropTypes=i,i};Kn.exports=Qn();var He={},Zn=ie,er=ce;Object.defineProperty(He,"__esModule",{value:!0});var Ct=He.default=void 0,tr=er(a),nr=Zn(le()),rr=(0,nr.default)(tr.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");Ct=He.default=rr;var Ge={},ar=ie,ir=ce;Object.defineProperty(Ge,"__esModule",{value:!0});var kt=Ge.default=void 0,or=ir(a),sr=ar(le()),lr=(0,sr.default)(or.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");kt=Ge.default=lr;var Ue={},cr=ie,dr=ce;Object.defineProperty(Ue,"__esModule",{value:!0});var wt=Ue.default=void 0,ur=dr(a),fr=cr(le()),pr=(0,fr.default)(ur.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");wt=Ue.default=pr;var qe={},vr=ie,mr=ce;Object.defineProperty(qe,"__esModule",{value:!0});var xt=qe.default=void 0,hr=mr(a),gr=vr(le()),br=(0,gr.default)(hr.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");xt=qe.default=br;var Ke={},Er=ie,yr=ce;Object.defineProperty(Ke,"__esModule",{value:!0});var Rt=Ke.default=void 0,Cr=yr(a),kr=Er(le()),wr=(0,kr.default)(Cr.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");Rt=Ke.default=wr;var Ye={},xr=ie,Rr=ce;Object.defineProperty(Ye,"__esModule",{value:!0});var St=Ye.default=void 0,Sr=Rr(a),Pr=xr(le()),Tr=(0,Pr.default)(Sr.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");St=Ye.default=Tr;function $r(t){if(t.type.split("/")[0]==="image")return!0}function Dr(t){var e="";return t>=1048576?e=t/1048576+" megabytes":t>=1024?e=t/1024+" kilobytes":e=t+" bytes",e}function Mr(t){return Ae.apply(this,arguments)}function Ae(){return Ae=fe(X.mark(function t(e){var i,r,n,o;return X.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch(e);case 2:return i=s.sent,s.next=5,i.blob();case 5:return r=s.sent,n={type:r.type},o=e.replace(/\?.+/,"").split("/").pop(),s.abrupt("return",new File([r],o,n));case 9:case"end":return s.stop()}},t)})),Ae.apply(this,arguments)}function Pt(t){return new Promise(function(e,i){var r=new FileReader;r.onload=function(n){var o;e(n==null||(o=n.target)===null||o===void 0?void 0:o.result)},r.onerror=function(n){r.abort(),i(n)},r.readAsDataURL(t)})}var Fr=function(e){var i=e.palette,r=e.shape,n=e.spacing;return{root:{},imageContainer:{position:"relative",zIndex:10,textAlign:"center","&:hover $image":{opacity:.3},"&:hover $removeButton":{opacity:1}},image:{height:100,width:"initial",maxWidth:"100%",color:i.text.primary,transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",boxSizing:"border-box",boxShadow:"rgba(0, 0, 0, 0.12) 0 1px 6px, rgba(0, 0, 0, 0.12) 0 1px 4px",borderRadius:r.borderRadius,zIndex:5,opacity:1},removeButton:{transition:".5s ease",position:"absolute",opacity:0,top:n(-1),right:n(-1),width:40,height:40,"&:focus":{opacity:1}}}},_r=a.createElement(kt,null);function Or(t){var e=t.fileObjects,i=t.handleRemove,r=t.showFileNames,n=t.useChipsForPreview,o=t.previewChipProps,d=t.previewGridClasses,s=t.previewGridProps,l=t.classes,c=t.getPreviewIcon;return n?a.createElement(J,b({spacing:1,direction:"row"},s.container,{container:!0,className:G(l.root,d.container)}),e.map(function(u,f){var p,v;return a.createElement(J,b({},s.item,{item:!0,key:"".concat((p=(v=u.file)===null||v===void 0?void 0:v.name)!==null&&p!==void 0?p:"file","-").concat(f),className:l.imageContainer}),a.createElement(Kt,b({variant:"outlined"},o,{label:u.file.name,onDelete:i(f)})))})):a.createElement(J,b({spacing:8},s.container,{container:!0,className:G(l.root,d.container)}),e.map(function(u,f){var p,v;return a.createElement(J,b({xs:4},s.item,{item:!0,key:"".concat((p=(v=u.file)===null||v===void 0?void 0:v.name)!==null&&p!==void 0?p:"file","-").concat(f),className:G(l.imageContainer,d.item)}),c(u,l),r&&a.createElement(Be,{variant:"body1",component:"p"},u.file.name),a.createElement(In,{onClick:i(f),"aria-label":"Delete",className:l.removeButton},_r))}))}var st=ae(Fr,{name:"MuiDropzonePreviewList"})(Or),Br={success:wt,warning:St,error:xt,info:Rt},Ir=function(e){return{successAlert:{backgroundColor:e.palette.success.main},errorAlert:{backgroundColor:e.palette.error.main},infoAlert:{backgroundColor:e.palette.info.main},warningAlert:{backgroundColor:e.palette.warning.main},message:{display:"flex",alignItems:"center","& > svg":{marginRight:e.spacing(1)}},icon:{fontSize:20,opacity:.9},closeButton:{}}};function Ar(t){var e=t.classes,i=t.className,r=t.message,n=t.onClose,o=t.variant,d=Z(t,["classes","className","message","onClose","variant"]),s=Br[o];return a.createElement(mt,b({className:G(e["".concat(o,"Alert")],i),"aria-describedby":"client-snackbar",message:a.createElement("span",{id:"client-snackbar",className:e.message},a.createElement(s,{className:e.icon}),r),action:[a.createElement(en,{key:"close","aria-label":"Close",color:"inherit",className:e.closeButton,onClick:n},a.createElement(Zt,{className:e.icon}))]},d))}var Lr=ae(Ir,{name:"MuiDropzoneSnackbar"})(Ar),zr=function(e){var i=e.palette,r=e.shape,n=e.spacing;return{"@keyframes progress":{"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"-70px 0"}},root:{position:"relative",width:"100%",minHeight:"250px",backgroundColor:i.background.paper,border:"dashed",borderColor:i.divider,borderRadius:r.borderRadius,boxSizing:"border-box",cursor:"pointer",overflow:"hidden"},active:{animation:"$progress 2s linear infinite !important",backgroundImage:"repeating-linear-gradient(-45deg, ".concat(i.background.paper,", ").concat(i.background.paper," 25px, ").concat(i.divider," 25px, ").concat(i.divider," 50px)"),backgroundSize:"150% 100%",border:"solid",borderColor:i.primary.light},invalid:{backgroundImage:"repeating-linear-gradient(-45deg, ".concat(i.error.light,", ").concat(i.error.light," 25px, ").concat(i.error.dark," 25px, ").concat(i.error.dark," 50px)"),borderColor:i.error.main},textContainer:{textAlign:"center"},text:{marginBottom:n(3),marginTop:n(3)},icon:{width:51,height:51,color:i.text.primary}}},Nr={horizontal:"left",vertical:"bottom"},Wr=function(e,i){return $r(e.file)?a.createElement("img",{className:i.image,role:"presentation",src:e.data}):a.createElement(Ct,{className:i.image})},Tt=function(t){ze(e,t);function e(){var i,r;De(this,e);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return r=Ne(this,(i=We(e)).call.apply(i,[this].concat(o))),r.state={openSnackBar:!1,snackbarMessage:"",snackbarVariant:"success"},r.handleDropAccepted=function(){var s=fe(X.mark(function l(c,u){var f,p,v,E,m,w,k,h,g;return X.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(f=r.props,p=f.fileObjects,v=f.filesLimit,E=f.getFileAddedMessage,m=f.getFileLimitExceedMessage,w=f.onAdd,k=f.onDrop,!(v>1&&p.length+c.length>v)){y.next=4;break}return r.setState({openSnackBar:!0,snackbarMessage:m(v),snackbarVariant:"error"},r.notifyAlert),y.abrupt("return");case 4:return k&&k(c,u),y.next=7,Promise.all(c.map(function(){var S=fe(X.mark(function x(R){var N;return X.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Pt(R);case 2:return N=_.sent,_.abrupt("return",{file:R,data:N});case 4:case"end":return _.stop()}},x)}));return function(x){return S.apply(this,arguments)}}()));case 7:h=y.sent,w&&w(h),g=h.reduce(function(S,x){return S+E(x.file.name)},""),r.setState({openSnackBar:!0,snackbarMessage:g,snackbarVariant:"success"},r.notifyAlert);case 11:case"end":return y.stop()}},l)}));return function(l,c){return s.apply(this,arguments)}}(),r.handleDropRejected=function(s,l){var c=r.props,u=c.acceptedFiles,f=c.filesLimit,p=c.fileObjects,v=c.getDropRejectMessage,E=c.getFileLimitExceedMessage,m=c.maxFileSize,w=c.onDropRejected,k="";p.length+s.length>f?k=E(f):s.forEach(function(h){k=v(h,u,m)}),w&&w(s,l),r.setState({openSnackBar:!0,snackbarMessage:k,snackbarVariant:"error"},r.notifyAlert)},r.handleRemove=function(s){return function(l){l.stopPropagation();var c=r.props,u=c.fileObjects,f=c.getFileRemovedMessage,p=c.onDelete,v=u[s];p&&p(v,s),r.setState({openSnackBar:!0,snackbarMessage:f(v.file.name),snackbarVariant:"info"},r.notifyAlert)}},r.handleCloseSnackbar=function(){r.setState({openSnackBar:!1})},r}return $e(e,[{key:"notifyAlert",value:function(){var r=this.props.onAlert,n=this.state,o=n.openSnackBar,d=n.snackbarMessage,s=n.snackbarVariant;o&&r&&r(d,s)}},{key:"render",value:function(){var r=this,n=this.props,o=n.acceptedFiles,d=n.alertSnackbarProps,s=n.classes,l=n.disableRejectionFeedback,c=n.dropzoneClass,u=n.dropzoneParagraphClass,f=n.dropzoneProps,p=n.dropzoneText,v=n.fileObjects,E=n.filesLimit,m=n.getPreviewIcon,w=n.Icon,k=n.inputProps,h=n.maxFileSize,g=n.previewChipProps,C=n.previewGridClasses,y=n.previewGridProps,S=n.previewText,x=n.showAlerts,R=n.showFileNames,N=n.showFileNamesInPreview,D=n.showPreviews,_=n.showPreviewsInDropzone,L=n.useChipsForPreview,j=this.state,V=j.openSnackBar,T=j.snackbarMessage,B=j.snackbarVariant,z=o==null?void 0:o.join(","),P=E>1,M=D&&v.length>0,$=_&&v.length>0;return a.createElement(a.Fragment,null,a.createElement(Yt,b({},f,{accept:z,onDropAccepted:this.handleDropAccepted,onDropRejected:this.handleDropRejected,maxSize:h,multiple:P}),function(O){var I=O.getRootProps,A=O.getInputProps,U=O.isDragActive,W=O.isDragReject;return a.createElement("div",I({className:G(s.root,c,U&&s.active,!l&&W&&s.invalid)}),a.createElement("input",A(k)),a.createElement("div",{className:s.textContainer},a.createElement(Be,{variant:"h5",component:"p",className:G(s.text,u)},p),w?a.createElement(w,{className:s.icon}):a.createElement(Qt,{className:s.icon})),$&&a.createElement(st,{fileObjects:v,handleRemove:r.handleRemove,getPreviewIcon:m,showFileNames:R,useChipsForPreview:L,previewChipProps:g,previewGridClasses:C,previewGridProps:y}))}),M&&a.createElement(a.Fragment,null,a.createElement(Be,{variant:"subtitle1",component:"span"},S),a.createElement(st,{fileObjects:v,handleRemove:this.handleRemove,getPreviewIcon:m,showFileNames:N,useChipsForPreview:L,previewChipProps:g,previewGridClasses:C,previewGridProps:y})),(typeof x=="boolean"&&x||Array.isArray(x)&&x.includes(B))&&a.createElement(Vn,b({anchorOrigin:Nr,autoHideDuration:6e3},d,{open:V,onClose:this.handleCloseSnackbar}),a.createElement(Lr,{onClose:this.handleCloseSnackbar,variant:B,message:T})))}}]),e}(a.PureComponent);Tt.defaultProps={acceptedFiles:[],filesLimit:3,fileObjects:[],maxFileSize:3e6,dropzoneText:"Drag and drop a file here or click",previewText:"Preview:",disableRejectionFeedback:!1,showPreviews:!1,showPreviewsInDropzone:!0,showFileNames:!1,showFileNamesInPreview:!1,useChipsForPreview:!1,previewChipProps:{},previewGridClasses:{},previewGridProps:{},showAlerts:!0,alertSnackbarProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"},autoHideDuration:6e3},getFileLimitExceedMessage:function(e){return"Maximum allowed number of files exceeded. Only ".concat(e," allowed")},getFileAddedMessage:function(e){return"File ".concat(e," successfully added.")},getPreviewIcon:Wr,getFileRemovedMessage:function(e){return"File ".concat(e," removed.")},getDropRejectMessage:function(e,i,r){var n="File ".concat(e.name," was rejected. ");return i.includes(e.type)||(n+="File type not supported. "),e.size>r&&(n+="File is too big. Size limit is "+Dr(r)+". "),n}};Ce.shape({file:Ce.object,data:Ce.any});var jr=ae(zr,{name:"MuiDropzoneArea"})(Tt);function Vr(t){var e=t.cancelButtonText,i=t.dialogProps,r=t.dialogTitle,n=t.fullWidth,o=t.maxWidth,d=t.onClose,s=t.onSave,l=t.open,c=t.submitButtonText,u=Z(t,["cancelButtonText","dialogProps","dialogTitle","fullWidth","maxWidth","onClose","onSave","open","submitButtonText"]);return[{cancelButtonText:e,dialogProps:i,dialogTitle:r,fullWidth:n,maxWidth:o,onClose:d,onSave:s,open:l,submitButtonText:c},u]}var $t=function(t){ze(e,t);function e(){return De(this,e),Ne(this,We(e).apply(this,arguments))}return $e(e,[{key:"render",value:function(){var r=Vr(this.props),n=Le(r,2),o=n[0],d=n[1],s=o.cancelButtonText,l=o.dialogProps,c=o.dialogTitle,u=o.fullWidth,f=o.maxWidth,p=o.onClose,v=o.onSave,E=o.open,m=o.submitButtonText,w=d.fileObjects.length===0;return a.createElement(_n,b({},l,{fullWidth:u,maxWidth:f,onClose:p,open:E}),a.createElement(tn,null,c),a.createElement(nn,null,a.createElement(jr,d)),a.createElement(rn,null,a.createElement(nt,{color:"primary",onClick:p},s),a.createElement(nt,{color:"primary",disabled:w,onClick:v},m)))}}]),e}(a.PureComponent);$t.defaultProps={open:!1,dialogTitle:"Upload file",dialogProps:{},fullWidth:!0,maxWidth:"sm",cancelButtonText:"Cancel",submitButtonText:"Submit",showPreviews:!0,showPreviewsInDropzone:!1,showFileNamesInPreview:!0};var Dt=function(t){ze(e,t);function e(){var i,r;De(this,e);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return r=Ne(this,(i=We(e)).call.apply(i,[this].concat(o))),r.state={fileObjects:[]},r.notifyFileChange=function(){var s=r.props.onChange,l=r.state.fileObjects;s&&s(l.map(function(c){return c.file}))},r.loadInitialFiles=fe(X.mark(function s(){var l,c;return X.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return l=r.props.initialFiles,f.prev=1,f.next=4,Promise.all(l.map(function(){var p=fe(X.mark(function v(E){var m,w;return X.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(typeof E!="string"){h.next=6;break}return h.next=3,Mr(E);case 3:m=h.sent,h.next=7;break;case 6:m=E;case 7:return h.next=9,Pt(m);case 9:return w=h.sent,h.abrupt("return",{file:m,data:w});case 11:case"end":return h.stop()}},v)}));return function(v){return p.apply(this,arguments)}}()));case 4:c=f.sent,r.setState(function(p){return{fileObjects:[].concat(p.fileObjects,c)}},r.notifyFileChange),f.next=11;break;case 8:f.prev=8,f.t0=f.catch(1),console.log(f.t0);case 11:case"end":return f.stop()}},s,null,[[1,8]])})),r.addFiles=function(){var s=fe(X.mark(function l(c){var u;return X.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:u=r.props.filesLimit,r.setState(function(v){return u<=1?{fileObjects:[].concat(c[0])}:{fileObjects:[].concat(v.fileObjects,c)}},r.notifyFileChange);case 2:case"end":return p.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),r.deleteFile=function(s,l){event.stopPropagation();var c=r.props.onDelete,u=r.state.fileObjects,f=u.filter(function(p,v){return v!==l});c&&c(s.file),r.setState({fileObjects:f},r.notifyFileChange)},r.handleClose=function(s){var l=r.props,c=l.clearOnUnmount,u=l.onClose;u&&u(s),c&&r.setState({fileObjects:[]},r.notifyFileChange)},r.handleSave=function(s){var l=r.props,c=l.clearOnUnmount,u=l.onSave,f=r.state.fileObjects;u&&u(f.map(function(p){return p.file}),s),c&&r.setState({fileObjects:[]},r.notifyFileChange)},r}return $e(e,[{key:"componentDidMount",value:function(){this.loadInitialFiles()}},{key:"componentWillUnmount",value:function(){var r=this.props.clearOnUnmount;r&&this.setState({fileObjects:[]},this.notifyFileChange)}},{key:"render",value:function(){var r=this.state.fileObjects;return a.createElement($t,b({},this.props,{fileObjects:r,onAdd:this.addFiles,onDelete:this.deleteFile,onClose:this.handleClose,onSave:this.handleSave}))}}]),e}(a.PureComponent);Dt.defaultProps={clearOnUnmount:!0,filesLimit:3,initialFiles:[]};var Xe={},Hr=ie,Gr=ce;Object.defineProperty(Xe,"__esModule",{value:!0});var Mt=Xe.default=void 0,Ur=Gr(a),qr=Hr(le()),Kr=(0,qr.default)(Ur.createElement("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"}),"AddPhotoAlternate");Mt=Xe.default=Kr;function Se({type:t}){const e=K.useMemo(me().Layouts.Table.V2,[]),i=K.useMemo(me().Layouts.Sections.V1,[]),r=K.useMemo(()=>Xt.byName("mapps-component-icon-button").component),[n,o]=K.useState(!1),{getLabel:d,translate:s}=ut(),[l,c]=K.useState([]),[u,f]=K.useState({}),{selectors:{storageAdminReducer:p},actions:{clean:v,getProjectStorage:E,removeImage:m,verifyFile:w,uploadBlob:k}}=bt();K.useEffect(()=>(E({type:t}),v),[]);function h(C,y){m({...y})}function g(C){const y=[];if(C.length!=0)for(let S=0;S<C.length;S++){const x=C[S],R=new FileReader;R.readAsDataURL(x),R.onload=()=>{const N={id:tt(),name:x.name,type:x.type,size:Math.round(x.size/1e3)+" kB",blob:R.result,file:x};y.push(N);const D=y.map(_=>{const L={};return L.id=tt(),L.blob=R.result.split("base64,")[1],L.type=_.type,k(L)});Promise.all(D).then(_=>{E({type:t})})}}}return pe(J,{container:!0,children:[pe(J,{item:!0,xs:8,children:[F(Dt,{filesLimit:1,dropzoneText:s(d,"Upload Image"),acceptedFiles:["image/jpeg","image/png","image/bmp"],maxFileSize:25e5,useChipsForPreview:!1,showPreviewsInDropzone:!1,open:n,showAlerts:["error"],onChange:C=>{c(C)},onClose:()=>{o(!1),c([])},onSave:()=>{g(l),o(!1),c([])},previewText:["error","info","success"],showPreviews:!0,cancelButtonText:s(d,"CANCEL_BUTTON"),submitButtonText:s(d,"SUBMIT_BUTTON")}),F(e,{isLoading:p.getImagesIsLoading,icons:Ee,freeActions:[t=="PROJECT"&&F(r,{onClick:()=>o(!0),children:F(Mt,{style:{fontSize:40}})})],actions:[C=>({icon:Ee.Delete,label:"Remove Image",onClick:h})],...gt({type:t}),onRowSelectionChange:C=>{const y=Object.keys(C).map(S=>S);if(y.length>0){const S=p.files.find(x=>x.id==y[0]);f(S)}},data:p.files,title:"Files"})]}),F(J,{container:!0,item:!0,xs:4,style:{justifyContent:"center"},children:F(i,{title:"Preview File",children:F(Ve,{blob:u,params:{size:"blob_id"}})})})]})}function Yr(t){const e=K.useMemo(me().Layouts.Table.V2,[]),i=K.useMemo(me().Layouts.Sections.V1,[]),[r,n]=K.useState({}),{selectors:{storageAdminReducer:o},actions:{clean:d,getUnverifiedImages:s,removeImage:l,verifyFile:c}}=bt();K.useEffect(()=>(s(),d),[]);function u(p,v){l({...v})}const f=(p,v)=>{c({...v})};return pe(J,{container:!0,children:[F(J,{item:!0,xs:8,children:F(e,{isLoading:o.getImagesIsLoading,icons:Ee,actions:[p=>({icon:Ee.Check,label:"Verify Image",onClick:f}),p=>({icon:Ee.Delete,label:"Remove Image",onClick:u})],...gt({}),onRowSelectionChange:p=>{const v=Object.keys(p).map(E=>E);if(v.length>0){const E=o.files.find(m=>m.id==v[0]);n(E)}},data:o.files,title:"To Verify Files"})}),F(J,{container:!0,item:!0,xs:4,style:{justifyContent:"center"},children:F(i,{title:"Preview File",children:F(Ve,{blob:r,params:{size:"blob_id"}})})})]})}function ra(){const t=K.useMemo(me().Layouts.Containers.V1),e=K.useMemo(me().Layouts.Tab.V1),{translate:i,getLabel:r}=ut();return pe(J,{container:!0,style:{justifyContent:"center"},children:[pe(t,{title:"TODOOOO",xs:12,sm:12,children:["TODOOOOOOs",pe(J,{children:["Edit File,",F("br",{}),"Save TAG/LABEL for file,",F("br",{}),"Save extension,",F("br",{}),"Insted of image show icon if pdf",F("br",{}),"FLAG - AUTO GENERATED"]})]}),F(t,{title:"Storage",icon:F(ht,{}),xs:12,sm:12,children:F(e,{defaultTab:0,tabConfig:[{label:i(r,"To Verify"),render:()=>F(Yr,{},1)},{label:i(r,"Categories"),render:()=>F(Se,{type:"CATEGORIES"},2)},{label:i(r,"Users"),render:()=>F(Se,{type:"USERS"},3)},{label:i(r,"Items"),render:()=>F(Se,{type:"ITEMS"},4)},{label:i(r,"Project"),render:()=>F(Se,{type:"PROJECT"},5)}]})})]})}export{ra as default};
