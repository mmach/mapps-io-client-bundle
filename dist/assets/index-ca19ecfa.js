var w=Object.defineProperty;var L=(p,h)=>w(p,"name",{value:h,configurable:!0});import{M as b,e as t,C,R as u,u as E,m as I,G as n,T as N,j as A}from"./index-4fe59462.js";import{M as H,d as M}from"./index-16619c2d.js";function J({title:p,titleToken:h,type:s,field:l,isActive:f,onClick:T,pluginName:d,filtering:y}){const k=b().ButtonLoader();try{let o={field:l,type:s,titleToken:h,title:p,isActive:f,pluginName:d,filtering:y};return s=="checkbox"?o={...o,render:c=>{const i=l.split(".").reduce((a,r,m)=>a[r],c);return t(C,{style:{display:"flex"},noLabel:!0,disabled:!0,value:!!i})}}:s=="!checkbox"?o={...o,render:c=>{const i=l.split(".").reduce((a,r,m)=>a[r],c);return t(C,{style:{display:"flex"},noLabel:!0,disabled:!0,value:!i})}}:s=="button"?o={...o,render:c=>{const i=l.split(".").reduce((a,r,m)=>a[r],c);return t(k,{style:{fontSize:"0.65rem",width:"100%",margin:"0px",height:"100%"},"data-key":c.id,variant:"clean",onClick:T,value:i})}}:o={...o,render:c=>l.split(".").reduce((a,r,m)=>a[r],c)||""},o}catch(o){return console.log(o),{}}}L(J,"TableCellV1");function R({title:p,data:h,columns:s,detailsContainerPlugins:l,options:f={},freeActions:T,detailPanelPlugin:d,pageSize:y,isLoading:k,actions:o,style:c}){const{translate:i,getLabel:a}=E(),[r,m]=u.useState(s.filter(e=>e.isActive).map(e=>e.titleToken)),G=u.useMemo(()=>[...s.map(e=>J(e)).map(e=>({...e,hidden:!r.includes(e.titleToken),title:i(a,e.titleToken)}))],[r]),z=u.useMemo(b().ButtonLoader),B=u.useMemo(b().Layouts.Sections.V2),V=u.useMemo(b().JsonToGrid);u.useMemo(b().IconButton);const O=u.useMemo(()=>d&&I.byName(d).component,[d]),j=u.useMemo(()=>s.map((e,v)=>t(z,{style:{fontSize:"0.65rem",margin:"0px",height:"100%",color:r.includes(e.titleToken)?"var(--mapps-primary-color-l1)":"var(--mapps-a-default-color)"},"data-key":e.titleToken,value:i(a,e.titleToken),variant:"clean",onClick:S=>{const g=S.currentTarget.dataset.key;r.includes(g)?m(r.filter(x=>x&&x!=g)):m([...r,g].filter(x=>x))}},v)),[r,s]);try{return t(n,{container:!0,className:"mapps-io-table-container",children:t(H,{isLoading:k,icons:N,options:{pageSize:y,actionsColumnIndex:-1,...f},columns:G,data:h,title:p,actions:o,detailPanel:[l&&{icon:N.NextPage,tooltip:"Expand",iconProps:{fontSize:"small"},render:e=>(console.log(e),t(n,{className:"mapps-io-table-expanded-row",children:t(V,{...e,currentGrid:l})}))},d&&{icon:N.NextPage,tooltip:"Expand",iconProps:{fontSize:"small"},render:e=>t(n,{className:"mapps-io-table-expanded-row",children:t(O,{...e,currentGrid:l})})}].filter(e=>e),components:{Header:e=>t(n,{className:"mapps-io-table-header",children:t(M.MTableHeader,{...e})}),Body:e=>t(n,{className:"mapps-io-table-body",children:t(M.MTableBody,{...e})}),Toolbar:e=>A(n,{children:[t(M.MTableToolbar,{...e,children:t("span",{children:"KUPAA"})}),A(n,{container:!0,spaceing:3,children:[t(n,{item:!0,xs:10,children:t(B,{title:"Show columns",children:j})}),T&&t(n,{item:!0,xs:2,children:t(B,{title:"Actions",style:{width:"100%"},children:T.map((v,S)=>t(n,{children:v},S))})})]})]}),Action:e=>t(n,{children:t(M.MTableAction,{...e,size:"small"})})}})})}catch(e){return console.log(e),"OOOOPS"}}L(R,"TableV1");const P=u.memo(R);export{P as default};
