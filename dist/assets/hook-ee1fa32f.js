import{L as E,N as a,a as o,X as P,O as c,Q as i,S as r}from"./index-1a5b9518.js";const s=t=>{const e={upsertAction:n=>t(new c().commandThunt(i.Actions.UPSERT_ACTIONS,n)),deleteAction:({id:n})=>t(new c().commandThunt(i.Actions.DELETE_ACTIONS,{id:n})),upsertActionGlobal:n=>t(new c().commandThunt(i.Actions.UPSERT_GLOBAL_ACTIONS,n)),deleteActionGlobal:n=>t(new c().commandThunt(i.Actions.DELETE_GLOBAL_ACTIONS,n)),getActions:n=>t(new c().queryThunt(r.Actions.GET_ACTIONS,n)),getAllActions:n=>t(new c().queryThunt(r.Actions.GET_GLOBAL_ACTIONS,n)),grantPrivs:n=>t(new c().commandThunt(i.Actions.UPSERT_ACTIONS_PRIVS,n)),revokePrivs:n=>t(new c().commandThunt(i.Actions.DELETE_ACTIONS_PRIVS,n))};return{...e,upsertAction:async n=>{await e.upsertAction(n),await e.getActions()},deleteAction:async n=>{await e.deleteAction(n),await e.getActions()},upsertActionGlobal:async n=>{await e.upsertActionGlobal(n),await e.upsertAction({action_id:n.id,id:P(),status:!0}),await e.getAllActions(),await e.getActions()},deleteActionGlobal:async n=>{await e.deleteActionGlobal(n),await e.getAllActions(),await e.getActions()},grantPrivs:async n=>{await e.grantPrivs(n),await e.getActions()},revokePrivs:async n=>{await e.revokePrivs(n),await e.getActions()}}},k=()=>t=>t.ActionsAdminReducer.actionsGlobal,I=()=>t=>t.ActionsAdminReducer.actions,R=t=>e=>t?e.ActionsAdminReducer.actions.find(A=>A.id==t):null;function _(){const t=E(),{actionsAdminReducer:e}=a(C=>({actionsAdminReducer:C.ActionsAdminReducer})),[n,A]=o.useState(),l=a(k()),u=a(I()),d=a(R(n)),g=o.useCallback(s(t).getAllActions,[t]),m=o.useCallback(s(t).getActions,[t]),T=o.useCallback(s(t).upsertAction,[t]),w=o.useCallback(s(t).deleteAction,[t]),b=o.useCallback(s(t).deleteActionGlobal,[t]),S=o.useCallback(s(t).upsertActionGlobal,[t]),G=o.useCallback(s(t).grantPrivs,[t]),v=o.useCallback(s(t).revokePrivs,[t]);return{selectors:{actionsAdminReducer:e,getAllActionsGlobalReducer:l,getAllActionsReducer:u,getActionByIdReducer:d},actions:{getAllActions:g,getActions:m,upsertAction:T,deleteAction:w,deleteActionGlobal:b,upsertActionGlobal:S,grantPrivs:G,revokePrivs:v},state:{actionId:n},hooks:{setActionId:A},functions:{}}}export{_ as u};
